/*!
*  filename: ej2-file-utils.min.js
*  version : 16.1.37
*  Copyright Syncfusion Inc. 2001 - 2018. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
/*!
*  filename: ej2-file-utils.min.js
*  version : 16.1.32
*  Copyright Syncfusion Inc. 2001 - 2018. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/

var ej=function(t){"use strict";function e(t,e){if(null===t||void 0===t)throw new Error("ArgumentException: "+e+" cannot be null or undefined")}var n=function(){function t(t){this.emitBOM=!0,this.encodingType="Ansi",this.initBOM(t)}return Object.defineProperty(t.prototype,"includeBom",{get:function(){return this.emitBOM},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.encodingType},set:function(t){this.encodingType=t},enumerable:!0,configurable:!0}),t.prototype.initBOM=function(t){this.emitBOM=void 0===t||null===t||t},t.prototype.getByteCount=function(t){return e(t,"string"),""===t?this.utf8Len(t.charCodeAt(0)):(null!==this.type&&void 0!==this.type||(this.type="Ansi"),this.getByteCountInternal(t,0,t.length))},t.prototype.utf8Len=function(t){return t<=127?1:t<=2047?2:t<=65535?3:t<=2097151?4:0},t.prototype.isHighSurrogate=function(t){return t>=55296&&t<=56319},t.prototype.toCodepoint=function(t,e){return((t=(1023&t)<<10)|1023&e)+65536},t.prototype.getByteCountInternal=function(t,e,n){var r=0;if("Utf8"===this.encodingType||"Unicode"===this.encodingType){for(var i="Utf8"===this.encodingType,o=0;o<n;o++){var f=t.charCodeAt(i?e:e++);if(this.isHighSurrogate(f))if(i){var s=f,u=t.charCodeAt(++e);r+=this.utf8Len(this.toCodepoint(s,u))}else r+=4,++o;else r+=i?this.utf8Len(f):2;i&&e++}return r}return r=n},t.prototype.getBytes=function(t,n,r){if(e(t,"string"),e(n,"charIndex"),e(r,"charCount"),n<0||r<0)throw new RangeError("Argument Out Of Range Exception: charIndex or charCount is less than zero");if(t.length-n<r)throw new RangeError("Argument Out Of Range Exception: charIndex and charCount do not denote a valid range in string");if(""===t)return new ArrayBuffer(0);null!==this.type&&void 0!==this.type||(this.type="Ansi");var i=this.getByteCountInternal(t,n,r);switch(this.type){case"Utf8":return this.getBytesOfUtf8Encoding(i,t,n,r);case"Unicode":return this.getBytesOfUnicodeEncoding(i,t,n,r);default:return this.getBytesOfAnsiEncoding(i,t,n,r)}},t.prototype.getString=function(t,n,r){if(e(t,"bytes"),e(n,"index"),e(r,"count"),n<0||r<0)throw new RangeError("Argument Out Of Range Exception: index or count is less than zero");if(t.byteLength-n<r)throw new RangeError("Argument Out Of Range Exception: index and count do not denote a valid range in bytes");if(0===t.byteLength||0===r)return"";null!==this.type&&void 0!==this.type||(this.type="Ansi");var i="",o=new Uint8Array(t);switch(this.type){case"Utf8":return this.getStringOfUtf8Encoding(o,n,r);case"Unicode":var f=new Uint16Array(t);return i=this.getStringofUnicodeEncoding(f,n,r);default:for(var s=n,u=0;u<r;u++){var a=o[s];i+=String.fromCharCode(a),s++}return i}},t.prototype.getBytesOfAnsiEncoding=function(t,e,n,r){for(var i=new ArrayBuffer(t),o=new Uint8Array(i),f=0,s=0;s<r;s++){var u=e.charCodeAt(n++);o[f]=u<2048?u:63,f++}return i},t.prototype.getBytesOfUtf8Encoding=function(t,e,n,r){for(var i=new ArrayBuffer(t),o=new Uint8Array(i),f=n,s=0,u=0;u<r;u++){var a=e.charCodeAt(f);a<=127?o[s]=a:a<2048?(o[s]=192|a>>6,o[++s]=128|63&a):a<55296||a>=57344?(o[s]=224|a>>12,o[++s]=128|a>>6&63,o[++s]=128|63&a):(o[s]=239,o[++s]=191,o[++s]=189),++s,++f}return i},t.prototype.getBytesOfUnicodeEncoding=function(t,e,n,r){for(var i=new ArrayBuffer(t),o=new Uint16Array(i),f=0;f<r;f++){var s=e.charCodeAt(f);o[f]=s}return i},t.prototype.getStringOfUtf8Encoding=function(t,e,n){var r=0,i=e,o="";for(r;r<n;r++){for(var f=t[i++];i>t.length;)return o;f>127&&(f>191&&f<224&&i<n?f=(31&f)<<6|63&t[i]:f>223&&f<240&&i<t.byteLength?f=(15&f)<<12|(63&t[i])<<6|63&t[++i]:f>239&&f<248&&i<t.byteLength&&(f=(7&f)<<18|(63&t[i])<<12|(63&t[++i])<<6|63&t[++i]),++i),o+=String.fromCharCode(f)}return o},t.prototype.getStringofUnicodeEncoding=function(t,e,n){if(n>t.length)throw new RangeError("ArgumentOutOfRange_Count");for(var r=new Uint16Array(n),i=0;i<n&&i<t.length;i++)r[i]=t[e++];return String.fromCharCode.apply(null,r)},t.prototype.destroy=function(){this.emitBOM=void 0,this.encodingType=void 0},t}(),r=function(){function t(){}return t.save=function(t,e){if(null===t||void 0===t||""===t)throw new Error("ArgumentException: fileName cannot be undefined, null or empty");var n=t.substring(t.lastIndexOf(".")+1,t.length),r=this.getMimeType(n);if(""!==r&&(e=new Blob([e],{type:r})),this.isMicrosoftBrowser)navigator.msSaveBlob(e,t);else{var i=document.createElementNS("http://www.w3.org/1999/xhtml","a");this.saveInternal(t,n,e,i,"download"in i)}},t.saveInternal=function(t,e,n,r,i){if(i){r.download=t;var o=window.URL.createObjectURL(n);r.href=o;var f=document.createEvent("MouseEvent");f.initEvent("click",!0,!0),r.dispatchEvent(f),setTimeout(function(){window.URL.revokeObjectURL(o),o=void 0})}else if("docx"!==e&&"xlsx"!==e){var s=window.URL.createObjectURL(n);window.open(s,"_blank")||(window.location.href=s)}else{var u=new FileReader;u.onloadend=function(){window.open(u.result,"_blank")||(window.location.href=u.result)},u.readAsDataURL(n)}},t.getMimeType=function(t){var e="";switch(t){case"html":e="text/html";break;case"pdf":e="application/pdf";break;case"docx":e="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case"xlsx":e="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case"txt":e="text/plain"}return e},t}(),i=function(){function t(t){this.bufferBlob=new Blob([""]),this.bufferText="",this.init(t),r.isMicrosoftBrowser=!!navigator.msSaveBlob}return Object.defineProperty(t.prototype,"buffer",{get:function(){return this.flush(),this.bufferBlob},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"encoding",{get:function(){return this.enc},enumerable:!0,configurable:!0}),t.prototype.init=function(t){null===t||void 0===t?(this.enc=new n(!1),this.enc.type="Utf8"):(this.enc=t,this.setBomByte())},t.prototype.setBomByte=function(){if(this.encoding.includeBom)switch(this.encoding.type){case"Unicode":var t=new ArrayBuffer(2),e=new Uint8Array(t);e[0]=255,e[1]=254,this.bufferBlob=new Blob([t]);break;case"Utf8":var n=new ArrayBuffer(3),r=new Uint8Array(n);r[0]=239,r[1]=187,r[2]=191,this.bufferBlob=new Blob([n]);break;default:this.bufferBlob=new Blob([""])}},t.prototype.save=function(t){""!==this.bufferText&&this.flush(),r.save(t,this.buffer)},t.prototype.write=function(t){if(void 0===this.encoding)throw new Error("Object Disposed Exception: current writer is disposed");e(t,"string"),this.bufferText+=t,this.bufferText.length>=10240&&this.flush()},t.prototype.flush=function(){if(void 0!==this.bufferText&&null!==this.bufferText&&0!==this.bufferText.length){var t=this.encoding.getBytes(this.bufferText,0,this.bufferText.length);this.bufferText="",this.bufferBlob=new Blob([this.bufferBlob,t])}},t.prototype.writeLine=function(t){if(void 0===this.encoding)throw new Error("Object Disposed Exception: current writer is disposed");e(t,"string"),this.bufferText=this.bufferText+t+"\r\n",this.bufferText.length>=10240&&this.flush()},t.prototype.destroy=function(){this.bufferBlob=void 0,this.bufferText=void 0,this.enc instanceof n&&this.enc.destroy(),this.enc=void 0},t}(),o=Object.freeze({StreamWriter:i,Encoding:n,validateNullOrUndefined:e,Save:r});return t.fileutils=o,t}({});
//# sourceMappingURL=ej2-file-utils.min.js.map
