{"version":3,"file":"ej2-excel-export.min.js","sources":["../../node_modules/@syncfusion/ej2-file-utils/dist/src/es5/encoding.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/util.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/dom.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/notify-property-change.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/animation.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/internationalization.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/template.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/template-engine.js","../src/es5/cell-style.js","../src/es5/cell.js","../src/es5/column.js","../src/es5/row.js","../src/es5/worksheets.js","../src/es5/worksheet.js","../../node_modules/@syncfusion/ej2-file-utils/dist/src/es5/save.js","../../node_modules/@syncfusion/ej2-compression/dist/src/es5/compression-writer.js","../../node_modules/@syncfusion/ej2-compression/dist/src/es5/zip-archive.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/ajax.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/event-handler.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/observer.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/base.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/browser.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/intl-base.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/canvas-renderer.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/module-loader.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/child-property.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/parser-base.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/number-formatter.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/date-formatter.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/component.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/date-parser.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/number-parser.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/draggable.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/droppable.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/keyboard.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/l10n.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/svg-renderer.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/touch.js","../src/es5/value-formatter.js","../src/es5/csv-helper.js","../src/es5/blob-helper.js","../src/es5/workbook.js"],"sourcesContent":["/**\n * Encoding class: Contains the details about encoding type, whether to write a Unicode byte order mark (BOM).\n * ```typescript\n * let encoding : Encoding = new Encoding();\n * encoding.type = 'Utf8';\n * encoding.getBytes('Encoding', 0, 5);\n * ```\n */\nvar Encoding = /** @class */ (function () {\n    /**\n     * Initializes a new instance of the Encoding class. A parameter specifies whether to write a Unicode byte order mark\n     * @param  {boolean} includeBom?-true to specify that a Unicode byte order mark is written; otherwise, false.\n     */\n    function Encoding(includeBom) {\n        this.emitBOM = true;\n        this.encodingType = 'Ansi';\n        this.initBOM(includeBom);\n    }\n    Object.defineProperty(Encoding.prototype, \"includeBom\", {\n        /**\n         * Gets a value indicating whether to write a Unicode byte order mark\n         * @returns boolean- true to specify that a Unicode byte order mark is written; otherwise, false\n         */\n        get: function () {\n            return this.emitBOM;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Encoding.prototype, \"type\", {\n        /**\n         * Gets the encoding type.\n         * @returns EncodingType\n         */\n        get: function () {\n            return this.encodingType;\n        },\n        /**\n         * Sets the encoding type.\n         * @param  {EncodingType} value\n         */\n        set: function (value) {\n            this.encodingType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Initialize the includeBom to emit BOM or Not\n     * @param  {boolean} includeBom\n     */\n    Encoding.prototype.initBOM = function (includeBom) {\n        if (includeBom === undefined || includeBom === null) {\n            this.emitBOM = true;\n        }\n        else {\n            this.emitBOM = includeBom;\n        }\n    };\n    /**\n     * Calculates the number of bytes produced by encoding the characters in the specified string\n     * @param  {string} chars - The string containing the set of characters to encode\n     * @returns {number} - The number of bytes produced by encoding the specified characters\n     */\n    Encoding.prototype.getByteCount = function (chars) {\n        var byteCount = 0;\n        validateNullOrUndefined(chars, 'string');\n        if (chars === '') {\n            var byte = this.utf8Len(chars.charCodeAt(0));\n            return byte;\n        }\n        if (this.type === null || this.type === undefined) {\n            this.type = 'Ansi';\n        }\n        return this.getByteCountInternal(chars, 0, chars.length);\n    };\n    /**\n     * Return the Byte of character\n     * @param  {number} codePoint\n     * @returns {number}\n     */\n    Encoding.prototype.utf8Len = function (codePoint) {\n        var bytes = codePoint <= 0x7F ? 1 :\n            codePoint <= 0x7FF ? 2 :\n                codePoint <= 0xFFFF ? 3 :\n                    codePoint <= 0x1FFFFF ? 4 : 0;\n        return bytes;\n    };\n    /**\n     * for 4 byte character return surrogate pair true, otherwise false\n     * @param  {number} codeUnit\n     * @returns {boolean}\n     */\n    Encoding.prototype.isHighSurrogate = function (codeUnit) {\n        return codeUnit >= 0xD800 && codeUnit <= 0xDBFF;\n    };\n    /**\n     * for 4byte character generate the surrogate pair\n     * @param  {number} highCodeUnit\n     * @param  {number} lowCodeUnit\n     */\n    Encoding.prototype.toCodepoint = function (highCodeUnit, lowCodeUnit) {\n        highCodeUnit = (0x3FF & highCodeUnit) << 10;\n        var u = highCodeUnit | (0x3FF & lowCodeUnit);\n        return u + 0x10000;\n    };\n    /**\n     * private method to get the byte count for specific charindex and count\n     * @param  {string} chars\n     * @param  {number} charIndex\n     * @param  {number} charCount\n     */\n    Encoding.prototype.getByteCountInternal = function (chars, charIndex, charCount) {\n        var byteCount = 0;\n        if (this.encodingType === 'Utf8' || this.encodingType === 'Unicode') {\n            var isUtf8 = this.encodingType === 'Utf8';\n            for (var i = 0; i < charCount; i++) {\n                var charCode = chars.charCodeAt(isUtf8 ? charIndex : charIndex++);\n                if (this.isHighSurrogate(charCode)) {\n                    if (isUtf8) {\n                        var high = charCode;\n                        var low = chars.charCodeAt(++charIndex);\n                        byteCount += this.utf8Len(this.toCodepoint(high, low));\n                    }\n                    else {\n                        byteCount += 4;\n                        ++i;\n                    }\n                }\n                else {\n                    if (isUtf8) {\n                        byteCount += this.utf8Len(charCode);\n                    }\n                    else {\n                        byteCount += 2;\n                    }\n                }\n                if (isUtf8) {\n                    charIndex++;\n                }\n            }\n            return byteCount;\n        }\n        else {\n            byteCount = charCount;\n            return byteCount;\n        }\n    };\n    /**\n     * Encodes a set of characters from the specified string into the ArrayBuffer.\n     * @param  {string} s- The string containing the set of characters to encode\n     * @param  {number} charIndex-The index of the first character to encode.\n     * @param  {number} charCount- The number of characters to encode.\n     * @returns {ArrayBuffer} - The ArrayBuffer that contains the resulting sequence of bytes.\n     */\n    Encoding.prototype.getBytes = function (s, charIndex, charCount) {\n        validateNullOrUndefined(s, 'string');\n        validateNullOrUndefined(charIndex, 'charIndex');\n        validateNullOrUndefined(charCount, 'charCount');\n        if (charIndex < 0 || charCount < 0) {\n            throw new RangeError('Argument Out Of Range Exception: charIndex or charCount is less than zero');\n        }\n        if (s.length - charIndex < charCount) {\n            throw new RangeError('Argument Out Of Range Exception: charIndex and charCount do not denote a valid range in string');\n        }\n        var bytes;\n        if (s === '') {\n            bytes = new ArrayBuffer(0);\n            return bytes;\n        }\n        if (this.type === null || this.type === undefined) {\n            this.type = 'Ansi';\n        }\n        var byteCount = this.getByteCountInternal(s, charIndex, charCount);\n        switch (this.type) {\n            case 'Utf8':\n                bytes = this.getBytesOfUtf8Encoding(byteCount, s, charIndex, charCount);\n                return bytes;\n            case 'Unicode':\n                bytes = this.getBytesOfUnicodeEncoding(byteCount, s, charIndex, charCount);\n                return bytes;\n            default:\n                bytes = this.getBytesOfAnsiEncoding(byteCount, s, charIndex, charCount);\n                return bytes;\n        }\n    };\n    /**\n     * Decodes a sequence of bytes from the specified ArrayBuffer into the string.\n     * @param  {ArrayBuffer} bytes- The ArrayBuffer containing the sequence of bytes to decode.\n     * @param  {number} index- The index of the first byte to decode.\n     * @param  {number} count- The number of bytes to decode.\n     * @returns {string} - The string that contains the resulting set of characters.\n     */\n    Encoding.prototype.getString = function (bytes, index, count) {\n        validateNullOrUndefined(bytes, 'bytes');\n        validateNullOrUndefined(index, 'index');\n        validateNullOrUndefined(count, 'count');\n        if (index < 0 || count < 0) {\n            throw new RangeError('Argument Out Of Range Exception: index or count is less than zero');\n        }\n        if (bytes.byteLength - index < count) {\n            throw new RangeError('Argument Out Of Range Exception: index and count do not denote a valid range in bytes');\n        }\n        if (bytes.byteLength === 0 || count === 0) {\n            return '';\n        }\n        if (this.type === null || this.type === undefined) {\n            this.type = 'Ansi';\n        }\n        var out = '';\n        var byteCal = new Uint8Array(bytes);\n        switch (this.type) {\n            case 'Utf8':\n                var s = this.getStringOfUtf8Encoding(byteCal, index, count);\n                return s;\n            case 'Unicode':\n                var byteUnicode = new Uint16Array(bytes);\n                out = this.getStringofUnicodeEncoding(byteUnicode, index, count);\n                return out;\n            default:\n                var j = index;\n                for (var i = 0; i < count; i++) {\n                    var c = byteCal[j];\n                    out += String.fromCharCode(c); // 1 byte(ASCII) character                  \n                    j++;\n                }\n                return out;\n        }\n    };\n    Encoding.prototype.getBytesOfAnsiEncoding = function (byteCount, s, charIndex, charCount) {\n        var bytes = new ArrayBuffer(byteCount);\n        var bufview = new Uint8Array(bytes);\n        var k = 0;\n        for (var i = 0; i < charCount; i++) {\n            var charcode = s.charCodeAt(charIndex++);\n            if (charcode < 0x800) {\n                bufview[k] = charcode;\n            }\n            else {\n                bufview[k] = 63; //replacement character '?'\n            }\n            k++;\n        }\n        return bytes;\n    };\n    Encoding.prototype.getBytesOfUtf8Encoding = function (byteCount, s, charIndex, charCount) {\n        var bytes = new ArrayBuffer(byteCount);\n        var uint = new Uint8Array(bytes);\n        var index = charIndex;\n        var j = 0;\n        for (var i = 0; i < charCount; i++) {\n            var charcode = s.charCodeAt(index);\n            if (charcode <= 0x7F) {\n                uint[j] = charcode;\n            }\n            else if (charcode < 0x800) {\n                uint[j] = 0xc0 | (charcode >> 6);\n                uint[++j] = 0x80 | (charcode & 0x3f);\n            }\n            else if ((charcode < 0xd800 || charcode >= 0xe000)) {\n                uint[j] = 0xe0 | (charcode >> 12);\n                uint[++j] = 0x80 | ((charcode >> 6) & 0x3f);\n                uint[++j] = 0x80 | (charcode & 0x3f);\n            }\n            else {\n                uint[j] = 0xef;\n                uint[++j] = 0xbf;\n                uint[++j] = 0xbd; // U+FFFE \"replacement character\"\n            }\n            ++j;\n            ++index;\n        }\n        return bytes;\n    };\n    Encoding.prototype.getBytesOfUnicodeEncoding = function (byteCount, s, charIndex, charCount) {\n        var bytes = new ArrayBuffer(byteCount);\n        var uint16 = new Uint16Array(bytes);\n        for (var i = 0; i < charCount; i++) {\n            var charcode = s.charCodeAt(i);\n            uint16[i] = charcode;\n        }\n        return bytes;\n    };\n    Encoding.prototype.getStringOfUtf8Encoding = function (byteCal, index, count) {\n        var j = 0;\n        var i = index;\n        var s = '';\n        for (j; j < count; j++) {\n            var c = byteCal[i++];\n            while (i > byteCal.length) {\n                return s;\n            }\n            if (c > 127) {\n                if (c > 191 && c < 224 && i < count) {\n                    c = (c & 31) << 6 | byteCal[i] & 63;\n                }\n                else if (c > 223 && c < 240 && i < byteCal.byteLength) {\n                    c = (c & 15) << 12 | (byteCal[i] & 63) << 6 | byteCal[++i] & 63;\n                }\n                else if (c > 239 && c < 248 && i < byteCal.byteLength) {\n                    c = (c & 7) << 18 | (byteCal[i] & 63) << 12 | (byteCal[++i] & 63) << 6 | byteCal[++i] & 63;\n                }\n                ++i;\n            }\n            s += String.fromCharCode(c); // 1 byte(ASCII) character                          \n        }\n        return s;\n    };\n    Encoding.prototype.getStringofUnicodeEncoding = function (byteUni, index, count) {\n        if (count > byteUni.length) {\n            throw new RangeError('ArgumentOutOfRange_Count');\n        }\n        var byte16 = new Uint16Array(count);\n        var out = '';\n        for (var i = 0; i < count && i < byteUni.length; i++) {\n            byte16[i] = byteUni[index++];\n        }\n        out = String.fromCharCode.apply(null, byte16);\n        return out;\n    };\n    /**\n     * To clear the encoding instance\n     * @return {void}\n     */\n    Encoding.prototype.destroy = function () {\n        this.emitBOM = undefined;\n        this.encodingType = undefined;\n    };\n    return Encoding;\n}());\nexport { Encoding };\n/**\n * To check the object is null or undefined and throw error if it is null or undefined\n * @param {Object} value - object to check is null or undefined\n * @return {boolean}\n * @throws {ArgumentException} - if the value is null or undefined\n * @private\n */\nexport function validateNullOrUndefined(value, message) {\n    if (value === null || value === undefined) {\n        throw new Error('ArgumentException: ' + message + ' cannot be null or undefined');\n    }\n}\n","var instances = 'ej2_instances';\nvar uid = 0;\n/**\n * Create Instance from constructor function with desired parameters.\n * @param {Function} classFunction - Class function to which need to create instance\n * @param {any[]} params - Parameters need to passed while creating instance\n * @return {any}\n * @private\n */\nexport function createInstance(classFunction, params) {\n    var arrayParam = params;\n    arrayParam.unshift(undefined);\n    return new (Function.prototype.bind.apply(classFunction, arrayParam));\n}\n/**\n * To run a callback function immediately after the browser has completed other operations.\n * @param {Function} handler - callback function to be triggered.\n * @return {Function}\n * @private\n */\nexport function setImmediate(handler) {\n    var unbind;\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    intCrypto.getRandomValues(num);\n    var secret = 'ej2' + combineArray(num);\n    var messageHandler = function (event) {\n        if (event.source === window && typeof event.data === 'string' && event.data.length <= 32 && event.data === secret) {\n            handler();\n            unbind();\n        }\n    };\n    window.addEventListener('message', messageHandler, false);\n    window.postMessage(secret, '*');\n    return unbind = function () {\n        window.removeEventListener('message', messageHandler);\n    };\n}\n/**\n * To get nameSpace value from the desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} obj - Object to get the inner object value.\n * @return {any}\n * @private\n */\nexport function getValue(nameSpace, obj) {\n    /* tslint:disable no-any */\n    var value = obj;\n    var splits = nameSpace.split('.');\n    for (var i = 0; i < splits.length && !isUndefined(value); i++) {\n        value = value[splits[i]];\n    }\n    return value;\n}\n/**\n * To set value for the nameSpace in desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} value - Value that you need to set.\n * @param {any} obj - Object to get the inner object value.\n * @return {void}\n * @private\n */\nexport function setValue(nameSpace, value, obj) {\n    var keys = nameSpace.split('.');\n    var start = obj || {};\n    var fromObj = start;\n    var i;\n    var length = keys.length;\n    var key;\n    for (i = 0; i < length; i++) {\n        key = keys[i];\n        if (i + 1 === length) {\n            fromObj[key] = value === undefined ? {} : value;\n        }\n        else if (isNullOrUndefined(fromObj[key])) {\n            fromObj[key] = {};\n        }\n        fromObj = fromObj[key];\n    }\n    return start;\n}\n/**\n * Delete an item from Object\n * @param {any} obj - Object in which we need to delete an item.\n * @param {string} params - String value to the get the inner object\n * @return {void}\n * @private\n */\nexport function deleteObject(obj, key) {\n    delete obj[key];\n}\n/**\n * Check weather the given argument is only object.\n * @param {any} obj - Object which is need to check.\n * @return {boolean}\n * @private\n */\nexport function isObject(obj) {\n    var objCon = {};\n    return (!isNullOrUndefined(obj) && obj.constructor === objCon.constructor);\n}\n/**\n * To get enum value by giving the string.\n * @param {any} enumObject - Enum object.\n * @param {string} enumValue - Enum value to be searched\n * @return {any}\n * @private\n */\nexport function getEnumValue(enumObject, enumValue) {\n    return enumObject[enumValue];\n}\n/**\n * Merge the source object into destination object.\n * @param {any} source - source object which is going to merge with destination object\n * @param {any} destination - object need to be merged\n * @return {void}\n * @private\n */\nexport function merge(source, destination) {\n    if (!isNullOrUndefined(destination)) {\n        var temrObj = source;\n        var tempProp = destination;\n        var keys = Object.keys(destination);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            temrObj[key] = tempProp[key];\n        }\n    }\n}\n/**\n * Extend the two object with newer one.\n * @param {any} copied - Resultant object after merged\n * @param {Object} first - First object need to merge\n * @param {Object} second - Second object need to merge\n * @return {Object}\n * @private\n */\nexport function extend(copied, first, second, deep) {\n    var result = copied || {};\n    var length = arguments.length;\n    if (deep) {\n        length = length - 1;\n    }\n    var _loop_1 = function (i) {\n        if (!arguments_1[i]) {\n            return \"continue\";\n        }\n        var obj1 = arguments_1[i];\n        Object.keys(obj1).forEach(function (key) {\n            var src = result[key];\n            var copy = obj1[key];\n            var clone;\n            if (deep && isObject(copy)) {\n                clone = isObject(src) ? src : {};\n                result[key] = extend({}, clone, copy, true);\n            }\n            else {\n                result[key] = copy;\n            }\n        });\n    };\n    var arguments_1 = arguments;\n    for (var i = 1; i < length; i++) {\n        _loop_1(i);\n    }\n    return result;\n}\n/**\n * To check whether the object is null or undefined.\n * @param {Object} value - To check the object is null or undefined\n * @return {boolean}\n * @private\n */\nexport function isNullOrUndefined(value) {\n    return value === undefined || value === null;\n}\n/**\n * To check whether the object is undefined.\n * @param {Object} value - To check the object is undefined\n * @return {boolean}\n * @private\n */\nexport function isUndefined(value) {\n    return ('undefined' === typeof value);\n}\n/**\n * To return the generated unique name\n * @param {string} definedName - To concatenate the unique id to provided name\n * @return {string}\n * @private\n */\nexport function getUniqueID(definedName) {\n    return definedName + '_' + uid++;\n}\n/**\n * It limits the rate at which a function can fire. The function will fire only once every provided second instead of as quickly.\n * @param {Function} eventFunction - Specifies the function to run when the event occurs\n * @param {number} delay - A number that specifies the milliseconds for function delay call option\n * @return {Function}\n * @private\n */\nexport function debounce(eventFunction, delay) {\n    var out;\n    // tslint:disable-next-line\n    return function () {\n        var _this = this;\n        var args = arguments;\n        var later = function () {\n            out = null;\n            return eventFunction.apply(_this, args);\n        };\n        clearTimeout(out);\n        out = setTimeout(later, delay);\n    };\n}\n// Added since lint ignored after added '//tslint:disable-next-line' \n/* tslint:disable:no-any */\n/**\n * To convert the object to string for query url\n * @param  {Object} data\n * @returns string\n * @private\n */\nexport function queryParams(data) {\n    var array = [];\n    var keys = Object.keys(data);\n    for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n        var key = keys_2[_i];\n        array.push(encodeURIComponent(key) + '=' + encodeURIComponent('' + data[key]));\n    }\n    return array.join('&');\n}\n/**\n * To check whether the given array contains object.\n * @param {T[]} value- Specifies the T type array to be checked.\n * @private\n */\nexport function isObjectArray(value) {\n    var parser = Object.prototype.toString;\n    if (parser.call(value) === '[object Array]') {\n        if (parser.call(value[0]) === '[object Object]') {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * To check whether the  child element is descendant to parent element or parent and child are same element.\n * @param{Element} - Specifies the child element to compare with parent.\n * @param{Element} - Specifies the parent element.\n * @return boolean\n * @private\n */\nexport function compareElementParent(child, parent) {\n    var node = child;\n    if (node === parent) {\n        return true;\n    }\n    else if (node === document || !node) {\n        return false;\n    }\n    else {\n        return compareElementParent(node.parentNode, parent);\n    }\n}\n/**\n * To throw custom error message.\n * @param{string} - Specifies the error message to be thrown.\n * @private\n */\nexport function throwError(message) {\n    try {\n        throw new Error(message);\n    }\n    catch (e) {\n        throw e.message + '\\n' + e.stack;\n    }\n}\n/**\n * This function is used to print given element\n * @param{Element} element - Specifies the print content element.\n * @param{Window} printWindow - Specifies the print window.\n * @private\n */\nexport function print(element, printWindow) {\n    var div = document.createElement('div');\n    var links = [].slice.call(document.getElementsByTagName('head')[0].querySelectorAll('link, style'));\n    var reference = '';\n    if (isNullOrUndefined(printWindow)) {\n        printWindow = window.open('', 'print', 'height=452,width=1024,tabbar=no');\n    }\n    div.appendChild(element.cloneNode(true));\n    for (var i = 0, len = links.length; i < len; i++) {\n        reference += links[i].outerHTML;\n    }\n    printWindow.document.write('<!DOCTYPE html> <html><head>' + reference + '</head><body>' + div.innerHTML +\n        '<script> (function() { window.ready = true; })(); </script>' + '</body></html>');\n    printWindow.document.close();\n    printWindow.focus();\n    // tslint:disable-next-line\n    var interval = setInterval(function () {\n        if (printWindow.ready) {\n            printWindow.print();\n            printWindow.close();\n            clearInterval(interval);\n        }\n    }, 500);\n    return printWindow;\n}\n/**\n * Function to normalize the units applied to the element.\n * @param  {number|string} value\n * @return {string} result\n * @private\n */\nexport function formatUnit(value) {\n    var result = value + '';\n    if (result === 'auto' || result.indexOf('%') !== -1 || result.indexOf('px') !== -1) {\n        return result;\n    }\n    return result + 'px';\n}\n/**\n * Function to fetch the Instances of a HTML element for the given component.\n * @param {string | HTMLElement} element\n * @param {any} component\n * @return {Object} inst\n * @private\n */\n// tslint:disable-next-line\nexport function getInstance(element, component) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        for (var _i = 0, _a = elem[instances]; _i < _a.length; _i++) {\n            var inst = _a[_i];\n            if (inst instanceof component) {\n                return inst;\n            }\n        }\n    }\n    return null;\n}\n/**\n * Function to add instances for the given element.\n * @param {string | HTMLElement} element\n * @param {Object} instance\n * @return {void}\n * @private\n */\nexport function addInstance(element, instance) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        elem[instances].push(instance);\n    }\n    else {\n        elem[instances] = [instance];\n    }\n}\n/**\n * Function to generate the unique id.\n * @return {string}\n * @private\n */\nexport function uniqueID() {\n    // tslint:disable-next-line:no-any\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    return intCrypto.getRandomValues(num);\n}\nfunction combineArray(num) {\n    var ret = '';\n    for (var i = 0; i < 5; i++) {\n        ret += (i ? ',' : '') + num[i];\n    }\n    return ret;\n}\n","/**\n * Functions related to dom operations.\n */\nimport { EventHandler } from './event-handler';\nimport { isNullOrUndefined } from './util';\n/**\n * Function to create Html element.\n * @param tagName - Name of the tag, id and class names.\n * @param properties - Object to set properties in the element.\n * @param properties.id - To set the id to the created element.\n * @param properties.className - To add classes to the element.\n * @param properties.innerHTML - To set the innerHTML to element.\n * @param properties.styles - To set the some custom styles to element.\n * @param properties.attrs - To set the attributes to element.\n * @private\n */\nexport function createElement(tagName, properties) {\n    var element = document.createElement(tagName);\n    if (typeof (properties) === 'undefined') {\n        return element;\n    }\n    element.innerHTML = (properties.innerHTML ? properties.innerHTML : '');\n    if (properties.className !== undefined) {\n        element.className = properties.className;\n    }\n    if (properties.id !== undefined) {\n        element.id = properties.id;\n    }\n    if (properties.styles !== undefined) {\n        element.setAttribute('style', properties.styles);\n    }\n    if (properties.attrs !== undefined) {\n        attributes(element, properties.attrs);\n    }\n    return element;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to add a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function addClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        for (var _b = 0, classList_1 = classList; _b < classList_1.length; _b++) {\n            var className = classList_1[_b];\n            if (!ele.classList.contains(className)) {\n                ele.classList.add(className);\n            }\n        }\n    }\n    return elements;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to remove a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function removeClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        if (ele.className !== '') {\n            for (var _b = 0, classList_2 = classList; _b < classList_2.length; _b++) {\n                var className = classList_2[_b];\n                ele.classList.remove(className);\n            }\n        }\n    }\n    return elements;\n}\nfunction getClassList(classes) {\n    var classList = [];\n    if (typeof classes === 'string') {\n        classList.push(classes);\n    }\n    else {\n        classList = classes;\n    }\n    return classList;\n}\n/**\n * The function used to check element is visible or not.\n * @param  {Element|Node} element - An element the need to check visibility\n * @private\n */\nexport function isVisible(element) {\n    var ele = element;\n    return (ele.style.visibility === '' && ele.offsetWidth > 0);\n}\n/**\n * The function used to insert an array of elements into a first of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to prepend.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function prepend(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.insertBefore(docFrag, toElement.firstElementChild);\n    return fromElements;\n}\n/**\n * The function used to insert an array of elements into last of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to append.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function append(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.appendChild(docFrag);\n    return fromElements;\n}\n/**\n * The function used to remove the element from the\n * @param  {Element|Node|HTMLElement} element - An element that is going to detach from the Dom\n * @private\n */\nexport function detach(element) {\n    var parentNode = element.parentNode;\n    return parentNode.removeChild(element);\n}\n/**\n * The function used to remove the element from Dom also clear the bounded events\n * @param  {Element|Node|HTMLElement} element - An element remove from the Dom\n * @private\n */\nexport function remove(element) {\n    var parentNode = element.parentNode;\n    EventHandler.clearEvents(element);\n    parentNode.removeChild(element);\n}\n/**\n * The function helps to set multiple attributes to an element\n * @param  {Element|Node} element - An element that need to set attributes.\n * @param  {{[key:string]:string}} attributes - JSON Object that is going to as attributes.\n * @private\n */\nexport function attributes(element, attributes) {\n    var keys = Object.keys(attributes);\n    var ele = element;\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        ele.setAttribute(key, attributes[key]);\n    }\n    return ele;\n}\n/**\n * The function selects the element from giving context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function select(selector, context) {\n    if (context === void 0) { context = document; }\n    return context.querySelector(selector);\n}\n/**\n * The function selects an array of element from the given context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function selectAll(selector, context) {\n    if (context === void 0) { context = document; }\n    var nodeList = context.querySelectorAll(selector);\n    return nodeList;\n}\n/**\n * Returns single closest parent element based on class selector.\n * @param  {Element} element - An element that need to find the closest element.\n * @param  {string} selector - A classSelector of closest element.\n * @private\n */\nexport function closest(element, selector) {\n    var el = element;\n    if (typeof el.closest === 'function') {\n        return el.closest(selector);\n    }\n    while (el && el.nodeType === 1) {\n        if (matches(el, selector)) {\n            return el;\n        }\n        el = el.parentNode;\n    }\n    return null;\n}\n/**\n * Returns all sibling elements of the given element.\n * @param  {Element|Node} element - An element that need to get siblings.\n * @private\n */\nexport function siblings(element) {\n    var siblings = [];\n    var childNodes = Array.prototype.slice.call(element.parentNode.childNodes);\n    for (var _i = 0, childNodes_1 = childNodes; _i < childNodes_1.length; _i++) {\n        var curNode = childNodes_1[_i];\n        if (curNode.nodeType === Node.ELEMENT_NODE && element !== curNode) {\n            siblings.push(curNode);\n        }\n    }\n    return siblings;\n}\n/**\n * set the value if not exist. Otherwise set the existing value\n * @param  {HTMLElement} element - An element to which we need to set value.\n * @param  {string} property - Property need to get or set.\n * @param  {string} value - value need to set.\n * @private\n */\nexport function getAttributeOrDefault(element, property, value) {\n    var attrVal = element.getAttribute(property);\n    if (isNullOrUndefined(attrVal)) {\n        element.setAttribute(property, value.toString());\n        attrVal = value;\n    }\n    return attrVal;\n}\n/**\n * Set the style attributes to Html element.\n * @param {HTMLElement} element - Element which we want to set attributes\n * @param {any} attrs - Set the given attributes to element\n * @return {void}\n * @private\n */\nexport function setStyleAttribute(element, attrs) {\n    if (attrs !== undefined) {\n        Object.keys(attrs).forEach(function (key) {\n            // tslint:disable-next-line:no-any\n            element.style[key] = attrs[key];\n        });\n    }\n}\n/**\n * Method for add and remove classes to a dom element.\n * @param {Element} element - Element for add and remove classes\n * @param {string[]} addClasses - List of classes need to be add to the element\n * @param {string[]} removeClasses - List of classes need to be remove from the element\n * @return {void}\n * @private\n */\nexport function classList(element, addClasses, removeClasses) {\n    addClass([element], addClasses);\n    removeClass([element], removeClasses);\n}\n/**\n * Method to check whether the element matches the given selector.\n * @param {Element} element - Element to compare with the selector.\n * @param {string} selector - String selector which element will satisfy.\n * @return {void}\n * @private\n */\nexport function matches(element, selector) {\n    var matches = element.matches || element.msMatchesSelector || element.webkitMatchesSelector;\n    if (matches) {\n        return matches.call(element, selector);\n    }\n    else {\n        return [].indexOf.call(document.querySelectorAll(selector), element) !== -1;\n    }\n}\n","import { createInstance, isUndefined, merge, extend, getValue } from './util';\n/**\n * Returns the Class Object\n * @param {ClassObject} instance - instance of ClassObject\n * @param {string} curKey - key of the current instance\n * @param {Object} defaultValue - default Value\n * @param {Object[]} type\n */\nfunction getObject(instance, curKey, defaultValue, type) {\n    if (!instance.properties.hasOwnProperty(curKey)) {\n        instance.properties[curKey] = createInstance(type, [instance, curKey, defaultValue]);\n    }\n    return instance.properties[curKey];\n}\n/**\n * Returns object array\n * @param {ClassObject} instance\n * @param {string} curKey\n * @param {Object[]} defaultValue\n * @param type\n * @param {boolean} isSetter\n * @returns {Object[]}\n */\nfunction getObjectArray(instance, curKey, defaultValue, type, isSetter, isFactory) {\n    var result = [];\n    var len = defaultValue.length;\n    for (var i = 0; i < len; i++) {\n        var curType = type;\n        if (isFactory) {\n            curType = type(defaultValue[i]);\n        }\n        if (isSetter) {\n            var inst = createInstance(curType, [instance, curKey, {}, true]);\n            inst.setProperties(defaultValue[i], true);\n            result.push(inst);\n        }\n        else {\n            result.push(createInstance(curType, [instance, curKey, defaultValue[i], true]));\n        }\n    }\n    return result;\n}\n/**\n * Returns the properties of the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertyGetter(defaultValue, curKey) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            this.properties[curKey] = defaultValue;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Set the properties for the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertySetter(defaultValue, curKey) {\n    return function (newValue) {\n        if (this.properties[curKey] !== newValue) {\n            var oldVal = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n            this.saveChanges(curKey, newValue, oldVal);\n            this.properties[curKey] = newValue;\n        }\n    };\n}\n/**\n * Returns complex objects\n */\nfunction complexGetter(defaultValue, curKey, type) {\n    return function () {\n        return getObject(this, curKey, defaultValue, type);\n    };\n}\n/**\n * Sets complex objects\n */\nfunction complexSetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        getObject(this, curKey, defaultValue, type).setProperties(newValue);\n    };\n}\nfunction complexFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        return getObject(this, curKey, defaultValue, curType);\n    };\n}\nfunction complexFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var curType = type(newValue);\n        getObject(this, curKey, defaultValue, curType).setProperties(newValue);\n    };\n}\nfunction complexArrayGetter(defaultValue, curKey, type) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, type, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\nfunction complexArraySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = getObjectArray(this, curKey, defaultValue, type, false);\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = getObjectArray(this, curKey, defaultValue, type, false, true);\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, curType, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Method used to create property. General syntax below.\n * @param  {T} defaultValue? - Specifies the default value of property.\n * ```\n * @Property('TypeScript')\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Property(defaultValue) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: propertySetter(defaultValue, key),\n            get: propertyGetter(defaultValue, key),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'prop', defaultValue);\n    };\n}\n/**\n * Method used to create complex property. General syntax below.\n * @param  {T} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Complex<Type>({},Type)\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Complex(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexSetter(defaultValue, key, type),\n            get: complexGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex Factory property. General syntax below.\n * @param  {Function} defaultType - Specifies the default value of property.\n * @param  {Function} type - Specifies the class factory type of complex object.\n * ```\n * @ComplexFactory(defaultType, factoryFunction)\n * propertyName: Type1 | Type2;\n * ```\n * @private\n */\nexport function ComplexFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexFactorySetter({}, key, type),\n            get: complexFactoryGetter({}, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', {}, type);\n    };\n}\n/**\n * Method used to create complex array property. General syntax below.\n * @param  {T[]} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Collection(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArraySetter(defaultValue, key, type),\n            get: complexArrayGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex factory array property. General syntax below.\n * @param  {T[]} defaultType - Specifies the default type of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function CollectionFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArrayFactorySetter([], key, type),\n            get: complexArrayFactoryGetter([], key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', {}, type);\n    };\n}\n/**\n * Method used to create event property. General syntax below.\n * @param  {Function} defaultValue? - Specifies the default value of property.\n * @param  {boolean} isComplex? - Specifies the whether it is complex object.\n * ```\n * @Event(()=>{return true;})\n * ```\n * @private\n */\nexport function Event() {\n    return function (target, key) {\n        var eventDescriptor = {\n            set: function (newValue) {\n                var oldValue = this.properties[key];\n                if (oldValue !== newValue) {\n                    var finalContext = getParentContext(this, key);\n                    if (isUndefined(oldValue) === false) {\n                        finalContext.context.removeEventListener(finalContext.prefix, oldValue);\n                    }\n                    finalContext.context.addEventListener(finalContext.prefix, newValue);\n                    this.properties[key] = newValue;\n                }\n            },\n            get: propertyGetter(undefined, key),\n            enumerable: true,\n            configurable: true\n        };\n        Object.defineProperty(target, key, eventDescriptor);\n        addPropertyCollection(target, key, 'event');\n    };\n}\n/**\n * NotifyPropertyChanges is triggers the call back when the property has been changed.\n *\n * ```\n *  @NotifyPropertyChanges\n * class DemoClass implements INotifyPropertyChanged {\n *\n *     @Property()\n *     property1: string;\n *\n *     dataBind: () => void;\n *\n *     constructor() { }\n *\n *     onPropertyChanged(newProp: any, oldProp: any) {\n *         // Called when property changed\n *     }\n * }\n * ```\n * @private\n */\nexport function NotifyPropertyChanges(classConstructor) {\n    /** Need to code */\n}\n/**\n * Method  used to create the builderObject for the target component.\n * @private\n */\nfunction addPropertyCollection(target, key, propertyType, defaultValue, type) {\n    if (isUndefined(target.propList)) {\n        target.propList = {\n            props: [],\n            complexProps: [],\n            colProps: [],\n            events: [],\n            propNames: [],\n            complexPropNames: [],\n            colPropNames: [],\n            eventNames: []\n        };\n    }\n    /* tslint:disable no-any */\n    target.propList[propertyType + 's'].push({\n        propertyName: key,\n        defaultValue: defaultValue,\n        type: type\n    });\n    target.propList[propertyType + 'Names'].push(key);\n    /* tslint:enable no-any */\n}\n/**\n * Returns an object containing the builder properties\n * @param {Function} component\n * @private\n */\nfunction getBuilderProperties(component) {\n    if (isUndefined(component.prototype.builderObject)) {\n        component.prototype.builderObject = {\n            properties: {}, propCollections: [], add: function () {\n                this.isPropertyArray = true;\n                this.propCollections.push(extend({}, this.properties, {}));\n            }\n        };\n        var rex = /complex/;\n        for (var _i = 0, _a = Object.keys(component.prototype.propList); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var _loop_1 = function (prop) {\n                if (rex.test(key)) {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        var childType = {};\n                        merge(childType, getBuilderProperties(prop.type));\n                        value(childType);\n                        var tempValue;\n                        if (!childType.isPropertyArray) {\n                            tempValue = extend({}, childType.properties, {});\n                        }\n                        else {\n                            tempValue = childType.propCollections;\n                        }\n                        this.properties[prop.propertyName] = tempValue;\n                        childType.properties = {};\n                        childType.propCollections = [];\n                        childType.isPropertyArray = false;\n                        return this;\n                    };\n                }\n                else {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        this.properties[prop.propertyName] = value;\n                        return this;\n                    };\n                }\n            };\n            for (var _b = 0, _c = component.prototype.propList[key]; _b < _c.length; _b++) {\n                var prop = _c[_b];\n                _loop_1(prop);\n            }\n        }\n    }\n    return component.prototype.builderObject;\n}\n/**\n * Method used to create builder for the components\n * @param {any} component -specifies the target component for which builder to be created.\n * @private\n */\nexport function CreateBuilder(component) {\n    var builderFunction = function (element) {\n        this.element = element;\n        return this;\n    };\n    var instanceFunction = function (element) {\n        if (!builderFunction.prototype.hasOwnProperty('create')) {\n            builderFunction.prototype = getBuilderProperties(component);\n            builderFunction.prototype.create = function () {\n                var temp = extend({}, {}, this.properties);\n                this.properties = {};\n                return new component(temp, this.element);\n            };\n        }\n        return new builderFunction(element);\n    };\n    return instanceFunction;\n}\n/**\n * Returns parent options for the object\n * @param {Object} context\n * @param {string} prefix\n * @private\n */\nfunction getParentContext(context, prefix) {\n    if (context.hasOwnProperty('parentObj') === false) {\n        return { context: context, prefix: prefix };\n    }\n    else {\n        var curText = getValue('propName', context);\n        if (curText) {\n            prefix = curText + '-' + prefix;\n        }\n        return getParentContext(getValue('parentObj', context), prefix);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { createElement, selectAll, closest } from './dom';\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { EventHandler } from './event-handler';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\n/**\n * The Animation framework provide options to animate the html DOM elements\n * ```typescript\n *   let animeObject = new Animation({\n *      name: 'SlideLeftIn',\n *      duration: 1000\n *   });\n *   animeObject.animate('#anime1');\n *   animeObject.animate('#anime2', { duration: 500 });\n * ```\n */\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation(options) {\n        var _this = _super.call(this, options, undefined) || this;\n        /**\n         * @private\n         */\n        _this.easing = {\n            ease: 'cubic-bezier(0.250, 0.100, 0.250, 1.000)',\n            linear: 'cubic-bezier(0.250, 0.250, 0.750, 0.750)',\n            easeIn: 'cubic-bezier(0.420, 0.000, 1.000, 1.000)',\n            easeOut: 'cubic-bezier(0.000, 0.000, 0.580, 1.000)',\n            easeInOut: 'cubic-bezier(0.420, 0.000, 0.580, 1.000)',\n            elasticInOut: 'cubic-bezier(0.5,-0.58,0.38,1.81)',\n            elasticIn: 'cubic-bezier(0.17,0.67,0.59,1.81)',\n            elasticOut: 'cubic-bezier(0.7,-0.75,0.99,1.01)'\n        };\n        return _this;\n    }\n    Animation_1 = Animation;\n    /**\n     * Applies animation to the current element.\n     * @param {string | HTMLElement} element - Element which needs to be animated.\n     * @param {AnimationModel} options - Overriding default animation settings.\n     * @return {void}\n     */\n    Animation.prototype.animate = function (element, options) {\n        options = !options ? {} : options;\n        var model = this.getModel(options);\n        if (typeof element === 'string') {\n            var elements = Array.prototype.slice.call(selectAll(element, document));\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var element_1 = elements_1[_i];\n                model.element = element_1;\n                Animation_1.delayAnimation(model);\n            }\n        }\n        else {\n            model.element = element;\n            Animation_1.delayAnimation(model);\n        }\n    };\n    /**\n     * Stop the animation effect on animated element.\n     * @param {HTMLElement} element - Element which needs to be stop the animation.\n     * @param {AnimationOptions} model - Handling the animation model at stop function.\n     * @return {void}\n     */\n    Animation.stop = function (element, model) {\n        element.style.animation = '';\n        element.removeAttribute('e-animate');\n        var animationId = element.getAttribute('e-animation-id');\n        if (animationId) {\n            var frameId = parseInt(animationId, 10);\n            cancelAnimationFrame(frameId);\n            element.removeAttribute('e-animation-id');\n        }\n        if (model && model.end) {\n            model.end.call(this, model);\n        }\n    };\n    /**\n     * Set delay to animation element\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.delayAnimation = function (model) {\n        if (model.delay) {\n            setTimeout(function () { Animation_1.applyAnimation(model); }, model.delay);\n        }\n        else {\n            Animation_1.applyAnimation(model);\n        }\n    };\n    /**\n     * Triggers animation\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.applyAnimation = function (model) {\n        var _this = this;\n        model.timeStamp = 0;\n        var step = 0;\n        var timerId = 0;\n        var startTime = 0;\n        var prevTimeStamp = 0;\n        var duration = model.duration;\n        model.element.setAttribute('e-animate', 'true');\n        var startAnimation = function (timeStamp) {\n            try {\n                if (timeStamp) {\n                    // let step: number = model.timeStamp = timeStamp - startTime;\n                    /** phantomjs workaround for timestamp fix */\n                    prevTimeStamp = prevTimeStamp === 0 ? timeStamp : prevTimeStamp;\n                    model.timeStamp = (timeStamp + model.timeStamp) - prevTimeStamp;\n                    prevTimeStamp = timeStamp;\n                    /** phantomjs workaround end */\n                    // trigger animation begin event\n                    if (!step && model.begin) {\n                        model.begin.call(_this, model);\n                    }\n                    step = step + 1;\n                    var avg = model.timeStamp / step;\n                    if (model.timeStamp < duration && model.timeStamp + avg < duration && model.element.getAttribute('e-animate')) {\n                        // apply animation effect to the current element                \n                        model.element.style.animation = model.name + ' ' + model.duration + 'ms ' + model.timingFunction;\n                        if (model.progress) {\n                            model.progress.call(_this, model);\n                        }\n                        // repeat requestAnimationFrame \n                        requestAnimationFrame(startAnimation);\n                    }\n                    else {\n                        // clear requestAnimationFrame\n                        cancelAnimationFrame(timerId);\n                        model.element.removeAttribute('e-animation-id');\n                        model.element.removeAttribute('e-animate');\n                        model.element.style.animation = '';\n                        if (model.end) {\n                            model.end.call(_this, model);\n                        }\n                    }\n                }\n                else {\n                    startTime = performance.now();\n                    // set initial requestAnimationFrame\n                    timerId = requestAnimationFrame(startAnimation);\n                    model.element.setAttribute('e-animation-id', timerId.toString());\n                }\n            }\n            catch (e) {\n                cancelAnimationFrame(timerId);\n                model.element.removeAttribute('e-animation-id');\n                if (model.fail) {\n                    model.fail.call(_this, e);\n                }\n            }\n        };\n        startAnimation();\n    };\n    /**\n     * Returns Animation Model\n     * @param {AnimationModel} options\n     * @returns {AnimationModel}\n     */\n    Animation.prototype.getModel = function (options) {\n        return {\n            name: options.name || this.name,\n            delay: options.delay || this.delay,\n            duration: (options.duration !== undefined ? options.duration : this.duration),\n            begin: options.begin || this.begin,\n            end: options.end || this.end,\n            fail: options.fail || this.fail,\n            progress: options.progress || this.progress,\n            timingFunction: this.easing[options.timingFunction] ? this.easing[options.timingFunction] :\n                (options.timingFunction || this.easing[this.timingFunction])\n        };\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // no code needed\n    };\n    /**\n     * Returns module name as animation\n     * @private\n     */\n    Animation.prototype.getModuleName = function () {\n        return 'animation';\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.destroy = function () {\n        //Override base destroy;\n    };\n    __decorate([\n        Property('FadeIn')\n    ], Animation.prototype, \"name\", void 0);\n    __decorate([\n        Property(400)\n    ], Animation.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], Animation.prototype, \"timingFunction\", void 0);\n    __decorate([\n        Property(0)\n    ], Animation.prototype, \"delay\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"begin\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"end\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"fail\", void 0);\n    Animation = Animation_1 = __decorate([\n        NotifyPropertyChanges\n    ], Animation);\n    return Animation;\n    var Animation_1;\n}(Base));\nexport { Animation };\n/**\n * Ripple provides material theme's wave effect when an element is clicked\n * ```html\n * <div id='ripple'></div>\n * <script>\n *   rippleEffect(document.getElementById('ripple'));\n * </script>\n * ```\n * @private\n * @param HTMLElement element - Target element\n * @param RippleOptions rippleOptions - Ripple options .\n */\nexport function rippleEffect(element, rippleOptions, done) {\n    var rippleModel = getRippleModel(rippleOptions);\n    if (rippleModel.rippleFlag === false || (rippleModel.rippleFlag === undefined && !isRippleEnabled)) {\n        return Function;\n    }\n    element.setAttribute('data-ripple', 'true');\n    EventHandler.add(element, 'mousedown', rippleHandler, { parent: element, rippleOptions: rippleModel });\n    EventHandler.add(element, 'mouseup', rippleUpHandler, { parent: element, rippleOptions: rippleModel, done: done });\n    EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    if (Browser.isPointer) {\n        EventHandler.add(element, 'transitionend', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    }\n    return (function () {\n        element.removeAttribute('data-ripple');\n        EventHandler.remove(element, 'mousedown', rippleHandler);\n        EventHandler.remove(element, 'mouseup', rippleUpHandler);\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n        EventHandler.remove(element, 'transitionend', rippleLeaveHandler);\n    });\n}\nfunction getRippleModel(rippleOptions) {\n    var rippleModel = {\n        selector: rippleOptions && rippleOptions.selector ? rippleOptions.selector : null,\n        ignore: rippleOptions && rippleOptions.ignore ? rippleOptions.ignore : null,\n        rippleFlag: rippleOptions && rippleOptions.rippleFlag,\n        isCenterRipple: rippleOptions && rippleOptions.isCenterRipple,\n        duration: rippleOptions && rippleOptions.duration ? rippleOptions.duration : 350\n    };\n    return rippleModel;\n}\n/**\n * Handler for ripple event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleHandler(e) {\n    var target = (e.target);\n    var selector = this.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (this.rippleOptions && closest(target, this.rippleOptions.ignore))) {\n        return;\n    }\n    var offset = element.getBoundingClientRect();\n    var offsetX = e.pageX - document.body.scrollLeft;\n    var offsetY = e.pageY - document.body.scrollTop;\n    var pageX = Math.max(Math.abs(offsetX - offset.left), Math.abs(offsetX - offset.right));\n    var pageY = Math.max(Math.abs(offsetY - offset.top), Math.abs(offsetY - offset.bottom));\n    var radius = Math.sqrt(pageX * pageX + pageY * pageY);\n    var diameter = radius * 2 + 'px';\n    var x = offsetX - offset.left - radius;\n    var y = offsetY - offset.top - radius;\n    if (this.rippleOptions && this.rippleOptions.isCenterRipple) {\n        x = 0;\n        y = 0;\n        diameter = '100%';\n    }\n    element.classList.add('e-ripple');\n    var duration = this.rippleOptions.duration.toString();\n    var styles = 'width: ' + diameter + ';height: ' + diameter + ';left: ' + x + 'px;top: ' + y + 'px;' +\n        'transition-duration: ' + duration + 'ms;';\n    var rippleElement = createElement('div', { className: 'e-ripple-element', styles: styles });\n    element.appendChild(rippleElement);\n    window.getComputedStyle(rippleElement).getPropertyValue('opacity');\n    rippleElement.style.transform = 'scale(1)';\n    if (element !== this.parent) {\n        EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: this.parent, rippleOptions: this.rippleOptions });\n    }\n}\n/**\n * Handler for ripple element mouse up event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleUpHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for ripple element mouse move event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleLeaveHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for removing ripple element\n * @param {MouseEvent} e\n * @param {rippleArgs} eventArgs\n * @returns {void}\n * @private\n */\nfunction removeRipple(e, eventArgs) {\n    var duration = eventArgs.rippleOptions.duration;\n    var target = (e.target);\n    var selector = eventArgs.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (element && element.className.indexOf('e-ripple') === -1)) {\n        return;\n    }\n    var rippleElements = selectAll('.e-ripple-element', element);\n    var rippleElement = rippleElements[rippleElements.length - 1];\n    if (rippleElement) {\n        rippleElement.style.opacity = '0.5';\n    }\n    if (eventArgs.parent !== element) {\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n    }\n    /* tslint:disable:align */\n    setTimeout(function () {\n        if (rippleElement && rippleElement.parentNode) {\n            rippleElement.parentNode.removeChild(rippleElement);\n        }\n        if (!element.getElementsByClassName('e-ripple-element').length) {\n            element.classList.remove('e-ripple');\n        }\n        if (eventArgs.done) {\n            eventArgs.done(e);\n        }\n    }, duration);\n}\nexport var isRippleEnabled = false;\n/**\n * Animation Module provides support to enable ripple effect functionality to Essential JS 2 components.\n * @param {boolean} isRipple Specifies the boolean value to enable or disable ripple effect.\n * @returns {boolean}\n */\nexport function enableRipple(isRipple) {\n    isRippleEnabled = isRipple;\n    return isRippleEnabled;\n}\n","import { DateFormat } from './intl/date-formatter';\nimport { NumberFormat } from './intl/number-formatter';\nimport { DateParser } from './intl/date-parser';\nimport { NumberParser } from './intl/number-parser';\nimport { IntlBase } from './intl/intl-base';\nimport { extend, getValue } from './util';\nimport { Observer } from './observer';\n/**\n * Specifies the observer used for external change detection.\n */\nexport var onIntlChange = new Observer();\n/**\n * Specifies the default rtl status for EJ2 components.\n */\nexport var rightToLeft = false;\n/**\n * Specifies the CLDR data loaded for internationalization functionalities.\n * @private\n */\nexport var cldrData = {};\n/**\n * Specifies the default culture value to be considered.\n * @private\n */\nexport var defaultCulture = 'en-US';\n/**\n * Specifies default currency code to be considered\n * @private\n */\nexport var defaultCurrencyCode = 'USD';\nvar mapper = ['numericObject', 'dateObject'];\n/**\n * Internationalization class provides support to parse and format the number and date object to the desired format.\n * ```typescript\n * // To set the culture globally\n * setCulture('en-GB');\n *\n * // To set currency code globally\n * setCurrencyCode('EUR');\n *\n * //Load cldr data\n * loadCldr(gregorainData);\n * loadCldr(timeZoneData);\n * loadCldr(numbersData);\n * loadCldr(numberSystemData);\n *\n * // To use formatter in component side\n * let Intl:Internationalization = new Internationalization();\n *\n * // Date formatting\n * let dateFormatter: Function = Intl.getDateFormat({skeleton:'long',type:'dateTime'});\n * dateFormatter(new Date('11/2/2016'));\n * dateFormatter(new Date('25/2/2030'));\n * Intl.formatDate(new Date(),{skeleton:'E'});\n *\n * //Number formatting\n * let numberFormatter: Function = Intl.getNumberFormat({skeleton:'C5'})\n * numberFormatter(24563334);\n * Intl.formatNumber(123123,{skeleton:'p2'});\n *\n * // Date parser\n * let dateParser: Function = Intl.getDateParser({skeleton:'short',type:'time'});\n * dateParser('10:30 PM');\n * Intl.parseDate('10',{skeleton:'H'});\n * ```\n */\nvar Internationalization = /** @class */ (function () {\n    function Internationalization(cultureName) {\n        if (cultureName) {\n            this.culture = cultureName;\n        }\n    }\n    /**\n     * Returns the format function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getDateFormat = function (options) {\n        return DateFormat.dateFormat(this.getCulture(), options || { type: 'date', skeleton: 'short' }, cldrData);\n    };\n    /**\n     * Returns the format function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberFormat = function (options) {\n        if (options && !options.currency) {\n            options.currency = defaultCurrencyCode;\n        }\n        return NumberFormat.numberFormatter(this.getCulture(), options || {}, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     * @private\n     */\n    Internationalization.prototype.getDateParser = function (options) {\n        return DateParser.dateParser(this.getCulture(), options || { skeleton: 'short', type: 'date' }, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberParser = function (options) {\n        return NumberParser.numberParser(this.getCulture(), options || { format: 'N' }, cldrData);\n    };\n    /**\n     * Returns the formatted string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {NumberFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatNumber = function (value, option) {\n        return this.getNumberFormat(option)(value);\n    };\n    /**\n     * Returns the formatted date string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {DateFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatDate = function (value, option) {\n        return this.getDateFormat(option)(value);\n    };\n    /**\n     * Returns the date object for given date string and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {DateFormatOptions} option - Specifies the parse options in which the date string will be parsed.\n     * @returns {Date}\n     */\n    Internationalization.prototype.parseDate = function (value, option) {\n        return this.getDateParser(option)(value);\n    };\n    /**\n     * Returns the number object from the given string value and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {NumberFormatOptions} option - Specifies the parse options in which the  string number  will be parsed.\n     * @returns {number}\n     */\n    Internationalization.prototype.parseNumber = function (value, option) {\n        return this.getNumberParser(option)(value);\n    };\n    /**\n     * Returns Native Date Time Pattern\n     * @param {DateFormatOptions} option - Specifies the parse options for resultant date time pattern.\n     * @param {boolean} isExcelFormat - Specifies format value to be converted to excel pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getDatePattern = function (option, isExcelFormat) {\n        return IntlBase.getActualDateTimeFormat(this.getCulture(), option, cldrData, isExcelFormat);\n    };\n    /**\n     * Returns Native Number Pattern\n     * @param {NumberFormatOptions} option - Specifies the parse options for resultant number pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getNumberPattern = function (option) {\n        return IntlBase.getActualNumberFormat(this.getCulture(), option, cldrData);\n    };\n    Internationalization.prototype.getCulture = function () {\n        return this.culture || defaultCulture;\n    };\n    return Internationalization;\n}());\nexport { Internationalization };\n/**\n * Set the default culture to all EJ2 components\n * @param {string} cultureName - Specifies the culture name to be set as default culture.\n */\nexport function setCulture(cultureName) {\n    defaultCulture = cultureName;\n    onIntlChange.notify('notifyExternalChange', { 'locale': defaultCulture });\n}\n/**\n * Set the default currency code to all EJ2 components\n * @param {string} currencyCode Specifies the culture name to be set as default culture.\n * @returns {void}\n */\nexport function setCurrencyCode(currencyCode) {\n    defaultCurrencyCode = currencyCode;\n    onIntlChange.notify('notifyExternalChange', { 'currencyCode': defaultCurrencyCode });\n}\n/**\n * Load the CLDR data into context\n * @param {Object[]} obj Specifies the CLDR data's to be used for formatting and parser.\n * @returns {void}\n */\nexport function loadCldr() {\n    var data = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        data[_i] = arguments[_i];\n    }\n    for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n        var obj = data_1[_a];\n        extend(cldrData, obj, {}, true);\n    }\n}\n/**\n * To enable or disable RTL functionality for all components globally.\n * @param {boolean} status - Optional argument Specifies the status value to enable or disable rtl option.\n * @returns {void}\n */\nexport function enableRtl(status) {\n    if (status === void 0) { status = true; }\n    rightToLeft = status;\n    onIntlChange.notify('notifyExternalChange', { enableRtl: rightToLeft });\n}\n/**\n * To get the numeric CLDR object for given culture\n * @param {string} locale - Specifies the locale for which numericObject to be returned.\n * @ignore\n * @private\n */\nexport function getNumericObject(locale, type) {\n    /* tslint:disable no-any */\n    var numObject = IntlBase.getDependables(cldrData, locale, true)[mapper[0]];\n    var dateObject = IntlBase.getDependables(cldrData, locale)[mapper[1]];\n    var numSystem = getValue('defaultNumberingSystem', numObject);\n    var symbPattern = getValue('symbols-numberSystem-' + numSystem, numObject);\n    var pattern = IntlBase.getSymbolPattern(type || 'decimal', numSystem, numObject, false);\n    return extend(symbPattern, IntlBase.getFormatData(pattern, true, '', true), { 'dateSeparator': IntlBase.getDateSeparator(dateObject) });\n}\n/**\n * To get the default date CLDR object.\n * @ignore\n * @private\n */\nexport function getDefaultDateObject() {\n    return IntlBase.getDependables(cldrData, '', false)[mapper[1]];\n}\n","/**\n * Template Engine\n */\nvar LINES = new RegExp('\\\\n|\\\\r|\\\\s\\\\s+', 'g');\nvar QUOTES = new RegExp(/'|\"/g);\nvar IF_STMT = new RegExp('if ?\\\\(');\nvar ELSE_STMT = new RegExp('else');\nvar FOR_STMT = new RegExp('for ?\\\\(');\nvar IF_OR_FOR = new RegExp('(\\/if|\\/for)');\nvar CALL_FUNCTION = new RegExp('\\\\((.*)\\\\)', '');\nvar NOT_NUMBER = new RegExp('^[0-9]+$', 'g');\nvar WORD = new RegExp('[\\\\w\"\\'.\\\\s+]+', 'g');\nvar DBL_QUOTED_STR = new RegExp('\"(.*?)\"', 'g');\nvar exp = new RegExp('\\\\${([^}]*)}', 'g');\n// let cachedTemplate: Object = {};\n/**\n * The function to set regular expression for template expression string.\n * @param  {RegExp} value - Value expression.\n * @private\n */\nexport function expression(value) {\n    if (value) {\n        exp = value;\n    }\n    return exp;\n}\n// /**\n//  * To render the template string from the given data.\n//  * @param  {string} template - String Template.\n//  * @param  {Object[]|JSON} data - DataSource for the template.\n//  * @param  {Object} helper? - custom helper object.\n//  */\n// export function template(template: string, data: JSON, helper?: Object): string {\n//     let hash: string = hashCode(template);\n//     let tmpl: Function;\n//     if (!cachedTemplate[hash]) {\n//         tmpl = cachedTemplate[hash] = compile(template, helper);\n//     } else {\n//         tmpl = cachedTemplate[hash];\n//     }\n//     return tmpl(data);\n// }\n/**\n * Compile the template string into template function.\n * @param  {string} template - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\nexport function compile(template, helper) {\n    var argName = 'data';\n    var evalExpResult = evalExp(template, argName, helper);\n    var fnCode = \"var str=\\\"\" + evalExpResult + \"\\\"; return str;\";\n    // tslint:disable-next-line:no-function-constructor-with-string-args\n    var fn = new Function(argName, fnCode);\n    return fn.bind(helper);\n}\n// function used to evaluate the function expression\nfunction evalExp(str, nameSpace, helper) {\n    /**\n     * Variable containing Local Keys\n     */\n    var localKeys = [];\n    return str.replace(LINES, '').replace(DBL_QUOTED_STR, '\\'$1\\'').replace(exp, function (match, cnt, offset, matchStr) {\n        var matches = cnt.match(CALL_FUNCTION);\n        // matches to detect any function calls\n        if (matches) {\n            var rlStr = matches[1];\n            if (IF_STMT.test(cnt)) {\n                //handling if condition\n                cnt = '\"; ' + cnt.replace(matches[1], rlStr.replace(WORD, function (str) {\n                    str = str.trim();\n                    return addNameSpace(str, !(QUOTES.test(str)) && (localKeys.indexOf(str) === -1), nameSpace, localKeys);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (FOR_STMT.test(cnt)) {\n                //handling for condition\n                var rlStr_1 = matches[1].split(' of ');\n                // replace for each into actual JavaScript\n                cnt = '\"; ' + cnt.replace(matches[1], function (mtc) {\n                    localKeys.push(rlStr_1[0]);\n                    localKeys.push(rlStr_1[0] + 'Index');\n                    return 'var i=0; i < ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys) + '.length; i++';\n                }) + '{ \\n ' + rlStr_1[0] + '= ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys)\n                    + '[i]; \\n var ' + rlStr_1[0] + 'Index=i; \\n str = str + \"';\n            }\n            else {\n                //helper function handling\n                var fnStr = cnt.split('(');\n                var fNameSpace = (helper && helper.hasOwnProperty(fnStr[0]) ? 'this.' : 'global');\n                fNameSpace = (/\\./.test(fnStr[0]) ? '' : fNameSpace);\n                cnt = '\" + ' + (fNameSpace === 'global' ? '' : fNameSpace) +\n                    cnt.replace(rlStr, addNameSpace(matches[1].replace(',', nameSpace + '.'), (fNameSpace === 'global' ? false : true), nameSpace, localKeys)) +\n                    '+\"';\n            }\n        }\n        else if (ELSE_STMT.test(cnt)) {\n            //handling else condition\n            cnt = '\"; ' + cnt.replace(ELSE_STMT, '} else { \\n str = str + \"');\n        }\n        else if (!!cnt.match(IF_OR_FOR)) {\n            // close condition \n            cnt = cnt.replace(IF_OR_FOR, '\"; \\n } \\n str = str + \"');\n        }\n        else {\n            // evaluate normal expression\n            cnt = '\"+' + addNameSpace(cnt, (localKeys.indexOf(cnt) === -1), nameSpace, localKeys) + '+\"';\n        }\n        return cnt;\n    });\n}\nfunction addNameSpace(str, addNS, nameSpace, ignoreList) {\n    return ((addNS && !(NOT_NUMBER.test(str)) && ignoreList.indexOf(str.split('.')[0]) === -1) ? nameSpace + '.' + str : str);\n}\n// // Create hashCode for template string to storeCached function\n// function hashCode(str: string): string {\n//     return str.split('').reduce((a: number, b: string) => { a = ((a << 5) - a) + b.charCodeAt(0); return a & a; }, 0).toString();\n// }\n","/**\n * Template Engine Bridge\n */\nimport { compile as render } from './template';\nimport { createElement } from './dom';\nvar HAS_ROW = /^[\\n\\r.]+\\<tr|^\\<tr/;\n/**\n * Compile the template string into template function.\n * @param  {string} templateString - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\n//tslint:disable-next-line\nexport function compile(templateString, helper) {\n    var compiler = engineObj.compile(templateString, helper);\n    //tslint:disable-next-line\n    return function (data, component, propName) {\n        var result = compiler(data, component, propName);\n        if (typeof result === 'string') {\n            var ele = createElement((HAS_ROW.test(result) ? 'table' : 'div'), { innerHTML: result });\n            return ele.childNodes;\n        }\n        else {\n            return result;\n        }\n    };\n}\n/**\n * Set your custom template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function setTemplateEngine(classObj) {\n    engineObj.compile = classObj.compile;\n}\n/**\n * Get current template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function getTemplateEngine() {\n    return engineObj.compile;\n}\n//Default Engine Class\nvar Engine = /** @class */ (function () {\n    function Engine() {\n    }\n    Engine.prototype.compile = function (templateString, helper) {\n        if (helper === void 0) { helper = {}; }\n        return render(templateString, helper);\n    };\n    return Engine;\n}());\nvar engineObj = { compile: new Engine().compile };\n","/**\n * CellStyle class\n */\nvar CellStyle = /** @class */ (function () {\n    function CellStyle() {\n        this.numFmtId = 0;\n        this.backColor = 'none';\n        this.fontName = 'Calibri';\n        this.fontSize = 14;\n        this.fontColor = '#000000';\n        this.italic = false;\n        this.bold = false;\n        this.underline = false;\n        this.wrapText = false;\n        this.hAlign = 'general';\n        this.vAlign = 'bottom';\n        this.numberFormat = 'GENERAL';\n        this.type = 'datetime';\n        this.borders = new Borders();\n        this.isGlobalStyle = false;\n    }\n    return CellStyle;\n}());\nexport { CellStyle };\nvar Font = /** @class */ (function () {\n    function Font() {\n        this.sz = 14;\n        this.name = 'Calibri';\n        this.u = false;\n        this.b = false;\n        this.i = false;\n        this.color = 'FF000000';\n    }\n    return Font;\n}());\nexport { Font };\nvar CellXfs = /** @class */ (function () {\n    function CellXfs() {\n    }\n    return CellXfs;\n}());\nexport { CellXfs };\nvar Alignment = /** @class */ (function () {\n    function Alignment() {\n    }\n    return Alignment;\n}());\nexport { Alignment };\nvar CellStyleXfs = /** @class */ (function () {\n    function CellStyleXfs() {\n    }\n    return CellStyleXfs;\n}());\nexport { CellStyleXfs };\nvar CellStyles = /** @class */ (function () {\n    function CellStyles() {\n        this.name = 'Normal';\n        this.xfId = 0;\n    }\n    return CellStyles;\n}());\nexport { CellStyles };\nvar NumFmt = /** @class */ (function () {\n    function NumFmt(id, code) {\n        this.numFmtId = id;\n        this.formatCode = code;\n    }\n    return NumFmt;\n}());\nexport { NumFmt };\n/**\n * Border class\n */\nvar Border = /** @class */ (function () {\n    function Border(mLine, mColor) {\n        this.lineStyle = mLine;\n        this.color = mColor;\n    }\n    return Border;\n}());\nexport { Border };\n/**\n * Border class\n */\nvar Borders = /** @class */ (function () {\n    function Borders() {\n        this.left = new Border('none', '#FFFFFF');\n        this.right = new Border('none', '#FFFFFF');\n        this.top = new Border('none', '#FFFFFF');\n        this.bottom = new Border('none', '#FFFFFF');\n        this.all = new Border('none', '#FFFFFF');\n    }\n    return Borders;\n}());\nexport { Borders };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Worksheet class\n */\nvar Cell = /** @class */ (function () {\n    function Cell() {\n    }\n    return Cell;\n}());\nexport { Cell };\n/**\n * Rows class\n */\nvar Cells = /** @class */ (function (_super) {\n    __extends(Cells, _super);\n    function Cells() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.add = function (cell) {\n            var inserted = false;\n            var count = 0;\n            for (var _i = 0, _a = _this; _i < _a.length; _i++) {\n                var c = _a[_i];\n                if (c.index === cell.index) {\n                    _this[count] = cell;\n                    inserted = true;\n                }\n                count++;\n            }\n            if (!inserted) {\n                _this.push(cell);\n            }\n        };\n        return _this;\n    }\n    return Cells;\n}(Array));\nexport { Cells };\n","/**\n * Column class\n */\nvar Column = /** @class */ (function () {\n    function Column() {\n    }\n    return Column;\n}());\nexport { Column };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Worksheet class\n */\nvar Row = /** @class */ (function () {\n    function Row() {\n    }\n    return Row;\n}());\nexport { Row };\n/**\n * Rows class\n */\nvar Rows = /** @class */ (function (_super) {\n    __extends(Rows, _super);\n    function Rows() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.add = function (row) {\n            var inserted = false;\n            var count = 0;\n            for (var _i = 0, _a = _this; _i < _a.length; _i++) {\n                var r = _a[_i];\n                if (r.index === row.index) {\n                    _this[count] = row;\n                    inserted = true;\n                }\n                count++;\n            }\n            if (!inserted) {\n                _this.push(row);\n            }\n        };\n        return _this;\n    }\n    return Rows;\n}(Array));\nexport { Rows };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Worksheets class\n */\nvar Worksheets = /** @class */ (function (_super) {\n    __extends(Worksheets, _super);\n    function Worksheets() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return Worksheets;\n}(Array));\nexport { Worksheets };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Worksheet class\n */\nvar Worksheet = /** @class */ (function () {\n    function Worksheet() {\n        this.isSummaryRowBelow = true;\n    }\n    return Worksheet;\n}());\nexport { Worksheet };\nvar HyperLink = /** @class */ (function () {\n    function HyperLink() {\n    }\n    return HyperLink;\n}());\nexport { HyperLink };\nvar Grouping = /** @class */ (function () {\n    function Grouping() {\n    }\n    return Grouping;\n}());\nexport { Grouping };\nvar FreezePane = /** @class */ (function () {\n    function FreezePane() {\n    }\n    return FreezePane;\n}());\nexport { FreezePane };\nvar MergeCell = /** @class */ (function () {\n    function MergeCell() {\n    }\n    return MergeCell;\n}());\nexport { MergeCell };\n/**\n * MergeCells class\n */\nvar MergeCells = /** @class */ (function (_super) {\n    __extends(MergeCells, _super);\n    function MergeCells() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.add = function (mergeCell) {\n            var inserted = false;\n            var count = 0;\n            for (var _i = 0, _a = _this; _i < _a.length; _i++) {\n                var mCell = _a[_i];\n                if (MergeCells.isIntersecting(mCell, mergeCell)) {\n                    var intersectingCell = new MergeCell();\n                    intersectingCell.x = Math.min(mCell.x, mergeCell.x);\n                    intersectingCell.y = Math.min(mCell.Y, mergeCell.y);\n                    intersectingCell.width = Math.max(mCell.Width + mCell.X, mergeCell.width + mergeCell.x);\n                    intersectingCell.height = Math.max(mCell.Height + mCell.Y, mergeCell.height + mergeCell.y);\n                    intersectingCell.ref = (_this[count].ref.split(':')[0]) + ':' + (mergeCell.ref.split(':')[1]);\n                    _this[count] = intersectingCell;\n                    inserted = true;\n                }\n                count++;\n            }\n            if (!inserted) {\n                _this.push(mergeCell);\n            }\n        };\n        return _this;\n    }\n    MergeCells.isIntersecting = function (base, compare) {\n        return (base.x <= compare.x + compare.width)\n            && (compare.x <= base.x + base.width)\n            && (base.y <= compare.y + compare.height)\n            && (compare.y <= base.y + base.height);\n    };\n    return MergeCells;\n}(Array));\nexport { MergeCells };\n","/**\n * Save class provide method to save file\n * ```typescript\n * let blob : Blob = new Blob([''], { type: 'text/plain' });\n * Save.save('fileName.txt',blob);\n */\nvar Save = /** @class */ (function () {\n    /**\n     * Initialize new instance of {save}\n     */\n    function Save() {\n        // tslint:disable\n    }\n    /**\n     * Saves the file with specified name and sends the file to client browser\n     * @param  {string} fileName- file name to save.\n     * @param  {Blob} buffer- the content to write in file\n     * @param  {boolean} isMicrosoftBrowser- specify whether microsoft browser or not\n     * @returns {void}\n     */\n    Save.save = function (fileName, buffer) {\n        if (fileName === null || fileName === undefined || fileName === '') {\n            throw new Error('ArgumentException: fileName cannot be undefined, null or empty');\n        }\n        var extension = fileName.substring(fileName.lastIndexOf('.') + 1, fileName.length);\n        var mimeType = this.getMimeType(extension);\n        if (mimeType !== '') {\n            buffer = new Blob([buffer], { type: mimeType });\n        }\n        if (this.isMicrosoftBrowser) {\n            navigator.msSaveBlob(buffer, fileName);\n        }\n        else {\n            var downloadLink = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');\n            this.saveInternal(fileName, extension, buffer, downloadLink, 'download' in downloadLink);\n        }\n    };\n    Save.saveInternal = function (fileName, extension, buffer, downloadLink, hasDownloadAttribute) {\n        if (hasDownloadAttribute) {\n            downloadLink.download = fileName;\n            var dataUrl_1 = window.URL.createObjectURL(buffer);\n            downloadLink.href = dataUrl_1;\n            var event_1 = document.createEvent('MouseEvent');\n            event_1.initEvent('click', true, true);\n            downloadLink.dispatchEvent(event_1);\n            setTimeout(function () {\n                window.URL.revokeObjectURL(dataUrl_1);\n                dataUrl_1 = undefined;\n            });\n        }\n        else {\n            if (extension !== 'docx' && extension !== 'xlsx') {\n                var url = window.URL.createObjectURL(buffer);\n                var isPopupBlocked = window.open(url, '_blank');\n                if (!isPopupBlocked) {\n                    window.location.href = url;\n                }\n            }\n            else {\n                var reader_1 = new FileReader();\n                reader_1.onloadend = function () {\n                    var isPopupBlocked = window.open(reader_1.result, '_blank');\n                    if (!isPopupBlocked) {\n                        window.location.href = reader_1.result;\n                    }\n                };\n                reader_1.readAsDataURL(buffer);\n            }\n        }\n    };\n    /**\n     *\n     * @param {string} extension - get mime type of the specified extension\n     * @private\n     */\n    Save.getMimeType = function (extension) {\n        var mimeType = '';\n        switch (extension) {\n            case 'html':\n                mimeType = 'text/html';\n                break;\n            case 'pdf':\n                mimeType = 'application/pdf';\n                break;\n            case 'docx':\n                mimeType = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\n                break;\n            case 'xlsx':\n                mimeType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\n                break;\n            case 'txt':\n                mimeType = 'text/plain';\n                break;\n        }\n        return mimeType;\n    };\n    return Save;\n}());\nexport { Save };\n","import { Encoding } from '@syncfusion/ej2-file-utils';\n/**\n * array literal codes\n */\nvar arrLiteralCodes = new Int16Array(286);\nvar arrLiteralLengths = new Uint8Array(286);\nvar arrDistanceCodes = new Int16Array(30);\nvar arrDistanceLengths = new Uint8Array(30);\n/**\n * represent compression stream writer\n * ```typescript\n * let compressedWriter = new CompressedStreamWriter();\n * let text: string = 'Hello world!!!';\n * compressedWriter.write(text, 0, text.length);\n * compressedWriter.close();\n * ```\n */\nvar CompressedStreamWriter = /** @class */ (function () {\n    /**\n     * Initializes compressor and writes ZLib header if needed.\n     * @param {boolean} noWrap - optional if true, ZLib header and checksum will not be written.\n     */\n    function CompressedStreamWriter(noWrap) {\n        this.pendingBuffer = new Uint8Array(1 << 16);\n        this.pendingBufLength = 0;\n        this.pendingBufCache = 0;\n        this.pendingBufBitsInCache = 0;\n        this.bufferPosition = 0;\n        this.extraBits = 0;\n        this.currentHash = 0;\n        this.matchStart = 0;\n        this.matchLength = 0;\n        this.matchPrevAvail = false;\n        this.blockStart = 0;\n        this.stringStart = 0;\n        this.lookAhead = 0;\n        this.totalBytesIn = 0;\n        this.inputOffset = 0;\n        this.inputEnd = 0;\n        this.windowSize = 1 << 15;\n        this.windowMask = this.windowSize - 1;\n        this.hashSize = 1 << 15;\n        this.hashMask = this.hashSize - 1;\n        this.hashShift = Math.floor((15 + 3 - 1) / 3);\n        this.maxDist = this.windowSize - 262;\n        this.checkSum = 1;\n        this.noWrap = false;\n        this.treeLiteral = new CompressorHuffmanTree(this, 286, 257, 15);\n        this.treeDistances = new CompressorHuffmanTree(this, 30, 1, 15);\n        this.treeCodeLengths = new CompressorHuffmanTree(this, 19, 4, 7);\n        this.arrDistances = new Uint16Array((1 << 14));\n        this.arrLiterals = new Uint8Array((1 << 14));\n        this.stream = [];\n        this.dataWindow = new Uint8Array(2 * this.windowSize);\n        this.hashHead = new Int16Array(this.hashSize);\n        this.hashPrevious = new Int16Array(this.windowSize);\n        this.blockStart = this.stringStart = 1;\n        this.noWrap = noWrap;\n        if (!noWrap) {\n            this.writeZLibHeader();\n        }\n    }\n    Object.defineProperty(CompressedStreamWriter.prototype, \"compressedData\", {\n        /**\n         * get compressed data\n         */\n        get: function () {\n            return this.stream;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompressedStreamWriter.prototype, \"getCompressedString\", {\n        get: function () {\n            var compressedString = '';\n            if (this.stream !== undefined) {\n                for (var i = 0; i < this.stream.length; i++) {\n                    compressedString += String.fromCharCode.apply(null, this.stream[i]);\n                }\n            }\n            return compressedString;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Compresses data and writes it to the stream.\n     * @param {Uint8Array} data - data to compress\n     * @param {number} offset - offset in data\n     * @param {number} length - length of the data\n     * @returns {void}\n     */\n    CompressedStreamWriter.prototype.write = function (data, offset, length) {\n        if (data === undefined || data === null) {\n            throw new Error('ArgumentException: data cannot null or undefined');\n        }\n        var end = offset + length;\n        if (0 > offset || offset > end || end > data.length) {\n            throw new Error('ArgumentOutOfRangeException: Offset or length is incorrect');\n        }\n        if (typeof data === 'string') {\n            var encode = new Encoding(false);\n            encode.type = 'Utf8';\n            data = new Uint8Array(encode.getBytes(data, 0, data.length));\n            end = offset + data.length;\n        }\n        this.inputBuffer = data;\n        this.inputOffset = offset;\n        this.inputEnd = end;\n        if (!this.noWrap) {\n            this.checkSum = ChecksumCalculator.checksumUpdate(this.checkSum, this.inputBuffer, this.inputOffset, end);\n        }\n        while (!(this.inputEnd === this.inputOffset) || !(this.pendingBufLength === 0)) {\n            this.pendingBufferFlush();\n            this.compressData(false);\n        }\n    };\n    /**\n     * write ZLib header to the compressed data\n     * @return {void}\n     */\n    CompressedStreamWriter.prototype.writeZLibHeader = function () {\n        /* Initialize header.*/\n        var headerDate = (8 + (7 << 4)) << 8;\n        /* Save compression level.*/\n        headerDate |= ((5 >> 2) & 3) << 6;\n        /* Align header.*/\n        headerDate += 31 - (headerDate % 31);\n        /* Write header to stream.*/\n        this.pendingBufferWriteShortBytes(headerDate);\n    };\n    /**\n     *  Write Most Significant Bytes in to stream\n     * @param {number} s - check sum value\n     */\n    CompressedStreamWriter.prototype.pendingBufferWriteShortBytes = function (s) {\n        this.pendingBuffer[this.pendingBufLength++] = s >> 8;\n        this.pendingBuffer[this.pendingBufLength++] = s;\n    };\n    CompressedStreamWriter.prototype.compressData = function (finish) {\n        var success;\n        do {\n            this.fillWindow();\n            var canFlush = (finish && this.inputEnd === this.inputOffset);\n            success = this.compressSlow(canFlush, finish);\n        } while (this.pendingBufLength === 0 && success);\n        return success;\n    };\n    CompressedStreamWriter.prototype.compressSlow = function (flush, finish) {\n        if (this.lookAhead < 262 && !flush) {\n            return false;\n        }\n        while (this.lookAhead >= 262 || flush) {\n            if (this.lookAhead === 0) {\n                return this.lookAheadCompleted(finish);\n            }\n            if (this.stringStart >= 2 * this.windowSize - 262) {\n                this.slideWindow();\n            }\n            var prevMatch = this.matchStart;\n            var prevLen = this.matchLength;\n            if (this.lookAhead >= 3) {\n                this.discardMatch();\n            }\n            if (prevLen >= 3 && this.matchLength <= prevLen) {\n                prevLen = this.matchPreviousBest(prevMatch, prevLen);\n            }\n            else {\n                this.matchPreviousAvailable();\n            }\n            if (this.bufferPosition >= (1 << 14)) {\n                return this.huffmanIsFull(finish);\n            }\n        }\n        return true;\n    };\n    CompressedStreamWriter.prototype.discardMatch = function () {\n        var hashHead = this.insertString();\n        if (hashHead !== 0 && this.stringStart - hashHead <= this.maxDist && this.findLongestMatch(hashHead)) {\n            if (this.matchLength <= 5 && (this.matchLength === 3 && this.stringStart - this.matchStart > 4096)) {\n                this.matchLength = 3 - 1;\n            }\n        }\n    };\n    CompressedStreamWriter.prototype.matchPreviousAvailable = function () {\n        if (this.matchPrevAvail) {\n            this.huffmanTallyLit(this.dataWindow[this.stringStart - 1] & 0xff);\n        }\n        this.matchPrevAvail = true;\n        this.stringStart++;\n        this.lookAhead--;\n    };\n    CompressedStreamWriter.prototype.matchPreviousBest = function (prevMatch, prevLen) {\n        this.huffmanTallyDist(this.stringStart - 1 - prevMatch, prevLen);\n        prevLen -= 2;\n        do {\n            this.stringStart++;\n            this.lookAhead--;\n            if (this.lookAhead >= 3) {\n                this.insertString();\n            }\n        } while (--prevLen > 0);\n        this.stringStart++;\n        this.lookAhead--;\n        this.matchPrevAvail = false;\n        this.matchLength = 3 - 1;\n        return prevLen;\n    };\n    CompressedStreamWriter.prototype.lookAheadCompleted = function (finish) {\n        if (this.matchPrevAvail) {\n            this.huffmanTallyLit(this.dataWindow[this.stringStart - 1] & 0xff);\n        }\n        this.matchPrevAvail = false;\n        this.huffmanFlushBlock(this.dataWindow, this.blockStart, this.stringStart - this.blockStart, finish);\n        this.blockStart = this.stringStart;\n        return false;\n    };\n    CompressedStreamWriter.prototype.huffmanIsFull = function (finish) {\n        var len = this.stringStart - this.blockStart;\n        if (this.matchPrevAvail) {\n            len--;\n        }\n        var lastBlock = (finish && this.lookAhead === 0 && !this.matchPrevAvail);\n        this.huffmanFlushBlock(this.dataWindow, this.blockStart, len, lastBlock);\n        this.blockStart += len;\n        return !lastBlock;\n    };\n    CompressedStreamWriter.prototype.fillWindow = function () {\n        if (this.stringStart >= this.windowSize + this.maxDist) {\n            this.slideWindow();\n        }\n        while (this.lookAhead < 262 && this.inputOffset < this.inputEnd) {\n            var more = 2 * this.windowSize - this.lookAhead - this.stringStart;\n            if (more > this.inputEnd - this.inputOffset) {\n                more = this.inputEnd - this.inputOffset;\n            }\n            this.dataWindow.set(this.inputBuffer.subarray(this.inputOffset, this.inputOffset + more), this.stringStart + this.lookAhead);\n            this.inputOffset += more;\n            this.totalBytesIn += more;\n            this.lookAhead += more;\n        }\n        if (this.lookAhead >= 3) {\n            this.updateHash();\n        }\n    };\n    CompressedStreamWriter.prototype.slideWindow = function () {\n        this.dataWindow.set(this.dataWindow.subarray(this.windowSize, this.windowSize + this.windowSize), 0);\n        this.matchStart -= this.windowSize;\n        this.stringStart -= this.windowSize;\n        this.blockStart -= this.windowSize;\n        for (var i = 0; i < this.hashSize; ++i) {\n            var m = this.hashHead[i] & 0xffff;\n            this.hashHead[i] = (((m >= this.windowSize) ? (m - this.windowSize) : 0));\n        }\n        for (var i = 0; i < this.windowSize; i++) {\n            var m = this.hashPrevious[i] & 0xffff;\n            this.hashPrevious[i] = ((m >= this.windowSize) ? (m - this.windowSize) : 0);\n        }\n    };\n    CompressedStreamWriter.prototype.insertString = function () {\n        var match;\n        var hash = ((this.currentHash << this.hashShift) ^ this.dataWindow[this.stringStart + (3 - 1)]) & this.hashMask;\n        this.hashPrevious[this.stringStart & this.windowMask] = match = this.hashHead[hash];\n        this.hashHead[hash] = this.stringStart;\n        this.currentHash = hash;\n        return match & 0xffff;\n    };\n    CompressedStreamWriter.prototype.findLongestMatch = function (curMatch) {\n        var chainLen = 4096;\n        var niceLen = 258;\n        var scan = this.stringStart;\n        var match;\n        var bestEnd = this.stringStart + this.matchLength;\n        var bestLength = Math.max(this.matchLength, 3 - 1);\n        var limit = Math.max(this.stringStart - this.maxDist, 0);\n        var stringEnd = this.stringStart + 258 - 1;\n        var scanEnd1 = this.dataWindow[bestEnd - 1];\n        var scanEnd = this.dataWindow[bestEnd];\n        var data = this.dataWindow;\n        if (bestLength >= 32) {\n            chainLen >>= 2;\n        }\n        if (niceLen > this.lookAhead) {\n            niceLen = this.lookAhead;\n        }\n        do {\n            if (data[curMatch + bestLength] !== scanEnd ||\n                data[curMatch + bestLength - 1] !== scanEnd1 ||\n                data[curMatch] !== data[scan] ||\n                data[curMatch + 1] !== data[scan + 1]) {\n                continue;\n            }\n            match = curMatch + 2;\n            scan += 2;\n            /* tslint:disable */\n            while (data[++scan] === data[++match] && data[++scan] === data[++match] &&\n                data[++scan] === data[++match] && data[++scan] === data[++match] &&\n                data[++scan] === data[++match] && data[++scan] === data[++match] &&\n                data[++scan] === data[++match] && data[++scan] === data[++match] && scan < stringEnd) {\n                /* tslint:disable */\n            }\n            if (scan > bestEnd) {\n                this.matchStart = curMatch;\n                bestEnd = scan;\n                bestLength = scan - this.stringStart;\n                if (bestLength >= niceLen) {\n                    break;\n                }\n                scanEnd1 = data[bestEnd - 1];\n                scanEnd = data[bestEnd];\n            }\n            scan = this.stringStart;\n        } while ((curMatch = (this.hashPrevious[curMatch & this.windowMask] & 0xffff)) > limit && --chainLen !== 0);\n        this.matchLength = Math.min(bestLength, this.lookAhead);\n        return this.matchLength >= 3;\n    };\n    CompressedStreamWriter.prototype.updateHash = function () {\n        this.currentHash = (this.dataWindow[this.stringStart] << this.hashShift) ^ this.dataWindow[this.stringStart + 1];\n    };\n    CompressedStreamWriter.prototype.huffmanTallyLit = function (literal) {\n        this.arrDistances[this.bufferPosition] = 0;\n        this.arrLiterals[this.bufferPosition++] = literal;\n        this.treeLiteral.codeFrequencies[literal]++;\n        return this.bufferPosition >= (1 << 14);\n    };\n    CompressedStreamWriter.prototype.huffmanTallyDist = function (dist, len) {\n        this.arrDistances[this.bufferPosition] = dist;\n        this.arrLiterals[this.bufferPosition++] = (len - 3);\n        var lc = this.huffmanLengthCode(len - 3);\n        this.treeLiteral.codeFrequencies[lc]++;\n        if (lc >= 265 && lc < 285) {\n            this.extraBits += Math.floor((lc - 261) / 4);\n        }\n        var dc = this.huffmanDistanceCode(dist - 1);\n        this.treeDistances.codeFrequencies[dc]++;\n        if (dc >= 4) {\n            this.extraBits += Math.floor((dc / 2 - 1));\n        }\n        return this.bufferPosition >= (1 << 14);\n    };\n    CompressedStreamWriter.prototype.huffmanFlushBlock = function (stored, storedOffset, storedLength, lastBlock) {\n        this.treeLiteral.codeFrequencies[256]++;\n        this.treeLiteral.buildTree();\n        this.treeDistances.buildTree();\n        this.treeLiteral.calculateBLFreq(this.treeCodeLengths);\n        this.treeDistances.calculateBLFreq(this.treeCodeLengths);\n        this.treeCodeLengths.buildTree();\n        var blTreeCodes = 4;\n        for (var i = 18; i > blTreeCodes; i--) {\n            if (this.treeCodeLengths.codeLengths[CompressorHuffmanTree.huffCodeLengthOrders[i]] > 0) {\n                blTreeCodes = i + 1;\n            }\n        }\n        var opt_len = 14 + blTreeCodes * 3 + this.treeCodeLengths.getEncodedLength() +\n            this.treeLiteral.getEncodedLength() + this.treeDistances.getEncodedLength() + this.extraBits;\n        var static_len = this.extraBits;\n        for (var i = 0; i < 286; i++) {\n            static_len += this.treeLiteral.codeFrequencies[i] * arrLiteralLengths[i];\n        }\n        for (var i = 0; i < 30; i++) {\n            static_len += this.treeDistances.codeFrequencies[i] * arrDistanceLengths[i];\n        }\n        if (opt_len >= static_len) {\n            // Force static trees.\n            opt_len = static_len;\n        }\n        if (storedOffset >= 0 && storedLength + 4 < opt_len >> 3) {\n            this.huffmanFlushStoredBlock(stored, storedOffset, storedLength, lastBlock);\n        }\n        else if (opt_len == static_len) {\n            // Encode with static tree.\n            this.pendingBufferWriteBits((1 << 1) + (lastBlock ? 1 : 0), 3);\n            this.treeLiteral.setStaticCodes(arrLiteralCodes, arrLiteralLengths);\n            this.treeDistances.setStaticCodes(arrDistanceCodes, arrDistanceLengths);\n            this.huffmanCompressBlock();\n            this.huffmanReset();\n        }\n        else {\n            this.pendingBufferWriteBits((2 << 1) + (lastBlock ? 1 : 0), 3);\n            this.huffmanSendAllTrees(blTreeCodes);\n            this.huffmanCompressBlock();\n            this.huffmanReset();\n        }\n    };\n    CompressedStreamWriter.prototype.huffmanFlushStoredBlock = function (stored, storedOffset, storedLength, lastBlock) {\n        this.pendingBufferWriteBits((0 << 1) + (lastBlock ? 1 : 0), 3);\n        this.pendingBufferAlignToByte();\n        this.pendingBufferWriteShort(storedLength);\n        this.pendingBufferWriteShort(~storedLength);\n        this.pendingBufferWriteByteBlock(stored, storedOffset, storedLength);\n        this.huffmanReset();\n    };\n    CompressedStreamWriter.prototype.huffmanLengthCode = function (len) {\n        if (len === 255) {\n            return 285;\n        }\n        var code = 257;\n        while (len >= 8) {\n            code += 4;\n            len >>= 1;\n        }\n        return code + len;\n    };\n    CompressedStreamWriter.prototype.huffmanDistanceCode = function (distance) {\n        var code = 0;\n        while (distance >= 4) {\n            code += 2;\n            distance >>= 1;\n        }\n        return code + distance;\n    };\n    CompressedStreamWriter.prototype.huffmanSendAllTrees = function (blTreeCodes) {\n        this.treeCodeLengths.buildCodes();\n        this.treeLiteral.buildCodes();\n        this.treeDistances.buildCodes();\n        this.pendingBufferWriteBits(this.treeLiteral.treeLength - 257, 5);\n        this.pendingBufferWriteBits(this.treeDistances.treeLength - 1, 5);\n        this.pendingBufferWriteBits(blTreeCodes - 4, 4);\n        for (var rank = 0; rank < blTreeCodes; rank++) {\n            this.pendingBufferWriteBits(this.treeCodeLengths.codeLengths[CompressorHuffmanTree.huffCodeLengthOrders[rank]], 3);\n        }\n        this.treeLiteral.writeTree(this.treeCodeLengths);\n        this.treeDistances.writeTree(this.treeCodeLengths);\n    };\n    CompressedStreamWriter.prototype.huffmanReset = function () {\n        this.bufferPosition = 0;\n        this.extraBits = 0;\n        this.treeLiteral.reset();\n        this.treeDistances.reset();\n        this.treeCodeLengths.reset();\n    };\n    CompressedStreamWriter.prototype.huffmanCompressBlock = function () {\n        for (var i = 0; i < this.bufferPosition; i++) {\n            var literalLen = this.arrLiterals[i] & 255;\n            var dist = this.arrDistances[i];\n            if (dist-- !== 0) {\n                var lc = this.huffmanLengthCode(literalLen);\n                this.treeLiteral.writeCodeToStream(lc);\n                var bits = Math.floor((lc - 261) / 4);\n                if (bits > 0 && bits <= 5) {\n                    this.pendingBufferWriteBits(literalLen & ((1 << bits) - 1), bits);\n                }\n                var dc = this.huffmanDistanceCode(dist);\n                this.treeDistances.writeCodeToStream(dc);\n                bits = Math.floor(dc / 2 - 1);\n                if (bits > 0) {\n                    this.pendingBufferWriteBits(dist & ((1 << bits) - 1), bits);\n                }\n            }\n            else {\n                this.treeLiteral.writeCodeToStream(literalLen);\n            }\n        }\n        this.treeLiteral.writeCodeToStream(256);\n    };\n    /**\n     * write bits in to internal buffer\n     * @param {number} b - source of bits\n     * @param {number} count - count of bits to write\n     */\n    CompressedStreamWriter.prototype.pendingBufferWriteBits = function (b, count) {\n        var uint = new Uint32Array(1);\n        uint[0] = this.pendingBufCache | (b << this.pendingBufBitsInCache);\n        this.pendingBufCache = uint[0];\n        this.pendingBufBitsInCache += count;\n        this.pendingBufferFlushBits();\n    };\n    CompressedStreamWriter.prototype.pendingBufferFlush = function (isClose) {\n        this.pendingBufferFlushBits();\n        if (this.pendingBufLength > 0) {\n            var array = new Uint8Array(this.pendingBufLength);\n            array.set(this.pendingBuffer.subarray(0, this.pendingBufLength), 0);\n            this.stream.push(array);\n        }\n        this.pendingBufLength = 0;\n    };\n    CompressedStreamWriter.prototype.pendingBufferFlushBits = function () {\n        var result = 0;\n        while (this.pendingBufBitsInCache >= 8 && this.pendingBufLength < (1 << 16)) {\n            this.pendingBuffer[this.pendingBufLength++] = this.pendingBufCache;\n            this.pendingBufCache >>= 8;\n            this.pendingBufBitsInCache -= 8;\n            result++;\n        }\n        return result;\n    };\n    CompressedStreamWriter.prototype.pendingBufferWriteByteBlock = function (data, offset, length) {\n        var array = data.subarray(offset, offset + length);\n        this.pendingBuffer.set(array, this.pendingBufLength);\n        this.pendingBufLength += length;\n    };\n    CompressedStreamWriter.prototype.pendingBufferWriteShort = function (s) {\n        this.pendingBuffer[this.pendingBufLength++] = s;\n        this.pendingBuffer[this.pendingBufLength++] = (s >> 8);\n    };\n    CompressedStreamWriter.prototype.pendingBufferAlignToByte = function () {\n        if (this.pendingBufBitsInCache > 0) {\n            this.pendingBuffer[this.pendingBufLength++] = this.pendingBufCache;\n        }\n        this.pendingBufCache = 0;\n        this.pendingBufBitsInCache = 0;\n    };\n    /**\n     * close the stream and write all pending buffer in to stream\n     * @returns {void}\n     */\n    CompressedStreamWriter.prototype.close = function () {\n        do {\n            this.pendingBufferFlush(true);\n            if (!this.compressData(true)) {\n                this.pendingBufferFlush(true);\n                this.pendingBufferAlignToByte();\n                if (!this.noWrap) {\n                    this.pendingBufferWriteShortBytes(this.checkSum >> 16);\n                    this.pendingBufferWriteShortBytes(this.checkSum & 0xffff);\n                }\n                this.pendingBufferFlush(true);\n            }\n        } while (!(this.inputEnd === this.inputOffset) ||\n            !(this.pendingBufLength === 0));\n    };\n    /**\n     * release allocated un-managed resource\n     * @returns {void}\n     */\n    CompressedStreamWriter.prototype.destroy = function () {\n        this.stream = [];\n        this.stream = undefined;\n        this.pendingBuffer = undefined;\n        this.treeLiteral = undefined;\n        this.treeDistances = undefined;\n        this.treeCodeLengths = undefined;\n        this.arrLiterals = undefined;\n        this.arrDistances = undefined;\n        this.hashHead = undefined;\n        this.hashPrevious = undefined;\n        this.dataWindow = undefined;\n        this.inputBuffer = undefined;\n        this.pendingBufLength = undefined;\n        this.pendingBufCache = undefined;\n        this.pendingBufBitsInCache = undefined;\n        this.bufferPosition = undefined;\n        this.extraBits = undefined;\n        this.currentHash = undefined;\n        this.matchStart = undefined;\n        this.matchLength = undefined;\n        this.matchPrevAvail = undefined;\n        this.blockStart = undefined;\n        this.stringStart = undefined;\n        this.lookAhead = undefined;\n        this.totalBytesIn = undefined;\n        this.inputOffset = undefined;\n        this.inputEnd = undefined;\n        this.windowSize = undefined;\n        this.windowMask = undefined;\n        this.hashSize = undefined;\n        this.hashMask = undefined;\n        this.hashShift = undefined;\n        this.maxDist = undefined;\n        this.checkSum = undefined;\n        this.noWrap = undefined;\n    };\n    return CompressedStreamWriter;\n}());\nexport { CompressedStreamWriter };\n/**\n * represent the Huffman Tree\n */\nvar CompressorHuffmanTree = /** @class */ (function () {\n    /**\n     * Create new Huffman Tree\n     * @param {CompressedStreamWriter} writer instance\n     * @param {number} elementCount - element count\n     * @param {number} minCodes - minimum count\n     * @param {number} maxLength - maximum count\n     */\n    function CompressorHuffmanTree(writer, elementCount, minCodes, maxLength) {\n        this.writer = writer;\n        this.codeMinCount = minCodes;\n        this.maxLength = maxLength;\n        this.codeFrequency = new Uint16Array(elementCount);\n        this.lengthCount = new Int32Array(maxLength);\n    }\n    Object.defineProperty(CompressorHuffmanTree.prototype, \"treeLength\", {\n        get: function () {\n            return this.codeCount;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompressorHuffmanTree.prototype, \"codeLengths\", {\n        get: function () {\n            return this.codeLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompressorHuffmanTree.prototype, \"codeFrequencies\", {\n        get: function () {\n            return this.codeFrequency;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CompressorHuffmanTree.prototype.setStaticCodes = function (codes, lengths) {\n        var temp = new Int16Array(codes.length);\n        temp.set(codes, 0);\n        this.codes = temp;\n        var lengthTemp = new Uint8Array(lengths.length);\n        lengthTemp.set(lengths, 0);\n        this.codeLength = lengthTemp;\n    };\n    /**\n     * reset all code data in tree\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.reset = function () {\n        for (var i = 0; i < this.codeFrequency.length; i++) {\n            this.codeFrequency[i] = 0;\n        }\n        this.codes = undefined;\n        this.codeLength = undefined;\n    };\n    /**\n     * write code to the compressor output stream\n     * @param {number} code - code to be written\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.writeCodeToStream = function (code) {\n        this.writer.pendingBufferWriteBits(this.codes[code] & 0xffff, this.codeLength[code]);\n    };\n    /**\n     * calculate code from their frequencies\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.buildCodes = function () {\n        var nextCode = new Int32Array(this.maxLength);\n        this.codes = new Int16Array(this.codeCount);\n        var code = 0;\n        for (var bitsCount = 0; bitsCount < this.maxLength; bitsCount++) {\n            nextCode[bitsCount] = code;\n            code += this.lengthCount[bitsCount] << (15 - bitsCount);\n        }\n        for (var i = 0; i < this.codeCount; i++) {\n            var bits = this.codeLength[i];\n            if (bits > 0) {\n                this.codes[i] = CompressorHuffmanTree.bitReverse(nextCode[bits - 1]);\n                nextCode[bits - 1] += 1 << (16 - bits);\n            }\n        }\n    };\n    CompressorHuffmanTree.bitReverse = function (value) {\n        return (CompressorHuffmanTree.reverseBits[value & 15] << 12\n            | CompressorHuffmanTree.reverseBits[(value >> 4) & 15] << 8\n            | CompressorHuffmanTree.reverseBits[(value >> 8) & 15] << 4\n            | CompressorHuffmanTree.reverseBits[value >> 12]);\n    };\n    /**\n     * calculate length of compressed data\n     * @returns {number}\n     */\n    CompressorHuffmanTree.prototype.getEncodedLength = function () {\n        var len = 0;\n        for (var i = 0; i < this.codeFrequency.length; i++) {\n            len += this.codeFrequency[i] * this.codeLength[i];\n        }\n        return len;\n    };\n    /**\n     * calculate code frequencies\n     * @param {CompressorHuffmanTree} blTree\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.calculateBLFreq = function (blTree) {\n        var maxCount;\n        var minCount;\n        var count;\n        var curLen = -1;\n        var i = 0;\n        while (i < this.codeCount) {\n            count = 1;\n            var nextLen = this.codeLength[i];\n            if (nextLen === 0) {\n                maxCount = 138;\n                minCount = 3;\n            }\n            else {\n                maxCount = 6;\n                minCount = 3;\n                if (curLen !== nextLen) {\n                    blTree.codeFrequency[nextLen]++;\n                    count = 0;\n                }\n            }\n            curLen = nextLen;\n            i++;\n            while (i < this.codeCount && curLen === this.codeLength[i]) {\n                i++;\n                if (++count >= maxCount) {\n                    break;\n                }\n            }\n            if (count < minCount) {\n                blTree.codeFrequency[curLen] += count;\n            }\n            else if (curLen !== 0) {\n                blTree.codeFrequency[16]++;\n            }\n            else if (count <= 10) {\n                blTree.codeFrequency[17]++;\n            }\n            else {\n                blTree.codeFrequency[18]++;\n            }\n        }\n    };\n    /**\n     * @param {CompressorHuffmanTree} blTree - write tree to output stream\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.writeTree = function (blTree) {\n        var maxRepeatCount;\n        var minRepeatCount;\n        var currentRepeatCount;\n        var currentCodeLength = -1;\n        var i = 0;\n        while (i < this.codeCount) {\n            currentRepeatCount = 1;\n            var nextLen = this.codeLength[i];\n            if (nextLen === 0) {\n                maxRepeatCount = 138;\n                minRepeatCount = 3;\n            }\n            else {\n                maxRepeatCount = 6;\n                minRepeatCount = 3;\n                if (currentCodeLength !== nextLen) {\n                    blTree.writeCodeToStream(nextLen);\n                    currentRepeatCount = 0;\n                }\n            }\n            currentCodeLength = nextLen;\n            i++;\n            while (i < this.codeCount && currentCodeLength === this.codeLength[i]) {\n                i++;\n                if (++currentRepeatCount >= maxRepeatCount) {\n                    break;\n                }\n            }\n            if (currentRepeatCount < minRepeatCount) {\n                while (currentRepeatCount-- > 0) {\n                    blTree.writeCodeToStream(currentCodeLength);\n                }\n            }\n            else if (currentCodeLength !== 0) {\n                blTree.writeCodeToStream(16);\n                this.writer.pendingBufferWriteBits(currentRepeatCount - 3, 2);\n            }\n            else if (currentRepeatCount <= 10) {\n                blTree.writeCodeToStream(17);\n                this.writer.pendingBufferWriteBits(currentRepeatCount - 3, 3);\n            }\n            else {\n                blTree.writeCodeToStream(18);\n                this.writer.pendingBufferWriteBits(currentRepeatCount - 11, 7);\n            }\n        }\n    };\n    /**\n     * Build huffman tree\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.buildTree = function () {\n        var codesCount = this.codeFrequency.length;\n        var arrTree = new Int32Array(codesCount);\n        var treeLength = 0;\n        var maxCount = 0;\n        for (var n = 0; n < codesCount; n++) {\n            var freq = this.codeFrequency[n];\n            if (freq !== 0) {\n                var pos = treeLength++;\n                var pPos = 0;\n                while (pos > 0 && this.codeFrequency[arrTree[pPos = Math.floor((pos - 1) / 2)]] > freq) {\n                    arrTree[pos] = arrTree[pPos];\n                    pos = pPos;\n                }\n                arrTree[pos] = n;\n                maxCount = n;\n            }\n        }\n        while (treeLength < 2) {\n            arrTree[treeLength++] =\n                (maxCount < 2) ? ++maxCount : 0;\n        }\n        this.codeCount = Math.max(maxCount + 1, this.codeMinCount);\n        var leafsCount = treeLength;\n        var nodesCount = leafsCount;\n        var child = new Int32Array(4 * treeLength - 2);\n        var values = new Int32Array(2 * treeLength - 1);\n        for (var i = 0; i < treeLength; i++) {\n            var node = arrTree[i];\n            var iIndex = 2 * i;\n            child[iIndex] = node;\n            child[iIndex + 1] = -1;\n            values[i] = (this.codeFrequency[node] << 8);\n            arrTree[i] = i;\n        }\n        this.constructHuffmanTree(arrTree, treeLength, values, nodesCount, child);\n        this.buildLength(child);\n    };\n    CompressorHuffmanTree.prototype.constructHuffmanTree = function (arrTree, treeLength, values, nodesCount, child) {\n        do {\n            var first = arrTree[0];\n            var last = arrTree[--treeLength];\n            var lastVal = values[last];\n            var pPos = 0;\n            var path = 1;\n            while (path < treeLength) {\n                if (path + 1 < treeLength && values[arrTree[path]] > values[arrTree[path + 1]]) {\n                    path++;\n                }\n                arrTree[pPos] = arrTree[path];\n                pPos = path;\n                path = pPos * 2 + 1;\n            }\n            while ((path = pPos) > 0 && values[arrTree[pPos = Math.floor((path - 1) / 2)]] > lastVal) {\n                arrTree[path] = arrTree[pPos];\n            }\n            arrTree[path] = last;\n            var second = arrTree[0];\n            last = nodesCount++;\n            child[2 * last] = first;\n            child[2 * last + 1] = second;\n            var minDepth = Math.min(values[first] & 0xff, values[second] & 0xff);\n            values[last] = lastVal = values[first] + values[second] - minDepth + 1;\n            pPos = 0;\n            path = 1;\n            /* tslint:disable */\n            while (path < treeLength) {\n                if (path + 1 < treeLength && values[arrTree[path]] > values[arrTree[path + 1]]) {\n                    path++;\n                }\n                arrTree[pPos] = arrTree[path];\n                pPos = path;\n                path = pPos * 2 + 1;\n            } /* tslint:disable */\n            while ((path = pPos) > 0 && values[arrTree[pPos = Math.floor((path - 1) / 2)]] > lastVal) {\n                arrTree[path] = arrTree[pPos];\n            }\n            arrTree[path] = last;\n        } while (treeLength > 1);\n    };\n    CompressorHuffmanTree.prototype.buildLength = function (child) {\n        this.codeLength = new Uint8Array(this.codeFrequency.length);\n        var numNodes = Math.floor(child.length / 2);\n        var numLeafs = Math.floor((numNodes + 1) / 2);\n        var overflow = 0;\n        for (var i = 0; i < this.maxLength; i++) {\n            this.lengthCount[i] = 0;\n        }\n        overflow = this.calculateOptimalCodeLength(child, overflow, numNodes);\n        if (overflow === 0) {\n            return;\n        }\n        var iIncreasableLength = this.maxLength - 1;\n        do {\n            while (this.lengthCount[--iIncreasableLength] === 0) {\n                /* tslint:disable */\n            }\n            do {\n                this.lengthCount[iIncreasableLength]--;\n                this.lengthCount[++iIncreasableLength]++;\n                overflow -= (1 << (this.maxLength - 1 - iIncreasableLength));\n            } while (overflow > 0 && iIncreasableLength < this.maxLength - 1);\n        } while (overflow > 0);\n        this.recreateTree(child, overflow, numLeafs);\n    };\n    CompressorHuffmanTree.prototype.recreateTree = function (child, overflow, numLeafs) {\n        this.lengthCount[this.maxLength - 1] += overflow;\n        this.lengthCount[this.maxLength - 2] -= overflow;\n        var nodePtr = 2 * numLeafs;\n        for (var bits = this.maxLength; bits !== 0; bits--) {\n            var n = this.lengthCount[bits - 1];\n            while (n > 0) {\n                var childPtr = 2 * child[nodePtr++];\n                if (child[childPtr + 1] === -1) {\n                    this.codeLength[child[childPtr]] = bits;\n                    n--;\n                }\n            }\n        }\n    };\n    CompressorHuffmanTree.prototype.calculateOptimalCodeLength = function (child, overflow, numNodes) {\n        var lengths = new Int32Array(numNodes);\n        lengths[numNodes - 1] = 0;\n        for (var i = numNodes - 1; i >= 0; i--) {\n            var childIndex = 2 * i + 1;\n            if (child[childIndex] !== -1) {\n                var bitLength = lengths[i] + 1;\n                if (bitLength > this.maxLength) {\n                    bitLength = this.maxLength;\n                    overflow++;\n                }\n                lengths[child[childIndex - 1]] = lengths[child[childIndex]] = bitLength;\n            }\n            else {\n                var bitLength = lengths[i];\n                this.lengthCount[bitLength - 1]++;\n                this.codeLength[child[childIndex - 1]] = lengths[i];\n            }\n        }\n        return overflow;\n    };\n    CompressorHuffmanTree.reverseBits = [0, 8, 4, 12, 2, 10, 6, 14, 1, 9, 5, 13, 3, 11, 7, 15];\n    CompressorHuffmanTree.huffCodeLengthOrders = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];\n    return CompressorHuffmanTree;\n}());\nexport { CompressorHuffmanTree };\n/**\n * Checksum calculator, based on Adler32 algorithm.\n */\nvar ChecksumCalculator = /** @class */ (function () {\n    function ChecksumCalculator() {\n    }\n    /**\n     * Updates checksum by calculating checksum of the\n     * given buffer and adding it to current value.\n     * @param {number} checksum - current checksum.\n     * @param {Uint8Array} buffer - data byte array.\n     * @param {number} offset - offset in the buffer.\n     * @param {number} length - length of data to be used from the stream.\n     * @returns {number}\n     */\n    ChecksumCalculator.checksumUpdate = function (checksum, buffer, offset, length) {\n        var uint = new Uint32Array(1);\n        uint[0] = checksum;\n        var checksum_uint = uint[0];\n        var s1 = uint[0] = checksum_uint & 65535;\n        var s2 = uint[0] = checksum_uint >> ChecksumCalculator.checkSumBitOffset;\n        while (length > 0) {\n            var steps = Math.min(length, ChecksumCalculator.checksumIterationCount);\n            length -= steps;\n            while (--steps >= 0) {\n                s1 = s1 + (uint[0] = (buffer[offset++] & 255));\n                s2 = s2 + s1;\n            }\n            s1 %= ChecksumCalculator.checksumBase;\n            s2 %= ChecksumCalculator.checksumBase;\n        }\n        checksum_uint = (s2 << ChecksumCalculator.checkSumBitOffset) | s1;\n        return checksum_uint;\n    };\n    ChecksumCalculator.checkSumBitOffset = 16;\n    ChecksumCalculator.checksumBase = 65521;\n    ChecksumCalculator.checksumIterationCount = 3800;\n    return ChecksumCalculator;\n}());\nexport { ChecksumCalculator };\n/**\n * Huffman Tree literal calculation\n */\n(function () {\n    var i = 0;\n    while (i < 144) {\n        arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse((0x030 + i) << 8);\n        arrLiteralLengths[i++] = 8;\n    }\n    while (i < 256) {\n        arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse((0x190 - 144 + i) << 7);\n        arrLiteralLengths[i++] = 9;\n    }\n    while (i < 280) {\n        arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse((0x000 - 256 + i) << 9);\n        arrLiteralLengths[i++] = 7;\n    }\n    while (i < 286) {\n        arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse((0x0c0 - 280 + i) << 8);\n        arrLiteralLengths[i++] = 8;\n    }\n    for (i = 0; i < 30; i++) {\n        arrDistanceCodes[i] = CompressorHuffmanTree.bitReverse(i << 11);\n        arrDistanceLengths[i] = 5;\n    }\n})();\n","import { CompressedStreamWriter } from './compression-writer';\nimport { Save } from '@syncfusion/ej2-file-utils';\nvar crc32Table = [];\n/**\n * class provide compression library\n * ```typescript\n * let archive = new ZipArchive();\n * archive.compressionLevel = 'Normal';\n * let archiveItem = new ZipArchiveItem(archive, 'directoryName\\fileName.txt');\n * archive.addItem(archiveItem);\n * archive.save(fileName.zip);\n * ```\n */\nvar ZipArchive = /** @class */ (function () {\n    /**\n     * constructor for creating ZipArchive instance\n     */\n    function ZipArchive() {\n        this.files = [];\n        this.level = 'Normal';\n        Save.isMicrosoftBrowser = !(!navigator.msSaveBlob);\n    }\n    Object.defineProperty(ZipArchive.prototype, \"compressionLevel\", {\n        /**\n         * gets compression level\n         */\n        get: function () {\n            return this.level;\n        },\n        /**\n         * sets compression level\n         */\n        set: function (level) {\n            this.level = level;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ZipArchive.prototype, \"length\", {\n        /**\n         * gets items count\n         */\n        get: function () {\n            if (this.files === undefined) {\n                return 0;\n            }\n            return this.files.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * add new item to archive\n     * @param {ZipArchiveItem} item - item to be added\n     * @returns {void}\n     */\n    ZipArchive.prototype.addItem = function (item) {\n        if (item === null || item === undefined) {\n            throw new Error('ArgumentException: item cannot be null or undefined');\n        }\n        for (var i = 0; i < this.files.length; i++) {\n            var file = this.files[i];\n            if (file instanceof ZipArchiveItem) {\n                if (file.name === item.name) {\n                    throw new Error('item with same name already exist');\n                }\n            }\n        }\n        this.files.push(item);\n    };\n    /**\n     * add new directory to archive\n     * @param directoryName directoryName to be created\n     * @returns {void}\n     */\n    ZipArchive.prototype.addDirectory = function (directoryName) {\n        if (directoryName === null || directoryName === undefined) {\n            throw new Error('ArgumentException: string cannot be null or undefined');\n        }\n        if (directoryName.length === 0) {\n            throw new Error('ArgumentException: string cannot be empty');\n        }\n        if (directoryName.slice(-1) !== '/') {\n            directoryName += '/';\n        }\n        if (this.files.indexOf(directoryName) !== -1) {\n            throw new Error('item with same name already exist');\n        }\n        this.files.push(directoryName);\n    };\n    /**\n     * gets item at specified index\n     * @param {number} index - item index\n     * @returns {ZipArchiveItem}\n     */\n    ZipArchive.prototype.getItem = function (index) {\n        if (index >= 0 && index < this.files.length) {\n            return this.files[index];\n        }\n        return undefined;\n    };\n    /**\n     * determines whether an element is in the collection\n     * @param {string | ZipArchiveItem} item - item to search\n     * @returns {boolean}\n     */\n    ZipArchive.prototype.contains = function (item) {\n        return this.files.indexOf(item) !== -1 ? true : false;\n    };\n    /**\n     * save archive with specified file name\n     * @param {string} fileName save archive with specified file name\n     * @returns {Promise<ZipArchive>}\n     */\n    ZipArchive.prototype.save = function (fileName) {\n        if (fileName === null || fileName === undefined || fileName.length === 0) {\n            throw new Error('ArgumentException: fileName cannot be null or undefined');\n        }\n        if (this.files.length === 0) {\n            throw new Error('InvalidOperation');\n        }\n        var zipArchive = this;\n        var promise;\n        return promise = new Promise(function (resolve, reject) {\n            zipArchive.saveInternal(fileName, false).then(function () {\n                resolve(zipArchive);\n            });\n        });\n    };\n    /**\n     * Save archive as blob\n     * @return {Promise<Blob>}\n     */\n    ZipArchive.prototype.saveAsBlob = function () {\n        var zipArchive = this;\n        var promise;\n        return promise = new Promise(function (resolve, reject) {\n            zipArchive.saveInternal('', true).then(function (blob) {\n                resolve(blob);\n            });\n        });\n    };\n    ZipArchive.prototype.saveInternal = function (fileName, skipFileSave) {\n        var _this = this;\n        var zipArchive = this;\n        var promise;\n        return promise = new Promise(function (resolve, reject) {\n            var zipData = [];\n            var dirLength = 0;\n            for (var i = 0; i < zipArchive.files.length; i++) {\n                var compressedObject = _this.getCompressedData(_this.files[i]);\n                compressedObject.then(function (data) {\n                    dirLength = zipArchive.constructZippedObject(zipData, data, dirLength, data.isDirectory);\n                    if (zipData.length === zipArchive.files.length) {\n                        var blob = zipArchive.writeZippedContent(fileName, zipData, dirLength, skipFileSave);\n                        resolve(blob);\n                    }\n                });\n            }\n        });\n    };\n    /**\n     * release allocated un-managed resource\n     * @returns {void}\n     */\n    ZipArchive.prototype.destroy = function () {\n        if (this.files !== undefined && this.files.length > 0) {\n            for (var i = 0; i < this.files.length; i++) {\n                var file = this.files[i];\n                if (file instanceof ZipArchiveItem) {\n                    file.destroy();\n                }\n                file = undefined;\n            }\n            this.files = [];\n        }\n        this.files = undefined;\n        this.level = undefined;\n    };\n    ZipArchive.prototype.getCompressedData = function (item) {\n        var zipArchive = this;\n        var promise = new Promise(function (resolve, reject) {\n            if (item instanceof ZipArchiveItem) {\n                var reader_1 = new FileReader();\n                reader_1.onload = function () {\n                    var input = new Uint8Array(reader_1.result);\n                    var data = {\n                        fileName: item.name, crc32Value: 0, compressedData: [],\n                        compressedSize: undefined, uncompressedDataSize: input.length, compressionType: undefined,\n                        isDirectory: false\n                    };\n                    if (zipArchive.level === 'Normal') {\n                        zipArchive.compressData(input, data, crc32Table);\n                        var length_1 = 0;\n                        for (var i = 0; i < data.compressedData.length; i++) {\n                            length_1 += data.compressedData[i].length;\n                        }\n                        data.compressedSize = length_1;\n                        data.compressionType = '\\x08\\x00'; //Deflated = 8\n                    }\n                    else {\n                        data.compressedSize = input.length;\n                        data.crc32Value = zipArchive.calculateCrc32Value(0, input, crc32Table);\n                        data.compressionType = '\\x00\\x00'; // Stored = 0\n                        data.compressedData.push(input);\n                    }\n                    resolve(data);\n                };\n                reader_1.readAsArrayBuffer(item.data);\n            }\n            else {\n                var data = {\n                    fileName: item, crc32Value: 0, compressedData: '', compressedSize: 0, uncompressedDataSize: 0,\n                    compressionType: '\\x00\\x00', isDirectory: true\n                };\n                resolve(data);\n            }\n        });\n        return promise;\n    };\n    ZipArchive.prototype.compressData = function (input, data, crc32Table) {\n        var compressor = new CompressedStreamWriter(true);\n        var currentIndex = 0;\n        var nextIndex = 0;\n        do {\n            if (currentIndex >= input.length) {\n                compressor.close();\n                break;\n            }\n            nextIndex = Math.min(input.length, currentIndex + 16384);\n            var subArray = input.subarray(currentIndex, nextIndex);\n            data.crc32Value = this.calculateCrc32Value(data.crc32Value, subArray, crc32Table);\n            compressor.write(subArray, 0, nextIndex - currentIndex);\n            currentIndex = nextIndex;\n        } while (currentIndex <= input.length);\n        data.compressedData = compressor.compressedData;\n        compressor.destroy();\n    };\n    ZipArchive.prototype.constructZippedObject = function (zipParts, data, dirLength, isDirectory) {\n        var extFileAttr = 0;\n        var date = new Date();\n        if (isDirectory) {\n            extFileAttr = extFileAttr | 0x00010; // directory flag\n        }\n        extFileAttr = extFileAttr | (0 & 0x3F);\n        var header = this.writeHeader(data, date);\n        var localHeader = 'PK\\x03\\x04' + header + data.fileName;\n        var centralDir = this.writeCentralDirectory(data, header, dirLength, extFileAttr);\n        zipParts.push({ localHeader: localHeader, centralDir: centralDir, compressedData: data });\n        return dirLength + localHeader.length + data.compressedSize;\n    };\n    ZipArchive.prototype.writeHeader = function (data, date) {\n        var zipHeader = '';\n        zipHeader += '\\x0A\\x00' + '\\x00\\x00'; // version needed to extract & general purpose bit flag\n        zipHeader += data.compressionType; // compression method Deflate=8,Stored=0\n        zipHeader += this.getBytes(this.getModifiedTime(date), 2); // last modified Time\n        zipHeader += this.getBytes(this.getModifiedDate(date), 2); // last modified date\n        zipHeader += this.getBytes(data.crc32Value, 4); // crc-32 value\n        zipHeader += this.getBytes(data.compressedSize, 4); // compressed file size\n        zipHeader += this.getBytes(data.uncompressedDataSize, 4); // uncompressed file size\n        zipHeader += this.getBytes(data.fileName.length, 2); // file name length\n        zipHeader += this.getBytes(0, 2); // extra field length\n        return zipHeader;\n    };\n    ZipArchive.prototype.writeZippedContent = function (fileName, zipData, localDirLen, skipFileSave) {\n        var cenDirLen = 0;\n        var buffer = [];\n        for (var i = 0; i < zipData.length; i++) {\n            var item = zipData[i];\n            cenDirLen += item.centralDir.length;\n            buffer.push(this.getArrayBuffer(item.localHeader));\n            while (item.compressedData.compressedData.length) {\n                buffer.push(item.compressedData.compressedData.shift().buffer);\n            }\n        }\n        for (var i = 0; i < zipData.length; i++) {\n            buffer.push(this.getArrayBuffer(zipData[i].centralDir));\n        }\n        buffer.push(this.getArrayBuffer(this.writeFooter(zipData, cenDirLen, localDirLen)));\n        var blob = new Blob(buffer, { type: 'application/zip' });\n        if (!skipFileSave) {\n            Save.save(fileName, blob);\n        }\n        return blob;\n    };\n    ZipArchive.prototype.writeCentralDirectory = function (data, localHeader, offset, externalFileAttribute) {\n        var directoryHeader = 'PK\\x01\\x02' +\n            this.getBytes(0x0014, 2) + localHeader + // inherit from file header\n            this.getBytes(0, 2) + // comment length\n            '\\x00\\x00' + '\\x00\\x00' + // internal file attributes \n            this.getBytes(externalFileAttribute, 4) + // external file attributes\n            this.getBytes(offset, 4) + // local fileHeader relative offset\n            data.fileName;\n        return directoryHeader;\n    };\n    ZipArchive.prototype.writeFooter = function (zipData, centralLength, localLength) {\n        var dirEnd = 'PK\\x05\\x06' + '\\x00\\x00' + '\\x00\\x00' +\n            this.getBytes(zipData.length, 2) + this.getBytes(zipData.length, 2) +\n            this.getBytes(centralLength, 4) + this.getBytes(localLength, 4) +\n            this.getBytes(0, 2);\n        return dirEnd;\n    };\n    ZipArchive.prototype.getArrayBuffer = function (input) {\n        var a = new Uint8Array(input.length);\n        for (var j = 0; j < input.length; ++j) {\n            a[j] = input.charCodeAt(j) & 0xFF;\n        }\n        return a.buffer;\n    };\n    ZipArchive.prototype.getBytes = function (value, offset) {\n        var bytes = '';\n        for (var i = 0; i < offset; i++) {\n            bytes += String.fromCharCode(value & 0xff);\n            value = value >>> 8;\n        }\n        return bytes;\n    };\n    ZipArchive.prototype.getModifiedTime = function (date) {\n        var modTime = date.getHours();\n        modTime = modTime << 6;\n        modTime = modTime | date.getMinutes();\n        modTime = modTime << 5;\n        return modTime = modTime | date.getSeconds() / 2;\n    };\n    ZipArchive.prototype.getModifiedDate = function (date) {\n        var modiDate = date.getFullYear() - 1980;\n        modiDate = modiDate << 4;\n        modiDate = modiDate | (date.getMonth() + 1);\n        modiDate = modiDate << 5;\n        return modiDate = modiDate | date.getDate();\n    };\n    ZipArchive.prototype.calculateCrc32Value = function (crc32Value, input, crc32Table) {\n        crc32Value ^= -1;\n        for (var i = 0; i < input.length; i++) {\n            crc32Value = (crc32Value >>> 8) ^ crc32Table[(crc32Value ^ input[i]) & 0xFF];\n        }\n        return (crc32Value ^ (-1));\n    };\n    return ZipArchive;\n}());\nexport { ZipArchive };\n/**\n * Class represent unique ZipArchive item\n * ```typescript\n * let archiveItem = new ZipArchiveItem(archive, 'directoryName\\fileName.txt');\n * ```\n */\nvar ZipArchiveItem = /** @class */ (function () {\n    /**\n     * constructor for creating {ZipArchiveItem} instance\n     * @param {Blob|ArrayBuffer} data file data\n     * @param {itemName} itemName absolute file path\n     */\n    function ZipArchiveItem(data, itemName) {\n        if (data === null || data === undefined) {\n            throw new Error('ArgumentException: data cannot be null or undefined');\n        }\n        if (itemName === null || itemName === undefined) {\n            throw new Error('ArgumentException: string cannot be null or undefined');\n        }\n        if (itemName.length === 0) {\n            throw new Error('string cannot be empty');\n        }\n        this.data = data;\n        this.name = itemName;\n    }\n    Object.defineProperty(ZipArchiveItem.prototype, \"name\", {\n        /**\n         * Get the name of archive item\n         * @returns string\n         */\n        get: function () {\n            return this.fileName;\n        },\n        /**\n         * Set the name of archive item\n         * @param  {string} value\n         */\n        set: function (value) {\n            this.fileName = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * release allocated un-managed resource\n     * @returns {void}\n     */\n    ZipArchiveItem.prototype.destroy = function () {\n        this.fileName = undefined;\n        this.data = undefined;\n    };\n    return ZipArchiveItem;\n}());\nexport { ZipArchiveItem };\n/**\n * construct cyclic redundancy code table\n */\n(function () {\n    var i;\n    for (var j = 0; j < 256; j++) {\n        i = j;\n        for (var k = 0; k < 8; k++) {\n            i = ((i & 1) ? (0xEDB88320 ^ (i >>> 1)) : (i >>> 1));\n        }\n        crc32Table[j] = i;\n    }\n})();\n","import { isNullOrUndefined, merge } from './util';\nvar headerRegex = /^(.*?):[ \\t]*([^\\r\\n]*)$/gm;\nvar defaultType = 'GET';\n/**\n * Ajax class provides ability to make asynchronous HTTP request to the server\n * ```typescript\n *   var ajax = new Ajax(\"index.html\", \"GET\", true);\n *   ajax.send().then(\n *               function (value) {\n *                   console.log(value);\n *               },\n *               function (reason) {\n *                   console.log(reason);\n *               });\n * ```\n */\nvar Ajax = /** @class */ (function () {\n    /**\n     * Constructor for Ajax class\n     * @param  {string|Object} options?\n     * @param  {string} type?\n     * @param  {boolean} async?\n     * @returns defaultType\n     */\n    function Ajax(options, type, async) {\n        /**\n         * A boolean value indicating whether the request should be sent asynchronous or not.\n         * @default true\n         */\n        this.mode = true;\n        this.options = {};\n        if (typeof options === 'string') {\n            this.url = options;\n            this.type = type ? type.toUpperCase() : defaultType;\n            this.mode = !isNullOrUndefined(async) ? async : true;\n        }\n        else if (typeof options === 'object') {\n            this.options = options;\n            merge(this, this.options);\n        }\n        this.type = this.type ? this.type.toUpperCase() : defaultType;\n    }\n    /**\n     * Send the request to server.\n     * @param {any} data - To send the user data\n     * @return {Promise}\n     */\n    Ajax.prototype.send = function (data) {\n        var _this = this;\n        this.data = isNullOrUndefined(data) ? this.data : data;\n        var promise = new Promise(function (resolve, reject) {\n            _this.httpRequest = new XMLHttpRequest();\n            _this.httpRequest.onreadystatechange = function () { _this.stateChange(resolve, reject); };\n            _this.httpRequest.open(_this.type, _this.url, _this.mode);\n            // Set default headers\n            if (!isNullOrUndefined(_this.data)) {\n                _this.httpRequest.setRequestHeader('Content-Type', _this.contentType || 'application/json; charset=utf-8');\n            }\n            if (_this.beforeSend) {\n                _this.beforeSend();\n            }\n            _this.httpRequest.send(!isNullOrUndefined(_this.data) ? _this.data : null);\n        });\n        return promise;\n    };\n    Ajax.prototype.successHandler = function (data) {\n        if (this.onSuccess) {\n            this.onSuccess(data, this);\n        }\n        return data;\n    };\n    Ajax.prototype.failureHandler = function (reason) {\n        if (this.onFailure) {\n            this.onFailure(this.httpRequest);\n        }\n        return reason;\n    };\n    Ajax.prototype.stateChange = function (resolve, reject) {\n        var data = this.httpRequest.responseText;\n        if (this.dataType && this.dataType.toLowerCase() === 'json') {\n            if (data === '') {\n                data = undefined;\n            }\n            else {\n                try {\n                    data = JSON.parse(data);\n                }\n                catch (error) {\n                    // no exception handle\n                }\n            }\n        }\n        if (this.httpRequest.readyState === 4) {\n            if (this.httpRequest.status === 200 || this.httpRequest.status === 304) {\n                resolve(this.successHandler(data));\n            }\n            else {\n                reject(new Error(this.failureHandler(this.httpRequest.statusText)));\n            }\n        }\n    };\n    /**\n     * To get the response header from XMLHttpRequest\n     * @param  {string} key Key to search in the response header\n     * @returns {string}\n     */\n    Ajax.prototype.getResponseHeader = function (key) {\n        var responseHeaders;\n        var header;\n        responseHeaders = {};\n        var headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        while (headers) {\n            responseHeaders[headers[1].toLowerCase()] = headers[2];\n            headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        }\n        header = responseHeaders[key.toLowerCase()];\n        return isNullOrUndefined(header) ? null : header;\n    };\n    return Ajax;\n}());\nexport { Ajax };\n","import { debounce, extend } from './util';\n/**\n * EventHandler class provides option to add, remove, clear and trigger events to a HTML DOM element\n * @private\n * ```html\n * <div id=\"Eventdiv\">  </div>\n * <script>\n *   let node: HTMLElement = document.querySelector(\"#Eventdiv\");\n *   EventHandler.addEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   EventHandler.addEventListener(node, \"onmouseover\", function(){\n *       // mouseover handler function code\n *   });\n *   EventHandler.removeEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   eventObj.clearEvents();\n * </script>\n * ```\n */\nvar EventHandler = /** @class */ (function () {\n    function EventHandler() {\n    }\n    // to get the event data based on element\n    EventHandler.addOrGetEventData = function (element) {\n        if ('__eventList' in element) {\n            return element.__eventList.events;\n        }\n        else {\n            element.__eventList = {};\n            return element.__eventList.events = [];\n        }\n    };\n    /**\n     * Add an event to the specified DOM element.\n     * @param {any} element - Target HTML DOM element\n     * @param {string} eventName - A string that specifies the name of the event\n     * @param {Function} listener - Specifies the function to run when the event occurs\n     * @param {Object} bindTo - A object that binds 'this' variable in the event handler\n     * @param {number} debounce - Specifies at what interval given event listener should be triggered.\n     * @return {Function}\n     */\n    EventHandler.add = function (element, eventName, listener, bindTo, intDebounce) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var debounceListener;\n        if (intDebounce) {\n            debounceListener = debounce(listener, intDebounce);\n        }\n        else {\n            debounceListener = listener;\n        }\n        if (bindTo) {\n            debounceListener = debounceListener.bind(bindTo);\n        }\n        var event = eventName.split(' ');\n        for (var i = 0; i < event.length; i++) {\n            eventData.push({\n                name: event[i],\n                listener: listener,\n                debounce: debounceListener\n            });\n            element.addEventListener(event[i], debounceListener);\n        }\n        return debounceListener;\n    };\n    /**\n     * Remove an event listener that has been attached before.\n     * @param {any} element - Specifies the target html element to remove the event\n     * @param {string} eventName - A string that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    EventHandler.remove = function (element, eventName, listener) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var event = eventName.split(' ');\n        var _loop_1 = function (j) {\n            var index = -1;\n            var debounceListener;\n            if (eventData && eventData.length !== 0) {\n                eventData.some(function (x, i) {\n                    return x.name === event[j] && x.listener === listener ?\n                        (index = i, debounceListener = x.debounce, true) : false;\n                });\n            }\n            if (index !== -1) {\n                eventData.splice(index, 1);\n            }\n            if (debounceListener) {\n                element.removeEventListener(event[j], debounceListener);\n            }\n        };\n        for (var j = 0; j < event.length; j++) {\n            _loop_1(j);\n        }\n    };\n    /**\n     * Clear all the event listeners that has been previously attached to the element.\n     * @param {any} element - Specifies the target html element to clear the events\n     * @return {void}\n     */\n    EventHandler.clearEvents = function (element) {\n        var eventData;\n        var copyData;\n        eventData = EventHandler.addOrGetEventData(element);\n        copyData = extend([], copyData, eventData);\n        for (var i = 0; i < copyData.length; i++) {\n            element.removeEventListener(copyData[i].name, copyData[i].debounce);\n            eventData.shift();\n        }\n    };\n    /**\n     * Trigger particular event of the element.\n     * @param {any} element - Specifies the target html element to trigger the events\n     * @param {string} eventName - Specifies the event to trigger for the specified element.\n     * Can be a custom event, or any of the standard events.\n     * @param {any} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    EventHandler.trigger = function (element, eventName, eventProp) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var fn = null;\n        for (var _i = 0, eventData_1 = eventData; _i < eventData_1.length; _i++) {\n            var event_1 = eventData_1[_i];\n            if (event_1.name === eventName) {\n                event_1.debounce.call(this, eventProp);\n            }\n        }\n    };\n    return EventHandler;\n}());\nexport { EventHandler };\n","import { isNullOrUndefined, getValue } from './util';\nvar Observer = /** @class */ (function () {\n    function Observer(context) {\n        this.ranArray = [];\n        this.boundedEvents = {};\n        if (isNullOrUndefined(context)) {\n            return;\n        }\n        this.context = context;\n    }\n    ;\n    /**\n     * To attach handler for given property in current context.\n     * @param {string} property - specifies the name of the event.\n     * @param {Function} handler - Specifies the handler function to be called while event notified.\n     * @param {Object} context - Specifies the context binded to the handler.\n     * @return {void}\n     */\n    Observer.prototype.on = function (property, handler, context, id) {\n        if (isNullOrUndefined(handler)) {\n            return;\n        }\n        var cntxt = context || this.context;\n        if (this.notExist(property)) {\n            this.boundedEvents[property] = [{ handler: handler, context: cntxt }];\n            return;\n        }\n        if (!isNullOrUndefined(id)) {\n            if (this.ranArray.indexOf(id) === -1) {\n                this.ranArray.push(id);\n                this.boundedEvents[property].push({ handler: handler, context: cntxt, id: id });\n            }\n        }\n        else if (!this.isHandlerPresent(this.boundedEvents[property], handler)) {\n            this.boundedEvents[property].push({ handler: handler, context: cntxt });\n        }\n    };\n    /**\n     * To remove handlers from a event attached using on() function.\n     * @param {string} eventName - specifies the name of the event.\n     * @param {Function} handler - Optional argument specifies the handler function to be called while event notified.\n     * @return {void}\n     */\n    Observer.prototype.off = function (property, handler, id) {\n        if (this.notExist(property)) {\n            return;\n        }\n        var curObject = getValue(property, this.boundedEvents);\n        if (handler) {\n            for (var i = 0; i < curObject.length; i++) {\n                if (id) {\n                    curObject.splice(i, 1);\n                    var indexLocation = this.ranArray.indexOf(id);\n                    if (indexLocation !== -1) {\n                        this.ranArray.splice(indexLocation, 1);\n                    }\n                    break;\n                }\n                else if (handler === curObject[i].handler) {\n                    curObject.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        else {\n            delete this.boundedEvents[property];\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     *  @param {Object} args - Additional parameters to pass while calling the handler.\n     * @return {void}\n     */\n    Observer.prototype.notify = function (property, argument) {\n        if (this.notExist(property)) {\n            return;\n        }\n        if (argument) {\n            argument.name = property;\n        }\n        var curObject = getValue(property, this.boundedEvents).slice(0);\n        for (var _i = 0, curObject_1 = curObject; _i < curObject_1.length; _i++) {\n            var cur = curObject_1[_i];\n            cur.handler.call(cur.context, argument);\n        }\n    };\n    /**\n     * To destroy handlers in the event\n     */\n    Observer.prototype.destroy = function () {\n        this.boundedEvents = this.context = undefined;\n    };\n    /**\n     * Returns if the property exists.\n     */\n    Observer.prototype.notExist = function (prop) {\n        return this.boundedEvents.hasOwnProperty(prop) === false;\n    };\n    /**\n     * Returns if the handler is present.\n     */\n    Observer.prototype.isHandlerPresent = function (boundedEvents, handler) {\n        for (var _i = 0, boundedEvents_1 = boundedEvents; _i < boundedEvents_1.length; _i++) {\n            var cur = boundedEvents_1[_i];\n            if (cur.handler === handler) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return Observer;\n}());\nexport { Observer };\n","import { isUndefined, isNullOrUndefined, merge, setImmediate, setValue } from './util';\nimport { addClass, removeClass } from './dom';\nimport { Observer } from './observer';\n/* tslint:enable:no-any */\n/**\n * Base library module is common module for Framework modules like touch,keyboard and etc.,\n * @private\n */\nvar Base = /** @class */ (function () {\n    /**\n     * Base constructor accept options and element\n     */\n    function Base(options, element) {\n        this.isProtectedOnChange = true;\n        this.properties = {};\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.refreshing = false;\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.childChangedProperties = {};\n        this.modelObserver = new Observer(this);\n        if (!isUndefined(element)) {\n            if ('string' === typeof (element)) {\n                this.element = document.querySelector(element);\n            }\n            else {\n                this.element = element;\n            }\n            if (!isNullOrUndefined(this.element)) {\n                this.isProtectedOnChange = false;\n                this.addInstance();\n            }\n        }\n        if (!isUndefined(options)) {\n            this.setProperties(options, true);\n        }\n        this.isDestroyed = false;\n    }\n    /** Property base section */\n    /**\n     * Function used to set bunch of property at a time.\n     * @private\n     * @param  {Object} prop - JSON object which holds components properties.\n     * @param  {boolean} muteOnChange? - Specifies to true when we set properties.\n     */\n    Base.prototype.setProperties = function (prop, muteOnChange) {\n        var prevDetection = this.isProtectedOnChange;\n        this.isProtectedOnChange = !!muteOnChange;\n        merge(this, prop);\n        if (muteOnChange !== true) {\n            merge(this.changedProperties, prop);\n            this.dataBind();\n        }\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.isProtectedOnChange = prevDetection;\n    };\n    ;\n    /**\n     * Calls for child element data bind\n     * @param {Object} obj\n     * @param {Object} parent\n     * @returns {void}\n     */\n    // tslint:disable-next-line:no-any\n    Base.callChildDataBind = function (obj, parent) {\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (parent[key] instanceof Array) {\n                for (var _a = 0, _b = parent[key]; _a < _b.length; _a++) {\n                    var obj_1 = _b[_a];\n                    if (obj_1.dataBind !== undefined) {\n                        obj_1.dataBind();\n                    }\n                }\n            }\n            else {\n                parent[key].dataBind();\n            }\n        }\n    };\n    Base.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.childChangedProperties = {};\n    };\n    /**\n     * Bind property changes immediately to components\n     */\n    Base.prototype.dataBind = function () {\n        Base.callChildDataBind(this.childChangedProperties, this);\n        if (Object.getOwnPropertyNames(this.changedProperties).length) {\n            var prevDetection = this.isProtectedOnChange;\n            var newChanges = this.changedProperties;\n            var oldChanges = this.oldProperties;\n            this.clearChanges();\n            this.isProtectedOnChange = true;\n            this.onPropertyChanged(newChanges, oldChanges);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    ;\n    Base.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.finalUpdate();\n        this.finalUpdate = setImmediate(this.dataBind.bind(this));\n    };\n    ;\n    /** Event Base Section */\n    /**\n     * Adds the handler to the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event\n     * @param {Function} listener - Specifies the call to run when the event occurs.\n     * @return {void}\n     */\n    Base.prototype.addEventListener = function (eventName, handler) {\n        this.modelObserver.on(eventName, handler);\n    };\n    /**\n     * Removes the handler from the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    Base.prototype.removeEventListener = function (eventName, handler) {\n        this.modelObserver.off(eventName, handler);\n    };\n    /**\n     * Triggers the handlers in the specified event.\n     * @private\n     * @param {string} eventName - Specifies the event to trigger for the specified component properties.\n     * Can be a custom event, or any of the standard events.\n     * @param {Event} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    Base.prototype.trigger = function (eventName, eventProp) {\n        if (this.isDestroyed !== true) {\n            var prevDetection = this.isProtectedOnChange;\n            this.isProtectedOnChange = false;\n            this.modelObserver.notify(eventName, eventProp);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    /**\n     * To maintain instance in base class\n     */\n    Base.prototype.addInstance = function () {\n        // Add module class to the root element\n        var moduleClass = 'e-' + this.getModuleName().toLowerCase();\n        addClass([this.element], ['e-control', moduleClass]);\n        if (!isNullOrUndefined(this.element.ej2_instances)) {\n            this.element.ej2_instances.push(this);\n        }\n        else {\n            setValue('ej2_instances', [this], this.element);\n        }\n    };\n    /**\n     * To remove the instance from the element\n     */\n    Base.prototype.destroy = function () {\n        var _this = this;\n        this.element.ej2_instances =\n            this.element.ej2_instances.filter(function (i) { return i !== _this; });\n        removeClass([this.element], ['e-' + this.getModuleName()]);\n        if (this.element.ej2_instances.length === 0) {\n            // Remove module class from the root element\n            removeClass([this.element], ['e-control']);\n        }\n        this.clearChanges();\n        this.modelObserver.destroy();\n        this.isDestroyed = true;\n    };\n    return Base;\n}());\nexport { Base };\n","import { isUndefined } from './util';\nvar REGX_MOBILE = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i;\nvar REGX_IE = /msie|trident/i;\nvar REGX_IE11 = /Trident\\/7\\./;\nvar REGX_IOS = /(ipad|iphone|ipod touch)/i;\nvar REGX_IOS7 = /(ipad|iphone|ipod touch);.*os 7_\\d|(ipad|iphone|ipod touch);.*os 8_\\d/i;\nvar REGX_ANDROID = /android/i;\nvar REGX_WINDOWS = /trident|windows phone|edge/i;\nvar REGX_VERSION = /(version)[ \\/]([\\w.]+)/i;\nvar REGX_BROWSER = {\n    OPERA: /(opera|opr)(?:.*version|)[ \\/]([\\w.]+)/i,\n    EDGE: /(edge)(?:.*version|)[ \\/]([\\w.]+)/i,\n    CHROME: /(chrome|crios)[ \\/]([\\w.]+)/i,\n    PANTHOMEJS: /(phantomjs)[ \\/]([\\w.]+)/i,\n    SAFARI: /(safari)[ \\/]([\\w.]+)/i,\n    WEBKIT: /(webkit)[ \\/]([\\w.]+)/i,\n    MSIE: /(msie|trident) ([\\w.]+)/i,\n    MOZILLA: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n};\n/* istanbul ignore else  */\nif (typeof window !== 'undefined') {\n    window.browserDetails = window.browserDetails || {};\n}\n/**\n * Get configuration details for Browser\n * @private\n */\nvar Browser = /** @class */ (function () {\n    function Browser() {\n    }\n    Browser.extractBrowserDetail = function () {\n        var browserInfo = { culture: {} };\n        var keys = Object.keys(REGX_BROWSER);\n        var clientInfo = [];\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            clientInfo = Browser.userAgent.match(REGX_BROWSER[key]);\n            if (clientInfo) {\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'opr' ? 'opera' : clientInfo[1].toLowerCase());\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'crios' ? 'chrome' : browserInfo.name);\n                browserInfo.version = clientInfo[2];\n                browserInfo.culture.name = browserInfo.culture.language = navigator.language;\n                if (!!Browser.userAgent.match(REGX_IE11)) {\n                    browserInfo.name = 'msie';\n                    break;\n                }\n                var version = Browser.userAgent.match(REGX_VERSION);\n                if (browserInfo.name === 'safari' && version) {\n                    browserInfo.version = version[2];\n                }\n                break;\n            }\n        }\n        return browserInfo;\n    };\n    /**\n     * To get events from the browser\n     * @param {string} event - type of event triggered.\n     * @returns {Boolean}\n     */\n    Browser.getEvent = function (event) {\n        // tslint:disable-next-line:no-any\n        var events = {\n            start: {\n                isPointer: 'pointerdown', isTouch: 'touchstart', isDevice: 'mousedown'\n            },\n            move: {\n                isPointer: 'pointermove', isTouch: 'touchmove', isDevice: 'mousemove'\n            },\n            end: {\n                isPointer: 'pointerup', isTouch: 'touchend', isDevice: 'mouseup'\n            }\n        };\n        return (Browser.isPointer ? events[event].isPointer :\n            (Browser.isTouch ? events[event].isTouch + (!Browser.isDevice ? ' ' + events[event].isDevice : '')\n                : events[event].isDevice));\n    };\n    /**\n     * To get the Touch start event from browser\n     * @returns {string}\n     */\n    Browser.getTouchStartEvent = function () {\n        return Browser.getEvent('start');\n    };\n    /**\n     * To get the Touch end event from browser\n     * @returns {string}\n     */\n    Browser.getTouchEndEvent = function () {\n        return Browser.getEvent('end');\n    };\n    /**\n     * To get the Touch move event from browser\n     * @returns {string}\n     */\n    Browser.getTouchMoveEvent = function () {\n        return Browser.getEvent('move');\n    };\n    /**\n     * To get the value based on provided key and regX\n     * @param {string} key\n     * @param {RegExp} regX\n     * @returns {Object}\n     */\n    Browser.getValue = function (key, regX) {\n        var browserDetails = window.browserDetails;\n        if ('undefined' === typeof browserDetails[key]) {\n            return browserDetails[key] = regX.test(Browser.userAgent);\n        }\n        return browserDetails[key];\n    };\n    Object.defineProperty(Browser, \"userAgent\", {\n        get: function () {\n            return Browser.uA;\n        },\n        //Properties \n        /**\n         * Property specifies the userAgent of the browser. Default userAgent value is based on the browser.\n         * Also we can set our own userAgent.\n         */\n        set: function (uA) {\n            Browser.uA = uA;\n            window.browserDetails = {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"info\", {\n        //Read Only Properties\n        /**\n         * Property is to get the browser information like Name, Version and Language\n         * @returns BrowserInfo\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.info)) {\n                return window.browserDetails.info = Browser.extractBrowserDetail();\n            }\n            return window.browserDetails.info;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIE\", {\n        /**\n         * Property is to get whether the userAgent is based IE.\n         */\n        get: function () {\n            return Browser.getValue('isIE', REGX_IE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isTouch\", {\n        /**\n         * Property is to get whether the browser has touch support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isTouch)) {\n                return window.browserDetails.isTouch = ('ontouchstart' in window);\n            }\n            return window.browserDetails.isTouch;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isPointer\", {\n        /**\n         * Property is to get whether the browser has Pointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isPointer)) {\n                return window.browserDetails.isPointer = ('pointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isMSPointer\", {\n        /**\n         * Property is to get whether the browser has MSPointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isMSPointer)) {\n                return window.browserDetails.isMSPointer = ('msPointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isMSPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isDevice\", {\n        /**\n         * Property is to get whether the userAgent is device based.\n         */\n        get: function () {\n            return Browser.getValue('isDevice', REGX_MOBILE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos\", {\n        /**\n         * Property is to get whether the userAgent is IOS.\n         */\n        get: function () {\n            return Browser.getValue('isIos', REGX_IOS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos7\", {\n        /**\n         * Property is to get whether the userAgent is Ios7.\n         */\n        get: function () {\n            return Browser.getValue('isIos7', REGX_IOS7);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isAndroid\", {\n        /**\n         * Property is to get whether the userAgent is Android.\n         */\n        get: function () {\n            return Browser.getValue('isAndroid', REGX_ANDROID);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWebView\", {\n        /**\n         * Property is to identify whether application ran in web view.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isWebView)) {\n                window.browserDetails.isWebView = !(isUndefined(window.cordova) && isUndefined(window.PhoneGap)\n                    && isUndefined(window.phonegap) && window.forge !== 'object');\n                return window.browserDetails.isWebView;\n            }\n            return window.browserDetails.isWebView;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWindows\", {\n        /**\n         * Property is to get whether the userAgent is Windows.\n         */\n        get: function () {\n            return Browser.getValue('isWindows', REGX_WINDOWS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchStartEvent\", {\n        /**\n         * Property is to get the touch start event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchStartEvent)) {\n                return window.browserDetails.touchStartEvent = Browser.getTouchStartEvent();\n            }\n            return window.browserDetails.touchStartEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchMoveEvent\", {\n        /**\n         * Property is to get the touch move event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchMoveEvent)) {\n                return window.browserDetails.touchMoveEvent = Browser.getTouchMoveEvent();\n            }\n            return window.browserDetails.touchMoveEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchEndEvent\", {\n        /**\n         * Property is to get the touch end event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchEndEvent)) {\n                return window.browserDetails.touchEndEvent = Browser.getTouchEndEvent();\n            }\n            return window.browserDetails.touchEndEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /* istanbul ignore next */\n    Browser.uA = typeof navigator !== 'undefined' ? navigator.userAgent : '';\n    return Browser;\n}());\nexport { Browser };\n","import { getValue, isNullOrUndefined, extend } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { DateFormat } from './date-formatter';\nimport { NumberFormat } from './number-formatter';\n/**\n * Date base common constants and function for date parser and formatter.\n */\nexport var IntlBase;\n(function (IntlBase) {\n    // tslint:disable-next-line:max-line-length\n    IntlBase.negativeDataRegex = /^(('[^']+'|''|[^*#@0,.E])*)(\\*.)?((([#,]*[0,]*0+)(\\.0*[0-9]*#*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.customRegex = /^(('[^']+'|''|[^*#@0,.])*)(\\*.)?((([0#,]*[0,]*[0#]*)(\\.[0#]*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.latnParseRegex = /0|1|2|3|4|5|6|7|8|9/g;\n    var fractionRegex = /[0-9]/g;\n    IntlBase.defaultCurrency = '$';\n    var mapper = ['infinity', 'nan', 'group', 'decimal'];\n    var patternRegex = /G|M|L|H|c|'| a|yy|y|EEEE|E/g;\n    var patternMatch = {\n        'G': '',\n        'M': 'm',\n        'L': 'm',\n        'H': 'h',\n        'c': 'd',\n        '\\'': '\"',\n        ' a': ' AM/PM',\n        'yy': 'yy',\n        'y': 'yyyy',\n        'EEEE': 'dddd',\n        'E': 'ddd'\n    };\n    IntlBase.formatRegex = /(^[ncpae]{1})([0-1]?[0-9]|20)?$/i;\n    var typeMapper = {\n        '$': 'isCurrency',\n        '%': 'isPercent',\n        '-': 'isNegative',\n        0: 'nlead',\n        1: 'nend'\n    };\n    IntlBase.dateParseRegex = /([a-z])\\1*|'([^']|'')+'|''|./gi;\n    IntlBase.basicPatterns = ['short', 'medium', 'long', 'full'];\n    /* tslint:disable:quotemark */\n    IntlBase.defaultObject = {\n        'dates': {\n            'calendars': {\n                'gregorian': {\n                    'months': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                '1': 'Jan',\n                                '2': 'Feb',\n                                '3': 'Mar',\n                                '4': 'Apr',\n                                '5': 'May',\n                                '6': 'Jun',\n                                '7': 'Jul',\n                                '8': 'Aug',\n                                '9': 'Sep',\n                                '10': 'Oct',\n                                '11': 'Nov',\n                                '12': 'Dec'\n                            },\n                            'narrow': {\n                                '1': 'J',\n                                '2': 'F',\n                                '3': 'M',\n                                '4': 'A',\n                                '5': 'M',\n                                '6': 'J',\n                                '7': 'J',\n                                '8': 'A',\n                                '9': 'S',\n                                '10': 'O',\n                                '11': 'N',\n                                '12': 'D'\n                            },\n                            'wide': {\n                                '1': 'January',\n                                '2': 'February',\n                                '3': 'March',\n                                '4': 'April',\n                                '5': 'May',\n                                '6': 'June',\n                                '7': 'July',\n                                '8': 'August',\n                                '9': 'September',\n                                '10': 'October',\n                                '11': 'November',\n                                '12': 'December'\n                            }\n                        }\n                    },\n                    \"days\": {\n                        \"stand-alone\": {\n                            \"abbreviated\": {\n                                \"sun\": \"Sun\",\n                                \"mon\": \"Mon\",\n                                \"tue\": \"Tue\",\n                                \"wed\": \"Wed\",\n                                \"thu\": \"Thu\",\n                                \"fri\": \"Fri\",\n                                \"sat\": \"Sat\"\n                            },\n                            \"narrow\": {\n                                \"sun\": \"S\",\n                                \"mon\": \"M\",\n                                \"tue\": \"T\",\n                                \"wed\": \"W\",\n                                \"thu\": \"T\",\n                                \"fri\": \"F\",\n                                \"sat\": \"S\"\n                            },\n                            \"short\": {\n                                \"sun\": \"Su\",\n                                \"mon\": \"Mo\",\n                                \"tue\": \"Tu\",\n                                \"wed\": \"We\",\n                                \"thu\": \"Th\",\n                                \"fri\": \"Fr\",\n                                \"sat\": \"Sa\"\n                            },\n                            \"wide\": {\n                                \"sun\": \"Sunday\",\n                                \"mon\": \"Monday\",\n                                \"tue\": \"Tuesday\",\n                                \"wed\": \"Wednesday\",\n                                \"thu\": \"Thursday\",\n                                \"fri\": \"Friday\",\n                                \"sat\": \"Saturday\"\n                            }\n                        }\n                    },\n                    \"dayPeriods\": {\n                        \"format\": {\n                            \"wide\": {\n                                \"am\": \"AM\",\n                                \"pm\": \"PM\"\n                            }\n                        }\n                    },\n                    'eras': {\n                        'eraNames': {\n                            '0': 'Before Christ',\n                            '0-alt-variant': 'Before Common Era',\n                            '1': 'Anno Domini',\n                            \"1-alt-variant\": \"Common Era\"\n                        },\n                        'eraAbbr': {\n                            '0': 'BC',\n                            '0-alt-variant': 'BCE',\n                            '1': 'AD',\n                            '1-alt-variant': 'CE'\n                        },\n                        'eraNarrow': {\n                            '0': 'B',\n                            '0-alt-variant': 'BCE',\n                            '1': 'A',\n                            '1-alt-variant': 'CE'\n                        }\n                    },\n                    'dateFormats': {\n                        'full': 'EEEE, MMMM d, y',\n                        'long': 'MMMM d, y',\n                        'medium': 'MMM d, y',\n                        'short': 'M/d/yy'\n                    },\n                    'timeFormats': {\n                        'full': 'h:mm:ss a zzzz',\n                        'long': 'h:mm:ss a z',\n                        'medium': 'h:mm:ss a',\n                        'short': 'h:mm a'\n                    },\n                    'dateTimeFormats': {\n                        'full': \"{1} 'at' {0}\",\n                        'long': \"{1} 'at' {0}\",\n                        'medium': '{1}, {0}',\n                        'short': '{1}, {0}',\n                        'availableFormats': {\n                            'd': 'd',\n                            'E': 'ccc',\n                            'Ed': 'd E',\n                            'Ehm': 'E h:mm a',\n                            'EHm': 'E HH:mm',\n                            'Ehms': 'E h:mm:ss a',\n                            'EHms': 'E HH:mm:ss',\n                            'Gy': 'y G',\n                            'GyMMM': 'MMM y G',\n                            'GyMMMd': 'MMM d, y G',\n                            'GyMMMEd': 'E, MMM d, y G',\n                            'h': 'h a',\n                            'H': 'HH',\n                            'hm': 'h:mm a',\n                            'Hm': 'HH:mm',\n                            'hms': 'h:mm:ss a',\n                            'Hms': 'HH:mm:ss',\n                            'hmsv': 'h:mm:ss a v',\n                            'Hmsv': 'HH:mm:ss v',\n                            'hmv': 'h:mm a v',\n                            'Hmv': 'HH:mm v',\n                            'M': 'L',\n                            'Md': 'M/d',\n                            'MEd': 'E, M/d',\n                            'MMM': 'LLL',\n                            'MMMd': 'MMM d',\n                            'MMMEd': 'E, MMM d',\n                            'MMMMd': 'MMMM d',\n                            'ms': 'mm:ss',\n                            'y': 'y',\n                            'yM': 'M/y',\n                            'yMd': 'M/d/y',\n                            'yMEd': 'E, M/d/y',\n                            'yMMM': 'MMM y',\n                            'yMMMd': 'MMM d, y',\n                            'yMMMEd': 'E, MMM d, y',\n                            'yMMMM': 'MMMM y',\n                        },\n                    }\n                }\n            },\n            'timeZoneNames': {\n                \"hourFormat\": \"+HH:mm;-HH:mm\",\n                \"gmtFormat\": \"GMT{0}\",\n                \"gmtZeroFormat\": \"GMT\",\n            }\n        },\n        'numbers': {\n            'currencies': {\n                'USD': {\n                    'displayName': 'US Dollar',\n                    'symbol': '$',\n                    'symbol-alt-narrow': '$'\n                },\n                'EUR': {\n                    'displayName': 'Euro',\n                    'symbol': '€',\n                    'symbol-alt-narrow': '€'\n                },\n                'GBP': {\n                    'displayName': 'British Pound',\n                    'symbol-alt-narrow': '£'\n                },\n            },\n            'defaultNumberingSystem': 'latn',\n            'minimumGroupingDigits': '1',\n            'symbols-numberSystem-latn': {\n                'decimal': '.',\n                'group': ',',\n                'list': ';',\n                'percentSign': '%',\n                'plusSign': '+',\n                'minusSign': '-',\n                'exponential': 'E',\n                'superscriptingExponent': '×',\n                'perMille': '‰',\n                'infinity': '∞',\n                'nan': 'NaN',\n                'timeSeparator': ':'\n            },\n            'decimalFormats-numberSystem-latn': {\n                'standard': '#,##0.###',\n            },\n            'percentFormats-numberSystem-latn': {\n                'standard': '#,##0%'\n            },\n            'currencyFormats-numberSystem-latn': {\n                'standard': '¤#,##0.00',\n                'accounting': '¤#,##0.00;(¤#,##0.00)'\n            },\n            'scientificFormats-numberSystem-latn': {\n                'standard': '#E0'\n            }\n        }\n    };\n    /* tslint:enable:quotemark */\n    IntlBase.monthIndex = {\n        3: 'abbreviated',\n        4: 'wide',\n        5: 'narrow',\n        1: 'abbreviated'\n    };\n    /**\n     *\n     */\n    IntlBase.month = 'months';\n    IntlBase.days = 'days';\n    /**\n     * Default numerber Object\n     */\n    IntlBase.patternMatcher = {\n        C: 'currency',\n        P: 'percent',\n        N: 'decimal',\n        A: 'currency',\n        E: 'scientific'\n    };\n    /**\n     * Returns the resultant pattern based on the skeleton, dateObject and the type provided\n     * @private\n     * @param {string} skeleton\n     * @param {Object} dateObject\n     * @param {string} type\n     * @returns {string}\n     */\n    function getResultantPattern(skeleton, dateObject, type) {\n        var resPattern;\n        var iType = type || 'date';\n        if (IntlBase.basicPatterns.indexOf(skeleton) !== -1) {\n            resPattern = getValue(iType + 'Formats.' + skeleton, dateObject);\n            if (iType === 'dateTime') {\n                var dPattern = getValue('dateFormats.' + skeleton, dateObject);\n                var tPattern = getValue('timeFormats.' + skeleton, dateObject);\n                resPattern = resPattern.replace('{1}', dPattern).replace('{0}', tPattern);\n            }\n        }\n        else {\n            resPattern = getValue('dateTimeFormats.availableFormats.' + skeleton, dateObject);\n        }\n        return resPattern;\n    }\n    IntlBase.getResultantPattern = getResultantPattern;\n    /**\n     * Returns the dependable object for provided cldr data and culture\n     * @private\n     * @param {Object} cldr\n     * @param {string} culture\n     * @param {boolean} isNumber\n     * @returns {Dependables}\n     */\n    function getDependables(cldr, culture, isNumber) {\n        var ret = {};\n        ret.parserObject = parser.getMainObject(cldr, culture) || IntlBase.defaultObject;\n        if (isNumber) {\n            ret.numericObject = getValue('numbers', ret.parserObject);\n        }\n        else {\n            ret.dateObject = getValue('dates.calendars.gregorian', ret.parserObject);\n        }\n        return ret;\n    }\n    IntlBase.getDependables = getDependables;\n    /**\n     * Returns the symbol pattern for provided parameters\n     * @private\n     * @param {string} type\n     * @param {string} numSystem\n     * @param {Object} obj\n     * @param {boolean} isAccount\n     * @returns {string}\n     */\n    function getSymbolPattern(type, numSystem, obj, isAccount) {\n        return getValue(type + 'Formats-numberSystem-' +\n            numSystem + (isAccount ? '.accounting' : '.standard'), obj) || (isAccount ? getValue(type + 'Formats-numberSystem-' +\n            numSystem + '.standard', obj) : '');\n    }\n    IntlBase.getSymbolPattern = getSymbolPattern;\n    /**\n     * Returns proper numeric skeleton\n     * @private\n     * @param {string} skeleton\n     * @returns {NumericSkeleton}\n     */\n    function getProperNumericSkeleton(skeleton) {\n        var matches = skeleton.match(IntlBase.formatRegex);\n        var ret = {};\n        var pattern = matches[1].toUpperCase();\n        ret.isAccount = (pattern === 'A');\n        /* tslint:disable no-any */\n        ret.type = IntlBase.patternMatcher[pattern];\n        if (skeleton.length > 1) {\n            ret.fractionDigits = parseInt(matches[2], 10);\n        }\n        return ret;\n    }\n    IntlBase.getProperNumericSkeleton = getProperNumericSkeleton;\n    /**\n     * Returns format data for number formatting like minimum fraction, maximum fraction, etc..,\n     * @private\n     * @param {string} pattern\n     * @param {boolean} needFraction\n     * @param {string} cSymbol\n     * @param {boolean} fractionOnly\n     * @returns {NegativeData}\n     */\n    function getFormatData(pattern, needFraction, cSymbol, fractionOnly) {\n        var nData = fractionOnly ? {} : { nlead: '', nend: '' };\n        var match = pattern.match(IntlBase.customRegex);\n        if (match) {\n            if (!fractionOnly) {\n                nData.nlead = changeCurrencySymbol(match[1], cSymbol);\n                nData.nend = changeCurrencySymbol(match[10], cSymbol);\n                nData.groupPattern = match[4];\n            }\n            var fraction = match[7];\n            if (fraction && needFraction) {\n                var fmatch = fraction.match(fractionRegex);\n                if (!isNullOrUndefined(fmatch)) {\n                    nData.minimumFraction = fmatch.length;\n                }\n                else {\n                    nData.minimumFraction = 0;\n                }\n                nData.maximumFraction = fraction.length - 1;\n            }\n        }\n        return nData;\n    }\n    IntlBase.getFormatData = getFormatData;\n    /**\n     * Changes currency symbol\n     * @private\n     * @param {string} val\n     * @param {string} sym\n     * @returns {string}\n     */\n    function changeCurrencySymbol(val, sym) {\n        if (val) {\n            return val.replace(IntlBase.defaultCurrency, sym);\n        }\n        return '';\n    }\n    /**\n     * Returns currency symbol based on currency code\n     * @private\n     * @param {Object} numericObject\n     * @param {string} currencyCode\n     * @returns {string}\n     */\n    function getCurrencySymbol(numericObject, currencyCode) {\n        return getValue('currencies.' + currencyCode + '.symbol', numericObject) || '$';\n    }\n    IntlBase.getCurrencySymbol = getCurrencySymbol;\n    /**\n     * Returns formatting options for custom number format\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Dependables} obj\n     * @returns {GenericFormatOptions}\n     */\n    function customFormat(format, dOptions, obj) {\n        var options = {};\n        var formatSplit = format.split(';');\n        var data = ['pData', 'nData', 'zeroData'];\n        for (var i = 0; i < formatSplit.length; i++) {\n            options[data[i]] = customNumberFormat(formatSplit[i], dOptions, obj);\n        }\n        if (isNullOrUndefined(options.nData)) {\n            options.nData = extend({}, options.pData);\n            options.nData.nlead = isNullOrUndefined(dOptions) ? '-' + options.nData.nlead : dOptions.minusSymbol + options.nData.nlead;\n        }\n        return options;\n    }\n    IntlBase.customFormat = customFormat;\n    /**\n     * Returns custom formatting options\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Object} numObject\n     * @returns {NegativeData}\n     */\n    function customNumberFormat(format, dOptions, numObject) {\n        var cOptions = { type: 'decimal', minimumFractionDigits: 0, maximumFractionDigits: 0 };\n        var pattern = format.match(IntlBase.customRegex);\n        if (isNullOrUndefined(pattern) || (pattern[5] === '' && format !== 'N/A')) {\n            cOptions.type = undefined;\n        }\n        cOptions.nlead = pattern[1];\n        cOptions.nend = pattern[10];\n        var integerPart = pattern[6];\n        cOptions.useGrouping = integerPart.indexOf(',') !== -1;\n        integerPart = integerPart.replace(/,/g, '');\n        var fractionPart = pattern[7];\n        if (integerPart.indexOf('0') !== -1) {\n            cOptions.minimumIntegerDigits = integerPart.length - integerPart.indexOf('0');\n        }\n        if (!isNullOrUndefined(fractionPart)) {\n            cOptions.minimumFractionDigits = fractionPart.lastIndexOf('0');\n            cOptions.maximumFractionDigits = fractionPart.lastIndexOf('#');\n            if (cOptions.minimumFractionDigits === -1) {\n                cOptions.minimumFractionDigits = 0;\n            }\n            if (cOptions.maximumFractionDigits === -1 || cOptions.maximumFractionDigits < cOptions.minimumFractionDigits) {\n                cOptions.maximumFractionDigits = cOptions.minimumFractionDigits;\n            }\n        }\n        if (!isNullOrUndefined(dOptions)) {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '$', dOptions.currencySymbol));\n            if (!cOptions.isCurrency) {\n                extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', dOptions.percentSymbol));\n            }\n        }\n        else {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', '%'));\n        }\n        if (!isNullOrUndefined(numObject)) {\n            var symbolPattern = getSymbolPattern(cOptions.type, dOptions.numberMapper.numberSystem, numObject, false);\n            if (cOptions.useGrouping) {\n                cOptions.groupSeparator = dOptions.numberMapper.numberSymbols[mapper[2]];\n                cOptions.groupData = NumberFormat.getGroupingDetails(symbolPattern.split(';')[0]);\n            }\n            cOptions.nlead = cOptions.nlead.replace(/\\'/g, '');\n            cOptions.nend = cOptions.nend.replace(/\\'/g, '');\n        }\n        return cOptions;\n    }\n    /**\n     * Returns formatting options for currency or percent type\n     * @private\n     * @param {string[]} parts\n     * @param {string} actual\n     * @param {string} symbol\n     * @returns {NegativeData}\n     */\n    function isCurrencyPercent(parts, actual, symbol) {\n        var options = { nlead: parts[0], nend: parts[1] };\n        for (var i = 0; i < 2; i++) {\n            var part = parts[i];\n            var loc = part.indexOf(actual);\n            if ((loc !== -1) && ((loc < part.indexOf('\\'')) || (loc > part.lastIndexOf('\\'')))) {\n                options[typeMapper[i]] = part.substr(0, loc) + symbol + part.substr(loc + 1);\n                options[typeMapper[actual]] = true;\n                options.type = options.isCurrency ? 'currency' : 'percent';\n                break;\n            }\n        }\n        return options;\n    }\n    IntlBase.isCurrencyPercent = isCurrencyPercent;\n    /**\n     * Returns culture based date separator\n     * @private\n     * @param {Object} dateObj\n     * @returns {string}\n     */\n    function getDateSeparator(dateObj) {\n        var value = (getValue('dateFormats.short', dateObj) || '').match(/[d‏M‏]([^d‏M])[d‏M‏]/i);\n        return value ? value[1] : '/';\n    }\n    IntlBase.getDateSeparator = getDateSeparator;\n    /**\n     * Returns Native Date Time pattern\n     * @private\n     * @param {string} culture\n     * @param {DateFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualDateTimeFormat(culture, options, cldr, isExcelFormat) {\n        var dependable = getDependables(cldr, culture);\n        var actualPattern = options.format || getResultantPattern(options.skeleton, dependable.dateObject, options.type);\n        if (isExcelFormat) {\n            actualPattern = actualPattern.replace(patternRegex, function (pattern) {\n                return patternMatch[pattern];\n            });\n            if (actualPattern.indexOf('z') !== -1) {\n                var tLength = actualPattern.match(/z/g).length;\n                var timeZonePattern = void 0;\n                var options_1 = { 'timeZone': {} };\n                options_1.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n                options_1.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                var value = new Date();\n                var timezone = value.getTimezoneOffset();\n                var pattern = (tLength < 4) ? '+H;-H' : options_1.timeZone.hourFormat;\n                pattern = pattern.replace(/:/g, options_1.numMapper.timeSeparator);\n                if (timezone === 0) {\n                    timeZonePattern = options_1.timeZone.gmtZeroFormat;\n                }\n                else {\n                    timeZonePattern = DateFormat.getTimeZoneValue(timezone, pattern);\n                    timeZonePattern = options_1.timeZone.gmtFormat.replace(/\\{0\\}/, timeZonePattern);\n                }\n                actualPattern = actualPattern.replace(/[z]+/, '\"' + timeZonePattern + '\"');\n            }\n            actualPattern = actualPattern.replace(/ $/, '');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualDateTimeFormat = getActualDateTimeFormat;\n    /**\n     * Returns Native Number pattern\n     * @private\n     * @param {string} culture\n     * @param {NumberFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualNumberFormat(culture, options, cldr) {\n        var dependable = getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var minFrac;\n        if ((/(c|a)$/ig).test(options.format) && !options.minimumFractionDigits && !options.maximumFractionDigits) {\n            var dOptions = {};\n            dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n            var symbolPattern = getSymbolPattern('currency', dOptions.numberMapper.numberSystem, dependable.numericObject, (/a/i).test(options.format));\n            minFrac = getFormatData(symbolPattern.split(';')[0], true, '', true).minimumFraction;\n        }\n        var actualPattern;\n        if ((IntlBase.formatRegex.test(options.format)) || !(options.format)) {\n            extend(parseOptions, getProperNumericSkeleton(options.format || 'N'));\n            parseOptions.custom = false;\n            actualPattern = '###0';\n            if (parseOptions.fractionDigits || options.minimumFractionDigits || options.maximumFractionDigits || minFrac) {\n                var defaultMinimum = 0;\n                if (parseOptions.fractionDigits) {\n                    options.minimumFractionDigits = options.maximumFractionDigits = parseOptions.fractionDigits;\n                }\n                actualPattern = fractionDigitsPattern(actualPattern, minFrac || parseOptions.fractionDigits ||\n                    options.minimumFractionDigits || defaultMinimum, options.maximumFractionDigits || defaultMinimum);\n            }\n            if (options.minimumIntegerDigits) {\n                actualPattern = minimumIntegerPattern(actualPattern, options.minimumIntegerDigits);\n            }\n            if (options.useGrouping) {\n                actualPattern = groupingPattern(actualPattern);\n            }\n            if (parseOptions.type === 'currency' && !parseOptions.isAccount) {\n                actualPattern = '$ ' + actualPattern;\n            }\n            else if (parseOptions.type === 'currency' && parseOptions.isAccount) {\n                actualPattern = '$ ' + actualPattern + ';($ ' + actualPattern + ')';\n            }\n            if (parseOptions.type === 'percent') {\n                actualPattern += ' %';\n            }\n        }\n        else {\n            actualPattern = options.format.replace(/\\'/g, '\"');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualNumberFormat = getActualNumberFormat;\n    function fractionDigitsPattern(pattern, minDigits, maxDigits) {\n        pattern += '.';\n        for (var a = 0; a < minDigits; a++) {\n            pattern += '0';\n        }\n        if (minDigits < maxDigits) {\n            var diff = maxDigits - minDigits;\n            for (var b = 0; b < diff; b++) {\n                pattern += '#';\n            }\n        }\n        return pattern;\n    }\n    function minimumIntegerPattern(pattern, digits) {\n        var temp = pattern.split('.');\n        var integer = '';\n        for (var x = 0; x < digits; x++) {\n            integer += '0';\n        }\n        return temp[1] ? (integer + '.' + temp[1]) : integer;\n    }\n    function groupingPattern(pattern) {\n        var temp = pattern.split('.');\n        var integer = temp[0];\n        var no = 3 - integer.length % 3;\n        var hash = (no && no === 1) ? '#' : (no === 2 ? '##' : '');\n        integer = hash + integer;\n        pattern = '';\n        for (var x = integer.length - 1; x > 0; x = x - 3) {\n            pattern = ',' + integer[x - 2] + integer[x - 1] + integer[x] + pattern;\n        }\n        pattern = pattern.slice(1);\n        return temp[1] ? (pattern + '.' + temp[1]) : pattern;\n    }\n})(IntlBase || (IntlBase = {}));\n","/**\n * To import utils\n */\nimport { isNullOrUndefined } from './util';\n/**\n * @private\n */\nvar CanvasRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function CanvasRenderer(rootID) {\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    CanvasRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    };\n    /* tslint:enable */\n    /**\n     * To create a Html5 canvas element\n     * @param {BaseAttibutes} options - Options to create canvas\n     * @return {HTMLCanvasElement}\n     */\n    CanvasRenderer.prototype.createCanvas = function (options) {\n        var canvasObj = document.createElement('canvas');\n        canvasObj.setAttribute('id', this.rootId + '_canvas');\n        this.ctx = canvasObj.getContext('2d');\n        this.canvasObj = canvasObj;\n        this.setCanvasSize(options.width, options.height);\n        return this.canvasObj;\n    };\n    /**\n     * To set the width and height for the Html5 canvas element\n     * @param {number} width - width of the canvas\n     * @param {number} height - height of the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.setCanvasSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width)) {\n            this.canvasObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.canvasObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height)) {\n            this.canvasObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.canvasObj.setAttribute('height', this.height.toString());\n        }\n    };\n    // To set the values to the attributes\n    CanvasRenderer.prototype.setAttributes = function (options) {\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        var dashArray = this.getOptionValue(options, 'stroke-dasharray');\n        if (!isNullOrUndefined(dashArray)) {\n            var dashArrayString = dashArray.split(',');\n            this.ctx.setLineDash([parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10)]);\n        }\n        this.ctx.strokeStyle = this.getOptionValue(options, 'stroke');\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - required options to draw a line on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawLine = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.moveTo(options.x1, options.y1);\n        this.ctx.lineTo(options.x2, options.y2);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a rectangle\n     * @param {RectAttributes} options - required options to draw a rectangle on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawRectangle = function (options) {\n        var canvasCtx = this.ctx;\n        var cornerRadius = options.rx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.globalAlpha = this.getOptionValue(options, 'opacity');\n        this.setAttributes(options);\n        this.ctx.rect(options.x, options.y, options.width, options.height);\n        if (cornerRadius !== null && cornerRadius >= 0) {\n            this.drawCornerRadius(options);\n        }\n        else {\n            if (options.fill === 'none') {\n                options.fill = 'transparent';\n            }\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fillRect(options.x, options.y, options.width, options.height);\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    // To draw the corner of a rectangle\n    CanvasRenderer.prototype.drawCornerRadius = function (options) {\n        var cornerRadius = options.rx;\n        var x = options.x;\n        var y = options.y;\n        var width = options.width;\n        var height = options.height;\n        if (options.fill === 'none') {\n            options.fill = 'transparent';\n        }\n        this.ctx.fillStyle = options.fill;\n        if (width < 2 * cornerRadius) {\n            cornerRadius = width / 2;\n        }\n        if (height < 2 * cornerRadius) {\n            cornerRadius = height / 2;\n        }\n        this.ctx.beginPath();\n        this.ctx.moveTo(x + width - cornerRadius, y);\n        this.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius);\n        this.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius);\n        this.ctx.arcTo(x, y + height, x, y, cornerRadius);\n        this.ctx.arcTo(x, y, x + width, y, cornerRadius);\n        this.ctx.closePath();\n        this.ctx.fill();\n        this.ctx.stroke();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a path on the canvas\n     * @param {PathAttributes} options - options needed to draw path\n     * @param {Int32Array} canvasTranslate - Array of numbers to translate the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPath = function (options, canvasTranslate) {\n        var path = options.d;\n        var dataSplit = path.split(' ');\n        var borderWidth = this.getOptionValue(options, 'stroke-width');\n        var canvasCtx = this.ctx;\n        var flag = true;\n        this.ctx.save();\n        this.ctx.beginPath();\n        if (canvasTranslate) {\n            this.ctx.translate(canvasTranslate[0], canvasTranslate[1]);\n        }\n        this.ctx.globalAlpha = options.opacity ? options.opacity : this.getOptionValue(options, 'fill-opacity');\n        this.setAttributes(options);\n        for (var i = 0; i < dataSplit.length; i = i + 3) {\n            var x1 = parseFloat(dataSplit[i + 1]);\n            var y1 = parseFloat(dataSplit[i + 2]);\n            switch (dataSplit[i]) {\n                case 'M':\n                    if (!options.innerR && !options.cx) {\n                        this.ctx.moveTo(x1, y1);\n                    }\n                    break;\n                case 'L':\n                    if (!options.innerR) {\n                        this.ctx.lineTo(x1, y1);\n                    }\n                    break;\n                case 'C':\n                    var c1 = parseFloat(dataSplit[i + 3]);\n                    var c2 = parseFloat(dataSplit[i + 4]);\n                    var c3 = parseFloat(dataSplit[i + 5]);\n                    var c4 = parseFloat(dataSplit[i + 6]);\n                    this.ctx.bezierCurveTo(x1, y1, c1, c2, c3, c4);\n                    i = i + 4;\n                    break;\n                case 'A':\n                    if (!options.innerR) {\n                        if (options.cx) {\n                            this.ctx.arc(options.cx, options.cy, options.radius, 0, 2 * Math.PI, options.counterClockWise);\n                        }\n                        else {\n                            this.ctx.moveTo(options.x, options.y);\n                            this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                            this.ctx.lineTo(options.x, options.y);\n                        }\n                    }\n                    else if (flag) {\n                        this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                        this.ctx.arc(options.x, options.y, options.innerR, options.end, options.start, !options.counterClockWise);\n                        flag = false;\n                    }\n                    i = i + 5;\n                    break;\n                case 'z':\n                    this.ctx.closePath();\n                    break;\n            }\n        }\n        if (options.fill !== 'none' && options.fill !== undefined) {\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fill();\n        }\n        if (borderWidth > 0) {\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - options required to draw text\n     * @param {string} label - Specifies the text which has to be drawn on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawText = function (options, label) {\n        var fontWeight = this.getOptionValue(options, 'font-weight');\n        if (!isNullOrUndefined(fontWeight) && fontWeight.toLowerCase() === 'regular') {\n            fontWeight = 'normal';\n        }\n        var fontSize = this.getOptionValue(options, 'font-size');\n        var fontFamily = this.getOptionValue(options, 'font-family');\n        var fontStyle = this.getOptionValue(options, 'font-style').toLowerCase();\n        var font = (fontStyle + ' ' + fontWeight + ' ' + fontSize + ' ' + fontFamily);\n        var anchor = this.getOptionValue(options, 'text-anchor');\n        var opacity = options.opacity !== undefined ? options.opacity : 1;\n        if (anchor === 'middle') {\n            anchor = 'center';\n        }\n        this.ctx.save();\n        this.ctx.fillStyle = options.fill;\n        this.ctx.font = font;\n        this.ctx.textAlign = anchor;\n        this.ctx.globalAlpha = opacity;\n        if (options.baseline) {\n            this.ctx.textBaseline = options.baseline;\n        }\n        var txtlngth = 0;\n        this.ctx.translate(options.x + (txtlngth / 2), options.y);\n        this.ctx.rotate(options.labelRotation * Math.PI / 180);\n        this.ctx.fillText(label, 0, 0);\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw circle on the canvas\n     * @param {CircleAttributes} options - required options to draw the circle\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawCircle = function (options) {\n        var canvasCtx = this.ctx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.globalAlpha = options.opacity;\n        this.ctx.fill();\n        this.setAttributes(options);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw polyline\n     * @param {PolylineAttributes} options - options needed to draw polyline\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPolyline = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        var points = options.points.split(' ');\n        for (var i = 0; i < points.length - 1; i++) {\n            var point = points[i].split(',');\n            var x = parseFloat(point[0]);\n            var y = parseFloat(point[1]);\n            if (i === 0) {\n                this.ctx.moveTo(x, y);\n            }\n            else {\n                this.ctx.lineTo(x, y);\n            }\n        }\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an ellipse on the canvas\n     * @param {EllipseAttributes} options - options needed to draw ellipse\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawEllipse = function (options) {\n        var canvasCtx = this.ctx;\n        var circumference = Math.max(options.rx, options.ry);\n        var scaleX = options.rx / circumference;\n        var scaleY = options.ry / circumference;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.translate(options.cx, options.cy);\n        this.ctx.save();\n        this.ctx.scale(scaleX, scaleY);\n        this.ctx.arc(0, 0, circumference, 0, 2 * Math.PI, false);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.fill();\n        this.ctx.restore();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - options required to draw an image on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawImage = function (options) {\n        this.ctx.save();\n        var imageObj = new Image();\n        if (!isNullOrUndefined(options.href)) {\n            imageObj.src = options.href;\n            this.ctx.drawImage(imageObj, options.x, options.y, options.width, options.height);\n        }\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To create a linear gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createLinearGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createLinearGradient(0, 0, 0, this.canvasObj.height);\n        }\n        var color = this.setGradientValues(colors, myGradient);\n        return color;\n    };\n    /**\n     * To create a radial gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createRadialGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createRadialGradient(0, 0, 0, 0, 0, this.canvasObj.height);\n        }\n        var colorName = this.setGradientValues(colors, myGradient);\n        return colorName;\n    };\n    // To set the gradient values\n    CanvasRenderer.prototype.setGradientValues = function (colors, myGradient) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            for (var i = 0; i <= colors.length - 1; i++) {\n                var color = colors[i].color;\n                var newColorStop = (colors[i].colorStop).slice(0, -1);\n                var stopColor = parseInt(newColorStop, 10) / 100;\n                myGradient.addColorStop(stopColor, color);\n            }\n            colorName = myGradient.toString();\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        this.dataUrl = this.canvasObj.toDataURL();\n        return colorName;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {HTMLElement} element - The element to which the attributes need to be set\n     * @return {HTMLElement}\n     */\n    CanvasRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        var values = Object.keys(options).map(function (key) { return options[key]; });\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], values[i]);\n        }\n        return element;\n    };\n    /**\n     * To update the values of the canvas element attributes\n     * @param {SVGCanvasAttributes} options - Specifies the colors required to create gradient\n     * @return {void}\n     */\n    CanvasRenderer.prototype.updateCanvasAttributes = function (options) {\n        this.setElementAttributes(options, this.canvasObj);\n        var ctx = this.ctx;\n        if (!isNullOrUndefined(this.dataUrl)) {\n            var img_1 = new Image;\n            img_1.onload = function () {\n                ctx.drawImage(img_1, 0, 0);\n            };\n            img_1.src = this.dataUrl;\n        }\n    };\n    return CanvasRenderer;\n}());\nexport { CanvasRenderer };\n","/**\n * Module loading operations\n */\nimport { createInstance, setValue, getValue, deleteObject } from './util';\nvar MODULE_SUFFIX = 'Module';\nvar ModuleLoader = /** @class */ (function () {\n    function ModuleLoader(parent) {\n        this.loadedModules = [];\n        this.parent = parent;\n    }\n    ;\n    /**\n     * Inject required modules in component library\n     * @return {void}\n     * @param {ModuleDeclaration[]} requiredModules - Array of modules to be required\n     * @param {Function[]} moduleList - Array of modules to be injected from sample side\n     */\n    ModuleLoader.prototype.inject = function (requiredModules, moduleList) {\n        var reqLength = requiredModules.length;\n        if (reqLength === 0) {\n            this.clean();\n            return;\n        }\n        if (this.loadedModules.length) {\n            this.clearUnusedModule(requiredModules);\n        }\n        for (var i = 0; i < reqLength; i++) {\n            var modl = requiredModules[i];\n            for (var _i = 0, moduleList_1 = moduleList; _i < moduleList_1.length; _i++) {\n                var module = moduleList_1[_i];\n                var modName = modl.member;\n                if (module.prototype.getModuleName() === modl.member && !this.isModuleLoaded(modName)) {\n                    var moduleObject = createInstance(module, modl.args);\n                    var memberName = this.getMemberName(modName);\n                    if (modl.isProperty) {\n                        setValue(memberName, module, this.parent);\n                    }\n                    else {\n                        setValue(memberName, moduleObject, this.parent);\n                    }\n                    var loadedModule = modl;\n                    loadedModule.member = memberName;\n                    this.loadedModules.push(loadedModule);\n                }\n            }\n        }\n    };\n    /**\n     * To remove the created object while destroying the control\n     * @return {void}\n     */\n    ModuleLoader.prototype.clean = function () {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var modules = _a[_i];\n            if (!modules.isProperty) {\n                getValue(modules.member, this.parent).destroy();\n            }\n        }\n        this.loadedModules = [];\n    };\n    /**\n     * Removes all unused modules\n     * @param {ModuleDeclaration[]} moduleList\n     * @returns {void}\n     */\n    ModuleLoader.prototype.clearUnusedModule = function (moduleList) {\n        var _this = this;\n        var usedModules = moduleList.map(function (arg) { return _this.getMemberName(arg.member); });\n        var removableModule = this.loadedModules.filter(function (module) {\n            return usedModules.indexOf(module.member) === -1;\n        });\n        for (var _i = 0, removableModule_1 = removableModule; _i < removableModule_1.length; _i++) {\n            var mod = removableModule_1[_i];\n            if (!mod.isProperty) {\n                getValue(mod.member, this.parent).destroy();\n            }\n            this.loadedModules.splice(this.loadedModules.indexOf(mod), 1);\n            deleteObject(this.parent, mod.member);\n        }\n    };\n    /**\n     * To get the name of the member.\n     * @param {string} name\n     * @returns {string}\n     */\n    ModuleLoader.prototype.getMemberName = function (name) {\n        return name[0].toLowerCase() + name.substring(1) + MODULE_SUFFIX;\n    };\n    /**\n     * Returns boolean based on whether the module specified is loaded or not\n     * @param {string} modName\n     * @returns {boolean}\n     */\n    ModuleLoader.prototype.isModuleLoaded = function (modName) {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var mod = _a[_i];\n            if (mod.member === this.getMemberName(modName)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return ModuleLoader;\n}());\nexport { ModuleLoader };\n","import { getValue, setImmediate, setValue, merge } from './util';\nimport { Base } from './base';\n/**\n * To detect the changes for inner properties.\n * @private\n */\nvar ChildProperty = /** @class */ (function () {\n    function ChildProperty(parent, propName, defaultValue, isArray) {\n        this.properties = {};\n        this.changedProperties = {};\n        this.childChangedProperties = {};\n        this.oldProperties = {};\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.callChildDataBind = getValue('callChildDataBind', Base);\n        this.parentObj = parent;\n        this.controlParent = this.parentObj.controlParent || this.parentObj;\n        this.propName = propName;\n        this.setProperties(defaultValue, true);\n        this.isParentArray = isArray;\n    }\n    /**\n     * Updates the property changes\n     * @param {boolean} val\n     * @param {string} propName\n     * @returns {void}\n     */\n    ChildProperty.prototype.updateChange = function (val, propName) {\n        if (val === true) {\n            this.parentObj.childChangedProperties[propName] = val;\n        }\n        else {\n            delete this.parentObj.childChangedProperties[propName];\n        }\n        if (this.parentObj.updateChange) {\n            this.parentObj.updateChange(val, this.parentObj.propName);\n        }\n    };\n    /**\n     * Updates time out duration\n     */\n    ChildProperty.prototype.updateTimeOut = function () {\n        if (this.parentObj.updateTimeOut) {\n            this.parentObj.finalUpdate();\n            this.parentObj.updateTimeOut();\n        }\n        else {\n            this.parentObj.finalUpdate = setImmediate(this.parentObj.dataBind.bind(this.parentObj));\n        }\n    };\n    /**\n     * Clears changed properties\n     */\n    ChildProperty.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.updateChange(false, this.propName);\n        this.oldProperties = {};\n        this.changedProperties = {};\n    };\n    /**\n     * Set property changes\n     * @param {Object} prop\n     * @param {boolean} muteOnChange\n     * {void}\n     */\n    ChildProperty.prototype.setProperties = function (prop, muteOnChange) {\n        if (muteOnChange === true) {\n            merge(this, prop);\n            this.updateChange(false, this.propName);\n            this.clearChanges();\n        }\n        else {\n            merge(this, prop);\n        }\n    };\n    /**\n     * Binds data\n     */\n    ChildProperty.prototype.dataBind = function () {\n        this.callChildDataBind(this.childChangedProperties, this);\n        if (this.isParentArray) {\n            var curIndex = this.parentObj[this.propName].indexOf(this);\n            if (Object.keys(this.changedProperties).length) {\n                setValue(this.propName + '.' + curIndex, this.changedProperties, this.parentObj.changedProperties);\n                setValue(this.propName + '.' + curIndex, this.oldProperties, this.parentObj.oldProperties);\n            }\n        }\n        else {\n            this.parentObj.changedProperties[this.propName] = this.changedProperties;\n            this.parentObj.oldProperties[this.propName] = this.oldProperties;\n        }\n        this.clearChanges();\n    };\n    /**\n     * Saves changes to newer values\n     * @param {string} key\n     * @param {Object} newValue\n     * @param {Object} oldValue\n     * @returns {void}\n     */\n    ChildProperty.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.controlParent.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.updateChange(true, this.propName);\n        this.finalUpdate();\n        this.updateTimeOut();\n    };\n    return ChildProperty;\n}());\nexport { ChildProperty };\n","/**\n * Parser\n */\nvar defaultNumberingSystem = {\n    'latn': {\n        '_digits': '0123456789',\n        '_type': 'numeric'\n    }\n};\nimport { isUndefined, getValue } from '../util';\nvar latnRegex = /^[0-9]*$/;\nvar defaultNumberSymbols = {\n    'decimal': '.',\n    'group': ',',\n    'percentSign': '%',\n    'plusSign': '+',\n    'minusSign': '-',\n    'infinity': '∞',\n    'nan': 'NaN',\n    'exponential': 'E'\n};\nvar latnNumberSystem = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n/**\n * Interface for parser base\n * @private\n */\nvar ParserBase = /** @class */ (function () {\n    function ParserBase() {\n    }\n    /**\n     * Returns the cldr object for the culture specifies\n     * @param {Object} obj - Specifies the object from which culture object to be acquired.\n     * @param {string} cName - Specifies the culture name.\n     * @returns {Object}\n     */\n    ParserBase.getMainObject = function (obj, cName) {\n        return getValue('main.' + cName, obj);\n    };\n    /**\n     * Returns the numbering system object from given cldr data.\n     * @param {Object} obj - Specifies the object from which number system is acquired.\n     * @returns {Object}\n     */\n    ParserBase.getNumberingSystem = function (obj) {\n        return getValue('supplemental.numberingSystems', obj) || this.numberingSystems;\n    };\n    /**\n     * Returns the reverse of given object keys or keys specified.\n     * @param {Object} prop - Specifies the object to be reversed.\n     * @param {number[]} keys - Optional parameter specifies the custom keyList for reversal.\n     * @returns {Object}\n     */\n    ParserBase.reverseObject = function (prop, keys) {\n        var propKeys = keys || Object.keys(prop);\n        var res = {};\n        for (var _i = 0, propKeys_1 = propKeys; _i < propKeys_1.length; _i++) {\n            var key = propKeys_1[_i];\n            /* tslint:disable no-any */\n            if (!res.hasOwnProperty(prop[key])) {\n                res[prop[key]] = key;\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns the symbol regex by skipping the escape sequence.\n     * @param {string[]} props - Specifies the array values to be skipped.\n     * @returns {RegExp}\n     */\n    ParserBase.getSymbolRegex = function (props) {\n        var regexStr = props.map(function (str) {\n            return str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n        }).join('|');\n        return new RegExp(regexStr, 'g');\n    };\n    ParserBase.getSymbolMatch = function (prop) {\n        var matchKeys = Object.keys(defaultNumberSymbols);\n        var ret = {};\n        for (var _i = 0, matchKeys_1 = matchKeys; _i < matchKeys_1.length; _i++) {\n            var key = matchKeys_1[_i];\n            ret[prop[key]] = defaultNumberSymbols[key];\n        }\n        return ret;\n    };\n    /**\n     * Returns regex string for provided value\n     * @param {string} val\n     * @returns {string}\n     */\n    ParserBase.constructRegex = function (val) {\n        var len = val.length;\n        var ret = '';\n        for (var i = 0; i < len; i++) {\n            if (i !== len - 1) {\n                ret += val[i] + '|';\n            }\n            else {\n                ret += val[i];\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     * @param {string} value - Specifies the  values to be replaced.\n     * @param {RegExp} regex - Specifies the  regex to search.\n     * @param {Object} obj - Specifies the  object matcher to be replace value parts.\n     * @returns {string}\n     */\n    ParserBase.convertValueParts = function (value, regex, obj) {\n        return value.replace(regex, function (str) {\n            return obj[str];\n        });\n    };\n    /**\n     * Returns default numbering system object for formatting from cldr data\n     * @param {Object} obj\n     * @returns {NumericObject}\n     */\n    ParserBase.getDefaultNumberingSystem = function (obj) {\n        var ret = {};\n        ret.obj = getValue('numbers', obj);\n        ret.nSystem = getValue('defaultNumberingSystem', ret.obj);\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     */\n    ParserBase.getCurrentNumericOptions = function (curObj, numberSystem, needSymbols) {\n        var ret = {};\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                ret.numericPair = this.reverseObject(digits, latnNumberSystem);\n                ret.numberParseRegex = new RegExp(this.constructRegex(digits), 'g');\n                ret.numericRegex = '[' + digits[0] + '-' + digits[9] + ']';\n                if (needSymbols) {\n                    ret.numericRegex = digits[0] + '-' + digits[9];\n                    ret.symbolNumberSystem = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n                    ret.symbolMatch = this.getSymbolMatch(ret.symbolNumberSystem);\n                    ret.numberSystem = cur.nSystem;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns number mapper object for the provided cldr data\n     * @param {Object} curObj\n     * @param {Object} numberSystem\n     * @param {boolean} isNumber\n     * @returns {NumberMapper}\n     */\n    ParserBase.getNumberMapper = function (curObj, numberSystem, isNumber) {\n        var ret = { mapper: {} };\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            ret.numberSystem = cur.nSystem;\n            ret.numberSymbols = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n            ret.timeSeparator = getValue('timeSeparator', ret.numberSymbols);\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                for (var _i = 0, latnNumberSystem_1 = latnNumberSystem; _i < latnNumberSystem_1.length; _i++) {\n                    var i = latnNumberSystem_1[_i];\n                    ret.mapper[i] = digits[i];\n                }\n            }\n        }\n        return ret;\n    };\n    ParserBase.nPair = 'numericPair';\n    ParserBase.nRegex = 'numericRegex';\n    ParserBase.numberingSystems = defaultNumberingSystem;\n    return ParserBase;\n}());\nexport { ParserBase };\n","import { isUndefined, throwError, isNullOrUndefined, extend } from '../util';\nimport { defaultCurrencyCode } from '../internationalization';\nimport { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nvar errorText = {\n    'ms': 'minimumSignificantDigits',\n    'ls': 'maximumSignificantDigits',\n    'mf': 'minimumFractionDigits',\n    'lf': 'maximumFractionDigits',\n};\nvar integerError = 'minimumIntegerDigits';\nvar percentSign = 'percentSign';\nvar minusSign = 'minusSign';\nvar spaceRegex = /\\s/;\nvar mapper = ['infinity', 'nan', 'group', 'decimal', 'exponential'];\nvar infinity = 'infinity';\nvar nan = 'nan';\n/**\n * Module for number formatting.\n * @private\n */\nvar NumberFormat = /** @class */ (function () {\n    function NumberFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} option - Specific the format in which number  will format.\n     * @param {Object} object- Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberFormat.numberFormatter = function (culture, option, cldr) {\n        var _this = this;\n        var fOptions = extend({}, option);\n        var cOptions = {};\n        var dOptions = {};\n        var symbolPattern;\n        var dependable = base.getDependables(cldr, culture, true);\n        dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        dOptions.currencySymbol = base.getCurrencySymbol(dependable.numericObject, fOptions.currency || defaultCurrencyCode);\n        /* tslint:disable no-any */\n        dOptions.percentSymbol = dOptions.numberMapper.numberSymbols[percentSign];\n        dOptions.minusSymbol = dOptions.numberMapper.numberSymbols[minusSign];\n        var symbols = dOptions.numberMapper.numberSymbols;\n        if ((option.format) && !(base.formatRegex.test(option.format))) {\n            cOptions = base.customFormat(option.format, dOptions, dependable.numericObject);\n        }\n        else {\n            extend(fOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            fOptions.isCurrency = fOptions.type === 'currency';\n            fOptions.isPercent = fOptions.type === 'percent';\n            symbolPattern = base.getSymbolPattern(fOptions.type, dOptions.numberMapper.numberSystem, dependable.numericObject, fOptions.isAccount);\n            fOptions.groupOne = this.checkValueRange(fOptions.maximumSignificantDigits, fOptions.minimumSignificantDigits, true);\n            this.checkValueRange(fOptions.maximumFractionDigits, fOptions.minimumFractionDigits, false, true);\n            if (!isUndefined(fOptions.fractionDigits)) {\n                fOptions.minimumFractionDigits = fOptions.maximumFractionDigits = fOptions.fractionDigits;\n            }\n            if (isUndefined(fOptions.useGrouping)) {\n                fOptions.useGrouping = true;\n            }\n            if (fOptions.isCurrency) {\n                symbolPattern = symbolPattern.replace(/\\u00A4/g, base.defaultCurrency);\n            }\n            var split = symbolPattern.split(';');\n            cOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, dOptions.currencySymbol);\n            cOptions.pData = base.getFormatData(split[0], false, dOptions.currencySymbol);\n            if (fOptions.useGrouping) {\n                fOptions.groupSeparator = symbols[mapper[2]];\n                fOptions.groupData = this.getGroupingDetails(split[0]);\n            }\n            var minFrac = isUndefined(fOptions.minimumFractionDigits);\n            if (minFrac) {\n                fOptions.minimumFractionDigits = cOptions.nData.minimumFraction;\n            }\n            if (isUndefined(fOptions.maximumFractionDigits)) {\n                var mval = cOptions.nData.maximumFraction;\n                fOptions.maximumFractionDigits = isUndefined(mval) && fOptions.isPercent ? 0 : mval;\n            }\n            var mfrac = fOptions.minimumFractionDigits;\n            var lfrac = fOptions.maximumFractionDigits;\n            if (!isUndefined(mfrac) && !isUndefined(lfrac)) {\n                if (mfrac > lfrac) {\n                    fOptions.maximumFractionDigits = mfrac;\n                }\n            }\n        }\n        extend(cOptions.nData, fOptions);\n        extend(cOptions.pData, fOptions);\n        return function (value) {\n            if (isNaN(value)) {\n                return symbols[mapper[1]];\n            }\n            else if (!isFinite(value)) {\n                return symbols[mapper[0]];\n            }\n            return _this.intNumberFormatter(value, cOptions, dOptions);\n        };\n    };\n    /**\n     * Returns grouping details for the pattern provided\n     * @param {string} pattern\n     * @returns {GroupDetails}\n     */\n    NumberFormat.getGroupingDetails = function (pattern) {\n        var ret = {};\n        var match = pattern.match(base.negativeDataRegex);\n        if (match && match[4]) {\n            var pattern_1 = match[4];\n            var p = pattern_1.lastIndexOf(',');\n            if (p !== -1) {\n                var temp = pattern_1.split('.')[0];\n                ret.primary = (temp.length - p) - 1;\n                var s = pattern_1.lastIndexOf(',', p - 1);\n                if (s !== -1) {\n                    ret.secondary = p - 1 - s;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns if the provided integer range is valid.\n     * @param {number} val1\n     * @param {number} val2\n     * @param {boolean} checkbothExist\n     * @param {boolean} isFraction\n     * @returns {boolean}\n     */\n    NumberFormat.checkValueRange = function (val1, val2, checkbothExist, isFraction) {\n        var decide = isFraction ? 'f' : 's';\n        var dint = 0;\n        var str1 = errorText['l' + decide];\n        var str2 = errorText['m' + decide];\n        if (!isUndefined(val1)) {\n            this.checkRange(val1, str1, isFraction);\n            dint++;\n        }\n        if (!isUndefined(val2)) {\n            this.checkRange(val2, str2, isFraction);\n            dint++;\n        }\n        if (dint === 2) {\n            if (val1 < val2) {\n                throwError(str2 + 'specified must be less than the' + str1);\n            }\n            else {\n                return true;\n            }\n        }\n        else if (checkbothExist && dint === 1) {\n            throwError('Both' + str2 + 'and' + str2 + 'must be present');\n        }\n        return false;\n    };\n    /**\n     * Check if the provided fraction range is valid\n     * @param {number} val\n     * @param {string} text\n     * @param {boolean} isFraction\n     * @returns {void}\n     */\n    NumberFormat.checkRange = function (val, text, isFraction) {\n        var range = isFraction ? [0, 20] : [1, 21];\n        if (val < range[0] || val > range[1]) {\n            throwError(text + 'value must be within the range' + range[0] + 'to' + range[1]);\n        }\n    };\n    /**\n     * Returns formatted numeric string for provided formatting options\n     * @param {number} value\n     * @param {base.GenericFormatOptions} fOptions\n     * @param {CommonOptions} dOptions\n     * @returns {string}\n     */\n    NumberFormat.intNumberFormatter = function (value, fOptions, dOptions) {\n        var curData;\n        if (isUndefined(fOptions.nData.type)) {\n            return undefined;\n        }\n        else {\n            if (value < 0) {\n                value = value * -1;\n                curData = fOptions.nData;\n            }\n            else if (value === 0) {\n                curData = fOptions.zeroData || fOptions.pData;\n            }\n            else {\n                curData = fOptions.pData;\n            }\n            var fValue = '';\n            if (curData.isPercent) {\n                value = value * 100;\n            }\n            if (curData.groupOne) {\n                fValue = this.processSignificantDigits(value, curData.minimumSignificantDigits, curData.maximumSignificantDigits);\n            }\n            else {\n                fValue = this.processFraction(value, curData.minimumFractionDigits, curData.maximumFractionDigits);\n                if (curData.minimumIntegerDigits) {\n                    fValue = this.processMinimumIntegers(fValue, curData.minimumIntegerDigits);\n                }\n            }\n            if (curData.type === 'scientific') {\n                fValue = value.toExponential(curData.maximumFractionDigits);\n                fValue = fValue.replace('e', dOptions.numberMapper.numberSymbols[mapper[4]]);\n            }\n            fValue = fValue.replace('.', dOptions.numberMapper.numberSymbols[mapper[3]]);\n            if (curData.useGrouping) {\n                fValue = this.groupNumbers(fValue, curData.groupData.primary, curData.groupSeparator || ',', dOptions.numberMapper.numberSymbols[mapper[3]] || '.', curData.groupData.secondary);\n            }\n            fValue = parser.convertValueParts(fValue, base.latnParseRegex, dOptions.numberMapper.mapper);\n            if (curData.nlead === 'N/A') {\n                return curData.nlead;\n            }\n            else {\n                return curData.nlead + fValue + curData.nend;\n            }\n        }\n    };\n    /**\n     * Returns significant digits processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processSignificantDigits = function (value, min, max) {\n        var temp = value + '';\n        var tn;\n        var length = temp.length;\n        if (length < min) {\n            return value.toPrecision(min);\n        }\n        else {\n            temp = value.toPrecision(max);\n            tn = +temp;\n            return tn + '';\n        }\n    };\n    /**\n     * Returns grouped numeric string\n     * @param {string} val\n     * @param {number} level1\n     * @param {string} sep\n     * @param {string} decimalSymbol\n     * @param {number} level2\n     * @returns {string}\n     */\n    NumberFormat.groupNumbers = function (val, level1, sep, decimalSymbol, level2) {\n        var flag = !isNullOrUndefined(level2) && level2 !== 0;\n        var split = val.split(decimalSymbol);\n        var prefix = split[0];\n        var length = prefix.length;\n        var str = '';\n        while (length > level1) {\n            str = prefix.slice(length - level1, length) + (str.length ?\n                (sep + str) : '');\n            length -= level1;\n            if (flag) {\n                level1 = level2;\n                flag = false;\n            }\n        }\n        split[0] = prefix.slice(0, length) + (str.length ? sep : '') + str;\n        return split.join(decimalSymbol);\n    };\n    /**\n     * Returns fraction processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processFraction = function (value, min, max) {\n        var temp = (value + '').split('.')[1];\n        var length = temp ? temp.length : 0;\n        if (min && length < min) {\n            var ret = '';\n            if (length === 0) {\n                ret = value.toFixed(min);\n            }\n            else {\n                ret += value;\n                for (var j = 0; j < min - length; j++) {\n                    ret += '0';\n                }\n                return ret;\n            }\n            return value.toFixed(min);\n        }\n        else if (!isNullOrUndefined(max) && (length > max || max === 0)) {\n            return value.toFixed(max);\n        }\n        return value + '';\n    };\n    /**\n     * Returns integer processed numeric string\n     * @param {string} value\n     * @param {number} min\n     * @returns {string}\n     */\n    NumberFormat.processMinimumIntegers = function (value, min) {\n        var temp = value.split('.');\n        var lead = temp[0];\n        var len = lead.length;\n        if (len < min) {\n            for (var i = 0; i < min - len; i++) {\n                lead = '0' + lead;\n            }\n            temp[0] = lead;\n        }\n        return temp.join('.');\n    };\n    return NumberFormat;\n}());\nexport { NumberFormat };\n","import { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nimport { isUndefined, throwError, getValue } from '../util';\nvar abbreviateRegexGlobal = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|ccc|G+|z+/gi;\nvar standalone = 'stand-alone';\nvar weekdayKey = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\nexport var basicPatterns = ['short', 'medium', 'long', 'full'];\nvar timeSetter = {\n    m: 'getMinutes',\n    h: 'getHours',\n    H: 'getHours',\n    s: 'getSeconds',\n    d: 'getDate',\n};\nexport var datePartMatcher = {\n    'M': 'month',\n    'd': 'day',\n    'E': 'weekday',\n    'c': 'weekday',\n    'y': 'year',\n    'm': 'minute',\n    'h': 'hour',\n    'H': 'hour',\n    's': 'second',\n    'L': 'month',\n    'a': 'designator',\n    'z': 'timeZone',\n    'Z': 'timeZone',\n    'G': 'era'\n};\nvar timeSeparator = 'timeSeparator';\n/**\n * Date Format is a framework provides support for date formatting.\n * @private\n */\nvar DateFormat = /** @class */ (function () {\n    function DateFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which date  will format.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    DateFormat.dateFormat = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var formatOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        formatOptions.dateSeperator = base.getDateSeparator(dependable.dateObject);\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            formatOptions.pattern = resPattern;\n            formatOptions.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n            var patternMatch = resPattern.match(abbreviateRegexGlobal) || [];\n            for (var _i = 0, patternMatch_1 = patternMatch; _i < patternMatch_1.length; _i++) {\n                var str = patternMatch_1[_i];\n                var len = str.length;\n                var char = str[0];\n                if (char === 'K') {\n                    char = 'h';\n                }\n                /* tslint:disable no-any */\n                var charKey = datePartMatcher[char];\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        formatOptions.weekday = dependable.dateObject[base.days][standalone][base.monthIndex[len]];\n                        break;\n                    case 'M':\n                    case 'L':\n                        formatOptions.month = dependable.dateObject[base.month][standalone][base.monthIndex[len]];\n                        break;\n                    case 'a':\n                        formatOptions.designator = getValue('dayPeriods.format.wide', dependable.dateObject);\n                        break;\n                    case 'G':\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        formatOptions.era = getValue('eras.' + eText, dependable.dateObject);\n                        break;\n                    case 'z':\n                        formatOptions.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                        break;\n                }\n            }\n        }\n        return function (value) {\n            if (isNaN(value.getDate())) {\n                return null;\n            }\n            return _this.intDateFormatter(value, formatOptions);\n        };\n    };\n    /**\n     * Returns formatted date string based on options passed.\n     * @param {Date} value\n     * @param {FormatOptions} options\n     */\n    DateFormat.intDateFormatter = function (value, options) {\n        var pattern = options.pattern;\n        var ret = '';\n        var matches = pattern.match(base.dateParseRegex);\n        for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\n            var match = matches_1[_i];\n            var length_1 = match.length;\n            var char = match[0];\n            if (char === 'K') {\n                char = 'h';\n            }\n            var curval = void 0;\n            var isNumber = void 0;\n            var processNumber = void 0;\n            var curstr = '';\n            switch (char) {\n                case 'M':\n                case 'L':\n                    curval = value.getMonth() + 1;\n                    if (length_1 > 2) {\n                        ret += options.month[curval];\n                    }\n                    else {\n                        isNumber = true;\n                    }\n                    break;\n                case 'E':\n                case 'c':\n                    ret += options.weekday[weekdayKey[value.getDay()]];\n                    break;\n                case 'H':\n                case 'h':\n                case 'm':\n                case 's':\n                case 'd':\n                    isNumber = true;\n                    curval = value[timeSetter[char]]();\n                    if (char === 'h') {\n                        curval = curval % 12 || 12;\n                    }\n                    break;\n                case 'y':\n                    processNumber = true;\n                    curstr += value.getFullYear();\n                    if (length_1 === 2) {\n                        curstr = curstr.substr(curstr.length - 2);\n                    }\n                    break;\n                case 'a':\n                    var desig = value.getHours() < 12 ? 'am' : 'pm';\n                    ret += options.designator[desig];\n                    break;\n                case 'G':\n                    var dec = value.getFullYear() < 0 ? 0 : 1;\n                    ret += options.era[dec];\n                    break;\n                case '\\'':\n                    ret += (match === '\\'\\'') ? '\\'' : match.replace(/\\'/g, '');\n                    break;\n                case 'z':\n                    var timezone = value.getTimezoneOffset();\n                    var pattern_1 = (length_1 < 4) ? '+H;-H' : options.timeZone.hourFormat;\n                    pattern_1 = pattern_1.replace(/:/g, options.numMapper.timeSeparator);\n                    if (timezone === 0) {\n                        ret += options.timeZone.gmtZeroFormat;\n                    }\n                    else {\n                        processNumber = true;\n                        curstr = this.getTimeZoneValue(timezone, pattern_1);\n                    }\n                    curstr = options.timeZone.gmtFormat.replace(/\\{0\\}/, curstr);\n                    break;\n                case ':':\n                    ret += options.numMapper.numberSymbols[timeSeparator];\n                    /* tslint:enable no-any */\n                    break;\n                case '/':\n                    ret += options.dateSeperator;\n                    break;\n                default:\n                    ret += match;\n            }\n            if (isNumber) {\n                processNumber = true;\n                curstr = this.checkTwodigitNumber(curval, length_1);\n            }\n            if (processNumber) {\n                ret += parser.convertValueParts(curstr, base.latnParseRegex, options.numMapper.mapper);\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns two digit numbers for given value and length\n     */\n    DateFormat.checkTwodigitNumber = function (val, len) {\n        var ret = val + '';\n        if (len === 2 && ret.length !== 2) {\n            return '0' + ret;\n        }\n        return ret;\n    };\n    /**\n     * Returns the value of the Time Zone.\n     * @param {number} tVal\n     * @param {string} pattern\n     * @private\n     */\n    DateFormat.getTimeZoneValue = function (tVal, pattern) {\n        var _this = this;\n        var splt = pattern.split(';');\n        var curPattern = splt[tVal > 0 ? 1 : 0];\n        var no = Math.abs(tVal);\n        return curPattern = curPattern.replace(/HH?|mm/g, function (str) {\n            var len = str.length;\n            var ishour = str.indexOf('H') !== -1;\n            return _this.checkTwodigitNumber(Math.floor(ishour ? (no / 60) : (no % 60)), len);\n        });\n    };\n    return DateFormat;\n}());\nexport { DateFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isUndefined, getValue, isNullOrUndefined, setValue, uniqueID } from './util';\nimport { ModuleLoader } from './module-loader';\nimport { Base } from './base';\nimport { Observer } from './observer';\nimport { ChildProperty } from './child-property';\nimport { Property, NotifyPropertyChanges } from './notify-property-change';\nimport { onIntlChange, rightToLeft, defaultCulture } from './internationalization';\nvar componentCount = 0;\nvar lastPageID;\nvar lastHistoryLen = 0;\n/**\n * Base class for all Essential JavaScript components\n */\nvar Component = /** @class */ (function (_super) {\n    __extends(Component, _super);\n    /**\n     * Initialize the constructor for component base\n     */\n    function Component(options, selector) {\n        var _this = _super.call(this, options, selector) || this;\n        _this.randomId = uniqueID();\n        _this.needsID = false;\n        if (isNullOrUndefined(_this.enableRtl)) {\n            _this.setProperties({ 'enableRtl': rightToLeft }, true);\n        }\n        if (isNullOrUndefined(_this.locale)) {\n            _this.setProperties({ 'locale': defaultCulture }, true);\n        }\n        _this.moduleLoader = new ModuleLoader(_this);\n        _this.localObserver = new Observer(_this);\n        // tslint:disable-next-line:no-function-constructor-with-string-args\n        _this.detectFunction = new Function('args', 'var prop = Object.keys(args); if(prop.length){this[prop[0]] = args[prop[0]];}');\n        onIntlChange.on('notifyExternalChange', _this.detectFunction, _this, _this.randomId);\n        if (!isUndefined(selector)) {\n            _this.appendTo();\n        }\n        return _this;\n    }\n    Component.prototype.requiredModules = function () {\n        return [];\n    };\n    ;\n    /**\n     * Destroys the sub modules while destroying the widget\n     */\n    Component.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        if (this.enablePersistence) {\n            this.setPersistData();\n        }\n        this.localObserver.destroy();\n        if (this.refreshing) {\n            return;\n        }\n        this.trigger('destroyed', { cancel: false });\n        _super.prototype.destroy.call(this);\n        this.moduleLoader.clean();\n        onIntlChange.off('notifyExternalChange', this.detectFunction, this.randomId);\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     */\n    Component.prototype.refresh = function () {\n        this.refreshing = true;\n        this.moduleLoader.clean();\n        this.destroy();\n        this.clearChanges();\n        this.localObserver = new Observer(this);\n        this.preRender();\n        this.injectModules();\n        this.render();\n        this.refreshing = false;\n    };\n    /**\n     * Appends the control within the given HTML element\n     * @param {string | HTMLElement} selector - Target element where control needs to be appended\n     */\n    Component.prototype.appendTo = function (selector) {\n        if (!isNullOrUndefined(selector) && typeof (selector) === 'string') {\n            this.element = document.querySelector(selector);\n        }\n        else if (!isNullOrUndefined(selector)) {\n            this.element = selector;\n        }\n        if (!isNullOrUndefined(this.element)) {\n            this.isProtectedOnChange = false;\n            if (this.needsID && !this.element.id) {\n                this.element.id = this.getUniqueID(this.getModuleName());\n            }\n            if (this.enablePersistence) {\n                this.mergePersistData();\n                window.addEventListener('unload', this.setPersistData.bind(this));\n            }\n            var inst = getValue('ej2_instances', this.element);\n            if (!inst || inst.indexOf(this) === -1) {\n                _super.prototype.addInstance.call(this);\n            }\n            this.preRender();\n            this.injectModules();\n            this.render();\n            this.trigger('created');\n        }\n    };\n    /**\n     * When invoked, applies the pending property changes immediately to the component.\n     */\n    Component.prototype.dataBind = function () {\n        this.injectModules();\n        _super.prototype.dataBind.call(this);\n    };\n    ;\n    /**\n     * Attach one or more  event handler to the current component context.\n     * It is used for internal handling event internally within the component only.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the handler to run when the event occurs\n     * @param {Object} context - optional parameter Specifies the context to be bind in the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.on = function (event, handler, context) {\n        if (typeof event === 'string') {\n            this.localObserver.on(event, handler, context);\n        }\n        else {\n            for (var _i = 0, event_1 = event; _i < event_1.length; _i++) {\n                var arg = event_1[_i];\n                this.localObserver.on(arg.event, arg.handler, arg.context);\n            }\n        }\n    };\n    /**\n     * To remove one or more event handler that has been attached with the on() method.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the function to run when the event occurs\n     * @return {void}\n     * @private\n     */\n    Component.prototype.off = function (event, handler) {\n        if (typeof event === 'string') {\n            this.localObserver.off(event, handler);\n        }\n        else {\n            for (var _i = 0, event_2 = event; _i < event_2.length; _i++) {\n                var arg = event_2[_i];\n                this.localObserver.off(arg.event, arg.handler);\n            }\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     * @param {Object} argument - Additional parameters to pass while calling the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.notify = function (property, argument) {\n        if (this.isDestroyed !== true) {\n            this.localObserver.notify(property, argument);\n        }\n    };\n    /**\n     * Get injected modules\n     * @private\n     */\n    Component.prototype.getInjectedModules = function () {\n        return this.injectedModules;\n    };\n    ;\n    /**\n     * Dynamically injects the required modules to the component.\n     */\n    Component.Inject = function () {\n        var moduleList = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            moduleList[_i] = arguments[_i];\n        }\n        if (!this.prototype.injectedModules) {\n            this.prototype.injectedModules = [];\n        }\n        for (var i = 0; i < moduleList.length; i++) {\n            if (this.prototype.injectedModules.indexOf(moduleList[i]) === -1) {\n                this.prototype.injectedModules.push(moduleList[i]);\n            }\n        }\n    };\n    Component.prototype.injectModules = function () {\n        if (this.injectedModules && this.injectedModules.length) {\n            this.moduleLoader.inject(this.requiredModules(), this.injectedModules);\n        }\n    };\n    Component.prototype.mergePersistData = function () {\n        var data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n        if (!(isNullOrUndefined(data) || (data === ''))) {\n            this.setProperties(JSON.parse(data), true);\n        }\n    };\n    Component.prototype.setPersistData = function () {\n        if (!this.isDestroyed) {\n            window.localStorage.setItem(this.getModuleName() + this.element.id, this.getPersistData());\n        }\n    };\n    Component.prototype.clearTemplate = function (templateName) {\n        //No Code\n    };\n    Component.prototype.getUniqueID = function (definedName) {\n        if (this.isHistoryChanged()) {\n            componentCount = 0;\n        }\n        lastPageID = this.pageID(location.href);\n        lastHistoryLen = history.length;\n        return definedName + '_' + lastPageID + '_' + componentCount++;\n    };\n    Component.prototype.pageID = function (url) {\n        var hash = 0;\n        if (url.length === 0) {\n            return hash;\n        }\n        for (var i = 0; i < url.length; i++) {\n            var char = url.charCodeAt(i);\n            hash = ((hash << 5) - hash) + char;\n            hash = hash & hash; // Convert to 32bit integer\n        }\n        return Math.abs(hash);\n    };\n    Component.prototype.isHistoryChanged = function () {\n        return lastPageID !== this.pageID(location.href) || lastHistoryLen !== history.length;\n    };\n    Component.prototype.addOnPersist = function (options) {\n        var _this = this;\n        var persistObj = {};\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var key = options_1[_i];\n            var objValue = void 0;\n            objValue = getValue(key, this);\n            if (!isUndefined(objValue)) {\n                setValue(key, this.getActualProperties(objValue), persistObj);\n            }\n        }\n        return JSON.stringify(persistObj, function (key, value) {\n            return _this.getActualProperties(value);\n        });\n    };\n    Component.prototype.getActualProperties = function (obj) {\n        if (obj instanceof ChildProperty) {\n            return getValue('properties', obj);\n        }\n        else {\n            return obj;\n        }\n    };\n    Component.prototype.ignoreOnPersist = function (options) {\n        return JSON.stringify(this.iterateJsonProperties(this.properties, options));\n    };\n    Component.prototype.iterateJsonProperties = function (obj, ignoreList) {\n        var newObj = {};\n        var _loop_1 = function (key) {\n            if (ignoreList.indexOf(key) === -1) {\n                // tslint:disable-next-line:no-any\n                var value = obj[key];\n                if (typeof value === 'object' && !(value instanceof Array)) {\n                    var newList = ignoreList.filter(function (str) {\n                        return new RegExp(key + '.').test(str);\n                    }).map(function (str) {\n                        return str.replace(key + '.', '');\n                    });\n                    newObj[key] = this_1.iterateJsonProperties(this_1.getActualProperties(value), newList);\n                }\n                else {\n                    newObj[key] = value;\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            _loop_1(key);\n        }\n        return newObj;\n    };\n    __decorate([\n        Property(false)\n    ], Component.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"locale\", void 0);\n    Component = __decorate([\n        NotifyPropertyChanges\n    ], Component);\n    return Component;\n}(Base));\nexport { Component };\n//Function handling for page navigation detection \n/* istanbul ignore next */\n(function () {\n    if (typeof window !== 'undefined') {\n        window.addEventListener('popstate', \n        /* istanbul ignore next */\n        function () {\n            componentCount = 0;\n        });\n    }\n})();\n","import { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nimport { isUndefined, throwError, getValue, isNullOrUndefined } from '../util';\nimport { datePartMatcher } from './date-formatter';\nvar number = 'numbers';\nvar defNoSystem = 'defaultNumberingSystem';\nvar noSystem = 'numberingSystem';\nvar standalone = 'stand-alone';\nvar curWeekDay = 'curWeekDay';\nvar latnRegex = /^[0-9]*$/;\nvar abbreviateRegex = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|ccc/;\nvar timeSetter = {\n    minute: 'setMinutes',\n    hour: 'setHours',\n    second: 'setSeconds',\n    day: 'setDate',\n    month: 'setMonth'\n};\nvar month = 'months';\n/* tslint:disable no-any */\n/**\n * Date Parser.\n * @private\n */\nvar DateParser = /** @class */ (function () {\n    function DateParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which string date  will be parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     *  @return Function.\n     */\n    // tslint:disable-next-line:max-func-body-length\n    DateParser.dateParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr));\n        var parseOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        var regexString = '';\n        var hourOnly;\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            parseOptions = { pattern: resPattern, evalposition: {} };\n            var patternMatch = resPattern.match(base.dateParseRegex) || [];\n            var length_1 = patternMatch.length;\n            var gmtCorrection = 0;\n            var zCorrectTemp = 0;\n            var isgmtTraversed = false;\n            var nRegx = numOptions.numericRegex;\n            for (var i = 0; i < length_1; i++) {\n                var str = patternMatch[i];\n                var len = str.length;\n                var char = (str[0] === 'K') ? 'h' : str[0];\n                var isNumber = void 0;\n                var canUpdate = void 0;\n                var charKey = datePartMatcher[char];\n                var optional = (len === 2) ? '' : '?';\n                if (isgmtTraversed) {\n                    gmtCorrection = zCorrectTemp;\n                    isgmtTraversed = false;\n                }\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        // tslint:disable-next-line\n                        var weekObject = parser.reverseObject(dependable.dateObject[base.days][standalone][base.monthIndex[len]]);\n                        regexString += '(' + Object.keys(weekObject).join('|') + ')';\n                        break;\n                    case 'M':\n                    case 'L':\n                    case 'd':\n                    case 'm':\n                    case 's':\n                    case 'h':\n                    case 'H':\n                        canUpdate = true;\n                        if ((char === 'M' || char === 'L') && len > 2) {\n                            // tslint:disable-next-line\n                            parseOptions[charKey] = parser.reverseObject(dependable.dateObject[month][standalone][base.monthIndex[len]]);\n                            /* tslint:disable no-any */\n                            regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        }\n                        else {\n                            isNumber = true;\n                            regexString += '(' + nRegx + nRegx + optional + ')';\n                        }\n                        if (char === 'h') {\n                            parseOptions.hour12 = true;\n                        }\n                        break;\n                    case 'y':\n                        canUpdate = isNumber = true;\n                        if (len === 2) {\n                            regexString += '(' + nRegx + nRegx + ')';\n                        }\n                        else {\n                            regexString += '(' + nRegx + '{' + len + ',})';\n                        }\n                        break;\n                    case 'a':\n                        canUpdate = true;\n                        parseOptions[charKey] = parser.reverseObject(getValue('dayPeriods.format.wide', dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        break;\n                    case 'G':\n                        canUpdate = true;\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        parseOptions[charKey] = parser.reverseObject(getValue('eras.' + eText, dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + '?)';\n                        break;\n                    case 'z':\n                        var tval = new Date().getTimezoneOffset();\n                        canUpdate = (tval !== 0);\n                        parseOptions[charKey] = getValue('dates.timeZoneNames', dependable.parserObject);\n                        var tzone = parseOptions[charKey];\n                        hourOnly = (len < 4);\n                        var hpattern = hourOnly ? '+H;-H' : tzone.hourFormat;\n                        regexString += '(' + this.parseTimeZoneRegx(hpattern, tzone, nRegx) + ')?';\n                        isgmtTraversed = true;\n                        zCorrectTemp = hourOnly ? 6 : 12;\n                        break;\n                    case '\\'':\n                        var iString = str.replace(/\\'/g, '');\n                        regexString += '(' + iString + ')?';\n                        break;\n                    default:\n                        regexString += '(.)?';\n                        break;\n                }\n                if (canUpdate) {\n                    parseOptions.evalposition[charKey] = { isNumber: isNumber, pos: i + 1 + gmtCorrection, hourOnly: hourOnly };\n                }\n                if (i === length_1 - 1 && !isNullOrUndefined(regexString)) {\n                    parseOptions.parserRegex = new RegExp('^' + regexString + '$');\n                }\n            }\n        }\n        return function (value) {\n            var parsedDateParts = _this.internalDateParse(value, parseOptions, numOptions);\n            if (isNullOrUndefined(parsedDateParts) || !Object.keys(parsedDateParts).length) {\n                return null;\n            }\n            return _this.getDateObject(parsedDateParts);\n        };\n    };\n    /**\n     * Returns date object for provided date options\n     * @param {DateParts} options\n     * @param {Date} value\n     * @returns {Date}\n     */\n    DateParser.getDateObject = function (options, value) {\n        var res = value || new Date();\n        res.setMilliseconds(0);\n        var tKeys = ['hour', 'minute', 'second', 'month', 'day'];\n        var y = options.year;\n        var desig = options.designator;\n        var tzone = options.timeZone;\n        if (!isUndefined(y)) {\n            var len = (y + '').length;\n            if (len <= 2) {\n                var century = Math.floor(res.getFullYear() / 100) * 100;\n                y += century;\n            }\n            res.setFullYear(y);\n        }\n        for (var _i = 0, tKeys_1 = tKeys; _i < tKeys_1.length; _i++) {\n            var key = tKeys_1[_i];\n            var tValue = options[key];\n            if (!isUndefined(tValue)) {\n                if (key === 'month') {\n                    tValue -= 1;\n                    if (tValue < 0 || tValue > 11) {\n                        return new Date('invalid');\n                    }\n                    var pDate = res.getDate();\n                    res.setDate(1);\n                    res[timeSetter[key]](tValue);\n                    var lDate = new Date(res.getFullYear(), tValue + 1, 0).getDate();\n                    res.setDate(pDate < lDate ? pDate : lDate);\n                }\n                else {\n                    if (key === 'day') {\n                        var lastDay = new Date(res.getFullYear(), res.getMonth() + 1, 0).getDate();\n                        if ((tValue < 1 || tValue > lastDay)) {\n                            return null;\n                        }\n                    }\n                    res[timeSetter[key]](tValue);\n                }\n            }\n        }\n        if (!isUndefined(desig)) {\n            var hour = res.getHours();\n            if (desig === 'pm') {\n                res.setHours(hour + (hour === 12 ? 0 : 12));\n            }\n            else if (hour === 12) {\n                res.setHours(0);\n            }\n        }\n        if (!isUndefined(tzone)) {\n            var tzValue = tzone - res.getTimezoneOffset();\n            if (tzValue !== 0) {\n                res.setMinutes(res.getMinutes() + tzValue);\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns date parsing options for provided value along with parse and numeric options\n     * @param {string} value\n     * @param {ParseOptions} parseOptions\n     * @param {NumericOptions} num\n     * @returns {DateParts}\n     */\n    DateParser.internalDateParse = function (value, parseOptions, num) {\n        var matches = value.match(parseOptions.parserRegex);\n        var retOptions = { 'hour': 0, 'minute': 0, 'second': 0 };\n        var nRegx = num.numericRegex;\n        if (isNullOrUndefined(matches)) {\n            return null;\n        }\n        else {\n            var props = Object.keys(parseOptions.evalposition);\n            for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n                var prop = props_1[_i];\n                var curObject = parseOptions.evalposition[prop];\n                var matchString = matches[curObject.pos];\n                if (curObject.isNumber) {\n                    retOptions[prop] = this.internalNumberParser(matchString, num);\n                }\n                else {\n                    if (prop === 'timeZone' && !isUndefined(matchString)) {\n                        var pos = curObject.pos;\n                        var val = void 0;\n                        var tmatch = matches[pos + 1];\n                        var flag = !isUndefined(tmatch);\n                        if (curObject.hourOnly) {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 4], num) * 60;\n                        }\n                        else {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 7], num) * 60;\n                            val += this.getZoneValue(flag, matches[pos + 4], matches[pos + 10], num);\n                        }\n                        if (!isNullOrUndefined(val)) {\n                            retOptions[prop] = val;\n                        }\n                    }\n                    else {\n                        retOptions[prop] = parseOptions[prop][matchString];\n                    }\n                }\n            }\n            if (parseOptions.hour12) {\n                retOptions.hour12 = true;\n            }\n        }\n        return retOptions;\n    };\n    /**\n     * Returns parsed number for provided Numeric string and Numeric Options\n     * @param {string} value\n     * @param {NumericOptions} option\n     * @returns {number}\n     */\n    DateParser.internalNumberParser = function (value, option) {\n        value = parser.convertValueParts(value, option.numberParseRegex, option.numericPair);\n        if (latnRegex.test(value)) {\n            return +value;\n        }\n        return null;\n    };\n    /**\n     * Returns parsed time zone RegExp for provided hour format and time zone\n     * @param {string} hourFormat\n     * @param {base.TimeZoneOptions} tZone\n     * @param {string} nRegex\n     * @returns {string}\n     */\n    DateParser.parseTimeZoneRegx = function (hourFormat, tZone, nRegex) {\n        var pattern = tZone.gmtFormat;\n        var ret;\n        var result;\n        var cRegex = '(' + nRegex + ')' + '(' + nRegex + ')';\n        var splitStr;\n        ret = hourFormat.replace('+', '\\\\+');\n        if (hourFormat.indexOf('HH') !== -1) {\n            ret = ret.replace(/HH|mm/g, '(' + cRegex + ')');\n        }\n        else {\n            ret = ret.replace(/H|m/g, '(' + cRegex + '?)');\n        }\n        splitStr = (ret.split(';').map(function (str) {\n            return pattern.replace('{0}', str);\n        }));\n        ret = splitStr.join('|') + '|' + tZone.gmtZeroFormat;\n        return ret;\n    };\n    /**\n     * Returns zone based value.\n     * @param {boolean} flag\n     * @param {string} val1\n     * @param {string} val2\n     * @param {NumericOptions} num\n     * @returns {number}\n     */\n    DateParser.getZoneValue = function (flag, val1, val2, num) {\n        var value = this.internalNumberParser(flag ? val1 : val2, num);\n        if (flag) {\n            return -value;\n        }\n        return value;\n    };\n    return DateParser;\n}());\nexport { DateParser };\n","import { extend, isNullOrUndefined } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nvar formatRegex = /(^[ncpa]{1})([0-1]?[0-9]|20)?$/i;\nvar parseRegex = /^([^0-9]*)(([0-9,]*[0-9]+)(\\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/;\nvar groupRegex = /,/g;\nvar latnDecimalRegex = /^[0-9]*(\\.[0-9]+)?$/;\nvar keys = ['minusSign', 'infinity'];\n/**\n * Module for Number Parser.\n * @private\n */\nvar NumberParser = /** @class */ (function () {\n    function NumberParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} - Specific the format in which number  will parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberParser.numberParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var numOptions;\n        if ((base.formatRegex.test(option.format)) || !(option.format)) {\n            extend(parseOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            parseOptions.custom = false;\n        }\n        else {\n            extend(parseOptions, base.customFormat(option.format, null, null));\n        }\n        numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        parseOptions.symbolRegex = parser.getSymbolRegex(Object.keys(numOptions.symbolMatch));\n        // tslint:disable-next-line:no-any\n        parseOptions.infinity = numOptions.symbolNumberSystem[keys[1]];\n        var symbolpattern = base.getSymbolPattern(parseOptions.type, numOptions.numberSystem, dependable.numericObject, parseOptions.isAccount);\n        if (symbolpattern) {\n            symbolpattern = symbolpattern.replace(/\\u00A4/g, base.defaultCurrency);\n            var split = symbolpattern.split(';');\n            parseOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, '');\n            parseOptions.pData = base.getFormatData(split[0], true, '');\n        }\n        return function (value) {\n            return _this.getParsedNumber(value, parseOptions, numOptions);\n        };\n    };\n    /**\n     * Returns parsed number for the provided formatting options\n     * @param {string} value\n     * @param {NumericParts} options\n     * @param {NumericOptions} numOptions\n     * @returns {number}\n     */\n    NumberParser.getParsedNumber = function (value, options, numOptions) {\n        var isNegative;\n        var isPercent;\n        var tempValue;\n        var lead;\n        var end;\n        var ret;\n        if (value.indexOf(options.infinity) !== -1) {\n            return Infinity;\n        }\n        else {\n            value = parser.convertValueParts(value, options.symbolRegex, numOptions.symbolMatch);\n            value = parser.convertValueParts(value, numOptions.numberParseRegex, numOptions.numericPair);\n            if (value.indexOf('.') === 0) {\n                value = '0' + value;\n            }\n            var matches = value.match(parseRegex);\n            if (isNullOrUndefined(matches)) {\n                return NaN;\n            }\n            lead = matches[1];\n            tempValue = matches[2];\n            var exponent = matches[5];\n            end = matches[6];\n            isNegative = options.custom ? ((lead === options.nData.nlead) && (end === options.nData.nend)) :\n                ((lead.indexOf(options.nData.nlead) !== -1) && (end.indexOf(options.nData.nend) !== -1));\n            isPercent = isNegative ?\n                options.nData.isPercent :\n                options.pData.isPercent;\n            tempValue = tempValue.replace(groupRegex, '');\n            if (exponent) {\n                tempValue += exponent;\n            }\n            ret = +tempValue;\n            if (options.type === 'percent' || isPercent) {\n                ret = ret / 100;\n            }\n            if (options.custom || options.fractionDigits) {\n                ret = parseFloat(ret.toFixed(options.custom ?\n                    (isNegative ? options.nData.maximumFractionDigits : options.pData.maximumFractionDigits) : options.fractionDigits));\n            }\n            if (isNegative) {\n                ret *= -1;\n            }\n            return ret;\n        }\n    };\n    return NumberParser;\n}());\nexport { NumberParser };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible } from './dom';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { ChildProperty } from './child-property';\nimport { select, closest, setStyleAttribute, addClass, createElement } from './dom';\nimport { extend, isUndefined, isNullOrUndefined, compareElementParent } from './util';\nvar defaultPosition = { left: 0, top: 0, bottom: 0, right: 0 };\nvar positionProp = ['offsetLeft', 'offsetTop'];\nvar axisMapper = ['x', 'y'];\nvar axisValueMapper = ['left', 'top'];\n/**\n * Specifies the position coordinates\n */\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"left\", void 0);\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"top\", void 0);\n    return Position;\n}(ChildProperty));\nexport { Position };\n/**\n * Draggable Module provides support to enable draggable functionality in Dom Elements.\n * ```html\n * <div id='drag'>Draggable</div>\n * <script>\n * var ele = document.getElementById('drag');\n * var drag:Draggable = new Draggable(ele,{\n *     clone:false,\n *     drag: function(e) {\n *      //drag handler code.\n *      },\n *     handle:'.class'\n * });\n * </script>\n * ```\n */\nvar Draggable = /** @class */ (function (_super) {\n    __extends(Draggable, _super);\n    function Draggable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.dragLimit = Draggable_1.getDefaultPosition();\n        _this.borderWidth = Draggable_1.getDefaultPosition();\n        _this.padding = Draggable_1.getDefaultPosition();\n        _this.diffX = 0;\n        _this.diffY = 0;\n        _this.droppables = {};\n        _this.bind();\n        return _this;\n    }\n    Draggable_1 = Draggable;\n    Draggable.prototype.bind = function () {\n        this.toggleEvents();\n        if (Browser.isIE) {\n            addClass([this.element], 'e-block-touch');\n        }\n        this.droppables[this.scope] = {};\n    };\n    Draggable.getDefaultPosition = function () {\n        return extend({}, defaultPosition);\n    };\n    Draggable.prototype.toggleEvents = function (isUnWire) {\n        var ele;\n        if (!isUndefined(this.handle)) {\n            ele = select(this.handle, this.element);\n        }\n        if (isUnWire) {\n            EventHandler.remove(ele || this.element, Browser.touchStartEvent, this.initialize);\n        }\n        else {\n            EventHandler.add(ele || this.element, Browser.touchStartEvent, this.initialize, this);\n        }\n    };\n    Draggable.prototype.initialize = function (evt) {\n        this.target = evt.currentTarget;\n        if (this.preventDefault && !isUndefined(evt.changedTouches)) {\n            evt.preventDefault();\n        }\n        if (this.abort) {\n            if (!isNullOrUndefined(closest(evt.target, this.abort))) {\n                return;\n            }\n        }\n        this.element.setAttribute('aria-grabbed', 'true');\n        var intCoord = this.getCoordinates(evt);\n        this.initialPosition = { x: intCoord.pageX, y: intCoord.pageY };\n        if (!this.clone) {\n            var pos = this.element.getBoundingClientRect();\n            this.relativeXPosition = intCoord.pageX - pos.left;\n            this.relativeYPosition = intCoord.pageY - pos.top;\n        }\n        EventHandler.add(document, Browser.touchMoveEvent, this.intDragStart, this);\n        EventHandler.add(document, Browser.touchEndEvent, this.intDestroy, this);\n        this.toggleEvents(true);\n        document.body.classList.add('e-prevent-select');\n        EventHandler.trigger(document.documentElement, Browser.touchStartEvent, evt);\n    };\n    Draggable.prototype.intDragStart = function (evt) {\n        var isChangeTouch = !isUndefined(evt.changedTouches);\n        if (isChangeTouch && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var intCordinate = this.getCoordinates(evt);\n        var pos;\n        var styleProp = getComputedStyle(this.element);\n        this.margin = {\n            left: parseInt(styleProp.marginLeft, 10),\n            top: parseInt(styleProp.marginTop, 10),\n            right: parseInt(styleProp.marginRight, 10),\n            bottom: parseInt(styleProp.marginBottom, 10),\n        };\n        var element = this.element;\n        if (this.clone && this.dragTarget) {\n            var intClosest = closest(evt.target, this.dragTarget);\n            if (!isNullOrUndefined(intClosest)) {\n                element = intClosest;\n            }\n        }\n        this.offset = this.calculateParentPosition(element);\n        this.position = this.getMousePosition(evt);\n        var x = this.initialPosition.x - intCordinate.pageX;\n        var y = this.initialPosition.y - intCordinate.pageY;\n        var distance = Math.sqrt((x * x) + (y * y));\n        if (distance >= this.distance) {\n            var ele = this.getHelperElement(evt);\n            if (!ele || isNullOrUndefined(ele)) {\n                return;\n            }\n            var dragTargetElement = this.helperElement = ele;\n            this.parentClientRect = this.calculateParentPosition(dragTargetElement.offsetParent);\n            if (this.dragStart) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStart', { event: evt, element: element, target: curTarget });\n            }\n            if (this.dragArea) {\n                this.setDragArea();\n            }\n            else {\n                this.dragLimit = { left: 0, right: 0, bottom: 0, top: 0 };\n                this.borderWidth = { top: 0, left: 0 };\n            }\n            pos = { left: this.position.left - this.parentClientRect.left, top: this.position.top - this.parentClientRect.top };\n            if (this.clone && !this.enableTailMode) {\n                this.diffX = this.position.left - this.offset.left;\n                this.diffY = this.position.top - this.offset.top;\n            }\n            var posValue = this.getProcessedPositionValue({ top: (pos.top - this.diffY) + 'px',\n                left: (pos.left - this.diffX) + 'px' });\n            setStyleAttribute(dragTargetElement, {\n                position: 'absolute', top: posValue.top, left: posValue.left\n            });\n            EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n            EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n            if (isVisible(dragTargetElement)) {\n                EventHandler.add(document, Browser.touchMoveEvent, this.intDrag, this);\n                EventHandler.add(document, Browser.touchEndEvent, this.intDragStop, this);\n                this.setGlobalDroppables(false, this.element, dragTargetElement);\n            }\n            else {\n                document.body.classList.remove('e-prevent-select');\n            }\n        }\n    };\n    Draggable.prototype.getProcessedPositionValue = function (value) {\n        if (this.axis) {\n            if (this.axis === 'x') {\n                value.top = '0px';\n            }\n            else if (this.axis === 'y') {\n                value.left = '0px';\n            }\n        }\n        if (this.queryPositionInfo) {\n            return this.queryPositionInfo(value);\n        }\n        return value;\n    };\n    Draggable.prototype.calculateParentPosition = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return { left: 0, top: 0 };\n        }\n        var rect = ele.getBoundingClientRect();\n        var style = getComputedStyle(ele);\n        return {\n            left: (rect.left + window.pageXOffset) - parseInt(style.marginLeft, 10),\n            top: (rect.top + window.pageYOffset) - parseInt(style.marginTop, 10)\n        };\n    };\n    Draggable.prototype.intDrag = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var left;\n        var top;\n        this.position = this.getMousePosition(evt);\n        var docHeight = this.getDocumentWidthHeight('Height');\n        if (docHeight < this.position.top) {\n            this.position.top = docHeight;\n        }\n        var docWidth = this.getDocumentWidthHeight('Width');\n        if (docWidth < this.position.left) {\n            this.position.left = docWidth;\n        }\n        if (this.drag) {\n            var curTarget = this.getProperTargetElement(evt);\n            this.trigger('drag', { event: evt, element: this.element, target: curTarget });\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            eleObj.instance.intOver(evt, eleObj.target);\n            /* tslint:disable no-any */\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            this.hoverObject = eleObj;\n        }\n        else if (this.hoverObject) {\n            this.hoverObject.instance.intOut(evt, eleObj.target);\n            this.hoverObject.instance.dragData[this.scope] = null;\n            this.hoverObject = null;\n        }\n        var helperElement = this.droppables[this.scope].helper;\n        this.parentClientRect = this.calculateParentPosition(this.helperElement.offsetParent);\n        var tLeft = this.parentClientRect.left;\n        var tTop = this.parentClientRect.top;\n        var intCoord = this.getCoordinates(evt);\n        var pagex = intCoord.pageX;\n        var pagey = intCoord.pageY;\n        var dLeft = this.position.left - this.diffX;\n        var dTop = this.position.top - this.diffY;\n        if (this.dragArea) {\n            var styles = getComputedStyle(helperElement);\n            if (this.pageX !== pagex || this.skipDistanceCheck) {\n                var helperWidth = helperElement.offsetWidth + (parseFloat(styles.marginLeft)\n                    + parseFloat(styles.marginRight));\n                if (this.dragLimit.left > dLeft) {\n                    left = this.dragLimit.left;\n                }\n                else if (this.dragLimit.right < dLeft + helperWidth) {\n                    left = this.dragLimit.right - helperWidth;\n                }\n                else {\n                    left = dLeft;\n                }\n            }\n            if (this.pageY !== pagey || this.skipDistanceCheck) {\n                var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop)\n                    + parseFloat(styles.marginBottom));\n                if (this.dragLimit.top > dTop) {\n                    top = this.dragLimit.top;\n                }\n                else if (this.dragLimit.bottom < dTop + helperHeight) {\n                    top = this.dragLimit.bottom - helperHeight;\n                }\n                else {\n                    top = dTop;\n                }\n            }\n        }\n        else {\n            left = dLeft;\n            top = dTop;\n        }\n        var iTop = tTop + this.borderWidth.top;\n        var iLeft = tLeft + this.borderWidth.left;\n        var dragValue = this.getProcessedPositionValue({ top: (top - iTop) + 'px', left: (left - iLeft) + 'px' });\n        setStyleAttribute(helperElement, { left: dragValue.left, top: dragValue.top });\n        this.position.left = left;\n        this.position.top = top;\n        this.pageX = pagex;\n        this.pageY = pagey;\n    };\n    Draggable.prototype.getDocumentWidthHeight = function (str) {\n        var docBody = document.body;\n        var docEle = document.documentElement;\n        var returnValue = Math.max(docBody['scroll' + str], docEle['scroll' + str], docBody['offset' + str], docEle['offset' + str], docEle['client' + str]);\n        return returnValue;\n    };\n    Draggable.prototype.intDragStop = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var type = ['touchend', 'pointerup', 'mouseup'];\n        if (type.indexOf(evt.type) !== -1) {\n            if (this.dragStop) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStop', { event: evt, element: this.element, target: curTarget, helper: this.helperElement });\n            }\n            this.intDestroy(evt);\n        }\n        else {\n            this.element.setAttribute('aria-grabbed', 'false');\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            eleObj.instance.dragStopCalled = true;\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intDrop(evt, eleObj.target);\n        }\n        this.setGlobalDroppables(true);\n        document.body.classList.remove('e-prevent-select');\n    };\n    Draggable.prototype.intDestroy = function (evt) {\n        this.toggleEvents();\n        document.body.classList.remove('e-prevent-select');\n        this.element.setAttribute('aria-grabbed', 'false');\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDragStop);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDrag);\n    };\n    // triggers when property changed\n    Draggable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Draggable.prototype.getModuleName = function () {\n        return 'draggable';\n    };\n    Draggable.prototype.setDragArea = function () {\n        var eleWidthBound;\n        var eleHeightBound;\n        var top = 0;\n        var left = 0;\n        var ele;\n        var type = typeof this.dragArea;\n        if (type === 'string') {\n            ele = select(this.dragArea);\n        }\n        else {\n            ele = this.dragArea;\n        }\n        if (ele) {\n            var elementArea = ele.getBoundingClientRect();\n            eleWidthBound = elementArea.width ? elementArea.width : elementArea.right - elementArea.left;\n            eleHeightBound = elementArea.height ? elementArea.height : elementArea.bottom - elementArea.top;\n            var keys = ['Top', 'Left', 'Bottom', 'Right'];\n            var styles = getComputedStyle(ele);\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var tborder = styles['border' + key + 'Width'];\n                var tpadding = styles['padding' + key];\n                var lowerKey = key.toLowerCase();\n                this.borderWidth[lowerKey] = isNaN(parseFloat(tborder)) ? 0 : parseFloat(tborder);\n                this.padding[lowerKey] = isNaN(parseFloat(tpadding)) ? 0 : parseFloat(tpadding);\n            }\n            top = elementArea.top;\n            left = elementArea.left;\n            this.dragLimit.left = left + this.borderWidth.left + this.padding.left;\n            this.dragLimit.top = top + this.borderWidth.top + this.padding.top;\n            this.dragLimit.right = left + eleWidthBound - (this.borderWidth.right + this.padding.right);\n            this.dragLimit.bottom = top + eleHeightBound - (this.borderWidth.bottom + this.padding.bottom);\n        }\n    };\n    Draggable.prototype.getProperTargetElement = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var ele;\n        var prevStyle = this.helperElement.style.display || '';\n        if (compareElementParent(evt.target, this.helperElement) || evt.type.indexOf('touch') !== -1) {\n            this.helperElement.style.display = 'none';\n            ele = document.elementFromPoint(intCoord.clientX, intCoord.clientY);\n            this.helperElement.style.display = prevStyle;\n        }\n        else {\n            ele = evt.target;\n        }\n        return ele;\n    };\n    Draggable.prototype.getMousePosition = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var pageX = this.clone ? intCoord.pageX : intCoord.pageX - this.relativeXPosition;\n        var pageY = this.clone ? intCoord.pageY : intCoord.pageY - this.relativeYPosition;\n        return {\n            left: pageX - (this.margin.left + this.cursorAt.left),\n            top: pageY - (this.margin.top + this.cursorAt.top)\n        };\n    };\n    Draggable.prototype.getCoordinates = function (evt) {\n        if (evt.type.indexOf('touch') > -1) {\n            return evt.changedTouches[0];\n        }\n        return evt;\n    };\n    Draggable.prototype.getHelperElement = function (evt) {\n        var element;\n        if (this.clone) {\n            if (this.helper) {\n                element = this.helper({ sender: evt, element: this.target });\n            }\n            else {\n                element = createElement('div', { className: 'e-drag-helper e-block-touch', innerHTML: 'Draggable' });\n                document.body.appendChild(element);\n            }\n        }\n        else {\n            element = this.element;\n        }\n        return element;\n    };\n    Draggable.prototype.setGlobalDroppables = function (reset, drag, helper) {\n        this.droppables[this.scope] = reset ? null : {\n            draggable: drag,\n            helper: helper,\n            draggedElement: this.element\n        };\n    };\n    Draggable.prototype.checkTargetElement = function (evt) {\n        var target = this.getProperTargetElement(evt);\n        var dropIns = this.getDropInstance(target);\n        if (!dropIns && target && !isNullOrUndefined(target.parentNode)) {\n            var parent_1 = closest(target.parentNode, '.e-droppable') || target.parentElement;\n            if (parent_1) {\n                dropIns = this.getDropInstance(parent_1);\n            }\n        }\n        return { target: target, instance: dropIns };\n    };\n    Draggable.prototype.getDropInstance = function (ele) {\n        var name = 'getModuleName';\n        var drop;\n        var eleInst = ele && ele.ej2_instances;\n        if (eleInst) {\n            for (var _i = 0, eleInst_1 = eleInst; _i < eleInst_1.length; _i++) {\n                var inst = eleInst_1[_i];\n                if (inst[name]() === 'droppable') {\n                    drop = inst;\n                    break;\n                }\n            }\n        }\n        return drop;\n    };\n    Draggable.prototype.destroy = function () {\n        this.toggleEvents(true);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({}, Position)\n    ], Draggable.prototype, \"cursorAt\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"clone\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"dragArea\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStop\", void 0);\n    __decorate([\n        Property(1)\n    ], Draggable.prototype, \"distance\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"handle\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"abort\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"helper\", void 0);\n    __decorate([\n        Property('default')\n    ], Draggable.prototype, \"scope\", void 0);\n    __decorate([\n        Property('')\n    ], Draggable.prototype, \"dragTarget\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"axis\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"queryPositionInfo\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTailMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"skipDistanceCheck\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"preventDefault\", void 0);\n    Draggable = Draggable_1 = __decorate([\n        NotifyPropertyChanges\n    ], Draggable);\n    return Draggable;\n    var Draggable_1;\n}(Base));\nexport { Draggable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible, matches } from './dom';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { compareElementParent } from './util';\n/**\n * Droppable Module provides support to enable droppable functionality in Dom Elements.\n * ```html\n * <div id='drop'>Droppable</div>\n * <script>\n * let ele:HTMLElement = document.getElementById('drop');\n * var drag:Droppable = new Droppable(ele,{\n *     accept:'.drop',\n *     drop: function(e) {\n *      //drop handler code.\n *     }\n * });\n * </script>\n * ```\n */\nvar Droppable = /** @class */ (function (_super) {\n    __extends(Droppable, _super);\n    function Droppable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseOver = false;\n        _this.dragData = {};\n        _this.dragStopCalled = false;\n        _this.bind();\n        return _this;\n    }\n    Droppable.prototype.bind = function () {\n        this.wireEvents();\n    };\n    Droppable.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchEndEvent, this.intDrop, this);\n    };\n    // triggers when property changed\n    Droppable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Droppable.prototype.getModuleName = function () {\n        return 'droppable';\n    };\n    Droppable.prototype.intOver = function (event, element) {\n        if (!this.mouseOver) {\n            this.trigger('over', { event: event, target: element });\n            this.mouseOver = true;\n        }\n    };\n    Droppable.prototype.intOut = function (event, element) {\n        if (this.mouseOver) {\n            this.trigger('out', { evt: event, target: element });\n            this.mouseOver = false;\n        }\n    };\n    Droppable.prototype.intDrop = function (evt, element) {\n        if (!this.dragStopCalled) {\n            return;\n        }\n        else {\n            this.dragStopCalled = false;\n        }\n        var accept = true;\n        var drag = this.dragData[this.scope];\n        var isDrag = drag ? (drag.helper && isVisible(drag.helper)) : false;\n        var area;\n        if (isDrag) {\n            area = this.isDropArea(evt, drag.helper, element);\n            if (this.accept) {\n                accept = matches(drag.helper, this.accept);\n            }\n        }\n        if (isDrag && this.drop && area.canDrop && accept) {\n            this.trigger('drop', { event: evt, target: area.target, droppedElement: drag.helper, dragData: drag });\n        }\n    };\n    Droppable.prototype.isDropArea = function (evt, helper, element) {\n        var area = { canDrop: true, target: element || evt.target };\n        var isTouch = evt.type === 'touchend';\n        if (isTouch || area.target === helper) {\n            helper.style.display = 'none';\n            var coord = isTouch ? (evt.changedTouches[0]) : evt;\n            var ele = document.elementFromPoint(coord.clientX, coord.clientY);\n            area.canDrop = false;\n            area.canDrop = compareElementParent(ele, this.element);\n            if (area.canDrop) {\n                area.target = ele;\n            }\n            helper.style.display = '';\n        }\n        return area;\n    };\n    Droppable.prototype.destroy = function () {\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.intDrop);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property()\n    ], Droppable.prototype, \"accept\", void 0);\n    __decorate([\n        Property('default')\n    ], Droppable.prototype, \"scope\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"drop\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"over\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"out\", void 0);\n    Droppable = __decorate([\n        NotifyPropertyChanges\n    ], Droppable);\n    return Droppable;\n}(Base));\nexport { Droppable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Base } from './base';\nvar keyCode = {\n    'backspace': 8,\n    'tab': 9,\n    'enter': 13,\n    'shift': 16,\n    'control': 17,\n    'alt': 18,\n    'pause': 19,\n    'capslock': 20,\n    'space': 32,\n    'escape': 27,\n    'pageup': 33,\n    'pagedown': 34,\n    'end': 35,\n    'home': 36,\n    'leftarrow': 37,\n    'uparrow': 38,\n    'rightarrow': 39,\n    'downarrow': 40,\n    'insert': 45,\n    'delete': 46,\n    'f1': 112,\n    'f2': 113,\n    'f3': 114,\n    'f4': 115,\n    'f5': 116,\n    'f6': 117,\n    'f7': 118,\n    'f8': 119,\n    'f9': 120,\n    'f10': 121,\n    'f11': 122,\n    'f12': 123,\n    'semicolon': 186,\n    'plus': 187,\n    'comma': 188,\n    'minus': 189,\n    'dot': 190,\n    'forwardslash': 191,\n    'graveaccent': 192,\n    'openbracket': 219,\n    'backslash': 220,\n    'closebracket': 221,\n    'singlequote': 222\n};\n/**\n * KeyboardEvents class enables you to bind key action desired key combinations for ex., Ctrl+A, Delete, Alt+Space etc.\n * ```html\n * <div id='testEle'>  </div>;\n * <script>\n *   let node: HTMLElement = document.querySelector('#testEle');\n *   let kbInstance = new KeyboardEvents({\n *       element: node,\n *       keyConfigs:{ selectAll : 'ctrl+a' },\n *       keyAction: function (e:KeyboardEvent, action:string) {\n *           // handler function code\n *       }\n *   });\n * </script>\n * ```\n */\nvar KeyboardEvents = /** @class */ (function (_super) {\n    __extends(KeyboardEvents, _super);\n    /**\n     * Initializes the KeyboardEvents\n     * @param {HTMLElement} element\n     * @param {KeyboardEventsModel} options\n     */\n    function KeyboardEvents(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * To handle a key press event returns null\n         */\n        _this.keyPressHandler = function (e) {\n            var isAltKey = e.altKey;\n            var isCtrlKey = e.ctrlKey;\n            var isShiftKey = e.shiftKey;\n            var curkeyCode = e.which;\n            var keys = Object.keys(_this.keyConfigs);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                var configCollection = _this.keyConfigs[key].split(',');\n                for (var _a = 0, configCollection_1 = configCollection; _a < configCollection_1.length; _a++) {\n                    var rconfig = configCollection_1[_a];\n                    var rKeyObj = KeyboardEvents_1.getKeyConfigData(rconfig.trim());\n                    if (isAltKey === rKeyObj.altKey && isCtrlKey === rKeyObj.ctrlKey &&\n                        isShiftKey === rKeyObj.shiftKey && curkeyCode === rKeyObj.keyCode) {\n                        e.action = key;\n                        if (_this.keyAction) {\n                            _this.keyAction(e);\n                        }\n                    }\n                }\n            }\n        };\n        _this.bind();\n        return _this;\n    }\n    KeyboardEvents_1 = KeyboardEvents;\n    /**\n     * Unwire bound events and destroy the instance.\n     * @return {void}\n     */\n    KeyboardEvents.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Function can be used to specify certain action if a property is changed\n     * @param newProp\n     * @param oldProp\n     * @returns {void}\n     * @private\n     */\n    KeyboardEvents.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // No code are needed\n    };\n    ;\n    KeyboardEvents.prototype.bind = function () {\n        this.wireEvents();\n    };\n    /**\n     * To get the module name, returns 'keyboard'.\n     * @private\n     */\n    KeyboardEvents.prototype.getModuleName = function () {\n        return 'keyboard';\n    };\n    /**\n     * Wiring event handlers to events\n     */\n    KeyboardEvents.prototype.wireEvents = function () {\n        this.element.addEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * Unwiring event handlers to events\n     */\n    KeyboardEvents.prototype.unwireEvents = function () {\n        this.element.removeEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * To get the key configuration data\n     * @param {string} config - configuration data\n     * returns {KeyData}\n     */\n    KeyboardEvents.getKeyConfigData = function (config) {\n        if (config in this.configCache) {\n            return this.configCache[config];\n        }\n        var keys = config.toLowerCase().split('+');\n        var keyData = {\n            altKey: (keys.indexOf('alt') !== -1 ? true : false),\n            ctrlKey: (keys.indexOf('ctrl') !== -1 ? true : false),\n            shiftKey: (keys.indexOf('shift') !== -1 ? true : false),\n            keyCode: null\n        };\n        if (keys[keys.length - 1].length > 1 && !!Number(keys[keys.length - 1])) {\n            keyData.keyCode = Number(keys[keys.length - 1]);\n        }\n        else {\n            keyData.keyCode = KeyboardEvents_1.getKeyCode(keys[keys.length - 1]);\n        }\n        KeyboardEvents_1.configCache[config] = keyData;\n        return keyData;\n    };\n    // Return the keycode value as string \n    KeyboardEvents.getKeyCode = function (keyVal) {\n        return keyCode[keyVal] || keyVal.toUpperCase().charCodeAt(0);\n    };\n    KeyboardEvents.configCache = {};\n    __decorate([\n        Property({})\n    ], KeyboardEvents.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property('keyup')\n    ], KeyboardEvents.prototype, \"eventName\", void 0);\n    __decorate([\n        Event()\n    ], KeyboardEvents.prototype, \"keyAction\", void 0);\n    KeyboardEvents = KeyboardEvents_1 = __decorate([\n        NotifyPropertyChanges\n    ], KeyboardEvents);\n    return KeyboardEvents;\n    var KeyboardEvents_1;\n}(Base));\nexport { KeyboardEvents };\n","import { extend } from './util';\nimport { defaultCulture } from './internationalization';\n/**\n * L10n modules provides localized text for different culture.\n * ```typescript\n * import {setCulture} from '@syncfusion/ts-base-library';\n * //load global locale object common for all components.\n * L10n.load({\n *    'fr-BE': {\n *       'button': {\n *            'check': 'vérifié'\n *        }\n *    }\n * });\n * //set globale default locale culture.\n * setCulture('fr-BE');\n * let instance: L10n = new L10n('button', {\n *    check: 'checked'\n * });\n * //Get locale text for current property.\n * instance.getConstant('check');\n * //Change locale culture in a component.\n * instance.setLocale('en-US');\n * ```\n */\nvar L10n = /** @class */ (function () {\n    /**\n     * Constructor\n     */\n    function L10n(controlName, localeStrings, locale) {\n        this.controlName = controlName;\n        this.localeStrings = localeStrings;\n        this.setLocale(locale || defaultCulture);\n    }\n    /**\n     * Sets the locale text\n     * @param {string} locale\n     * @returns {void}\n     */\n    L10n.prototype.setLocale = function (locale) {\n        var intLocale = this.intGetControlConstant(L10n.locale, locale);\n        this.currentLocale = intLocale || this.localeStrings;\n    };\n    /**\n     * Sets the global locale for all components.\n     * @param {Object} localeObject - specifies the localeObject to be set as global locale.\n     */\n    L10n.load = function (localeObject) {\n        this.locale = extend(this.locale, localeObject, {}, true);\n    };\n    /**\n     * Returns current locale text for the property based on the culture name and control name.\n     * @param {string} propertyName - specifies the property for which localize text to be returned.\n     * @return string\n     */\n    L10n.prototype.getConstant = function (prop) {\n        /* tslint:disable no-any */\n        return this.currentLocale[prop] || this.localeStrings[prop] || '';\n    };\n    /**\n     * Returns the control constant object for current object and the locale specified.\n     * @param {Object} curObject\n     * @param {string} locale\n     * @returns {Object}\n     */\n    L10n.prototype.intGetControlConstant = function (curObject, locale) {\n        if (curObject[locale]) {\n            return curObject[locale][this.controlName];\n        }\n        return null;\n    };\n    L10n.locale = {};\n    return L10n;\n}());\nexport { L10n };\n","/**\n * To import utils\n */\nimport { isNullOrUndefined, } from './util';\nvar SvgRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function SvgRenderer(rootID) {\n        //Internal Variables \n        this.svgLink = 'http://www.w3.org/2000/svg';\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    SvgRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    }; /* tslint:enable */\n    /**\n     * To create a Html5 SVG element\n     * @param {SVGAttributes} options - Options to create SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createSvg = function (options) {\n        if (isNullOrUndefined(options.id)) {\n            options.id = this.rootId + '_svg';\n        }\n        this.svgObj = document.getElementById(options.id);\n        if (isNullOrUndefined(document.getElementById(options.id))) {\n            this.svgObj = document.createElementNS(this.svgLink, 'svg');\n        }\n        this.svgObj = this.setElementAttributes(options, this.svgObj);\n        this.setSVGSize(options.width, options.height);\n        return this.svgObj;\n    };\n    // method to set the height and width for the SVG element\n    SvgRenderer.prototype.setSVGSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width) || this.width <= 0) {\n            this.svgObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.svgObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height) || this.height <= 0) {\n            this.svgObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.svgObj.setAttribute('height', this.height.toString());\n        }\n    };\n    /**\n     * To draw a path\n     * @param {PathAttributes} options - Options to draw a path in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPath = function (options) {\n        var path = document.getElementById(options.id);\n        if (path === null) {\n            path = document.createElementNS(this.svgLink, 'path');\n        }\n        path = this.setElementAttributes(options, path);\n        return path;\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - Options to draw a line in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawLine = function (options) {\n        var line = document.getElementById(options.id);\n        if (line === null) {\n            line = document.createElementNS(this.svgLink, 'line');\n        }\n        line = this.setElementAttributes(options, line);\n        return line;\n    };\n    /**\n     * To draw a rectangle\n     * @param {BaseAttibutes} options - Required options to draw a rectangle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawRectangle = function (options) {\n        var rectangle = document.getElementById(options.id);\n        if (rectangle === null) {\n            rectangle = document.createElementNS(this.svgLink, 'rect');\n        }\n        rectangle = this.setElementAttributes(options, rectangle);\n        return rectangle;\n    };\n    /**\n     * To draw a circle\n     * @param {CircleAttributes} options - Required options to draw a circle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircle = function (options) {\n        var circle = document.getElementById(options.id);\n        if (circle === null) {\n            circle = document.createElementNS(this.svgLink, 'circle');\n        }\n        circle = this.setElementAttributes(options, circle);\n        return circle;\n    };\n    /**\n     * To draw a polyline\n     * @param {PolylineAttributes} options - Options required to draw a polyline\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolyline = function (options) {\n        var polyline = document.getElementById(options.id);\n        if (polyline === null) {\n            polyline = document.createElementNS(this.svgLink, 'polyline');\n        }\n        polyline = this.setElementAttributes(options, polyline);\n        return polyline;\n    };\n    /**\n     * To draw an ellipse\n     * @param {EllipseAttributes} options - Options required to draw an ellipse\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawEllipse = function (options) {\n        var ellipse = document.getElementById(options.id);\n        if (ellipse === null) {\n            ellipse = document.createElementNS(this.svgLink, 'ellipse');\n        }\n        ellipse = this.setElementAttributes(options, ellipse);\n        return ellipse;\n    };\n    /**\n     * To draw a polygon\n     * @param {PolylineAttributes} options - Options needed to draw a polygon in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolygon = function (options) {\n        var polygon = document.getElementById(options.id);\n        if (polygon === null) {\n            polygon = document.createElementNS(this.svgLink, 'polygon');\n        }\n        polygon = this.setElementAttributes(options, polygon);\n        return polygon;\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - Required options to draw an image in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawImage = function (options) {\n        var img = document.createElementNS(this.svgLink, 'image');\n        img.setAttributeNS(null, 'height', options.height.toString());\n        img.setAttributeNS(null, 'width', options.width.toString());\n        img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', options.href);\n        img.setAttributeNS(null, 'x', options.x.toString());\n        img.setAttributeNS(null, 'y', options.y.toString());\n        img.setAttributeNS(null, 'id', options.id);\n        img.setAttributeNS(null, 'visibility', options.visibility);\n        if (!isNullOrUndefined(this.getOptionValue(options, 'clip-path'))) {\n            img.setAttributeNS(null, 'clip-path', this.getOptionValue(options, 'clip-path'));\n        }\n        if (!isNullOrUndefined(options.preserveAspectRatio)) {\n            img.setAttributeNS(null, 'preserveAspectRatio', options.preserveAspectRatio);\n        }\n        return img;\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - Options needed to draw a text in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createText = function (options, label) {\n        var text = document.createElementNS(this.svgLink, 'text');\n        text = this.setElementAttributes(options, text);\n        if (!isNullOrUndefined(label)) {\n            text.textContent = label;\n        }\n        return text;\n    };\n    /**\n     * To create a tSpan\n     * @param {TextAttributes} options - Options to create tSpan\n     * @param {string} label - The text content which is to be rendered in the tSpan\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTSpan = function (options, label) {\n        var tSpan = document.createElementNS(this.svgLink, 'tspan');\n        tSpan = this.setElementAttributes(options, tSpan);\n        if (!isNullOrUndefined(label)) {\n            tSpan.textContent = label;\n        }\n        return tSpan;\n    };\n    /**\n     * To create a title\n     * @param {string} text - The text content which is to be rendered in the title\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTitle = function (text) {\n        var title = document.createElementNS(this.svgLink, 'title');\n        title.textContent = text;\n        return title;\n    };\n    /**\n     * To create defs element in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createDefs = function () {\n        var defs = document.createElementNS(this.svgLink, 'defs');\n        return defs;\n    };\n    /**\n     * To create clip path in SVG\n     * @param {BaseAttibutes} options - Options needed to create clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createClipPath = function (options) {\n        var clipPath = document.createElementNS(this.svgLink, 'clipPath');\n        clipPath = this.setElementAttributes(options, clipPath);\n        return clipPath;\n    };\n    /**\n     * To create foreign object in SVG\n     * @param {BaseAttibutes} options - Options needed to create foreign object\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createForeignObject = function (options) {\n        var foreignObject = document.createElementNS(this.svgLink, 'foreignObject');\n        foreignObject = this.setElementAttributes(options, foreignObject);\n        return foreignObject;\n    };\n    /**\n     * To create group element in SVG\n     * @param {BaseAttibutes} options - Options needed to create group\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createGroup = function (options) {\n        var group = document.createElementNS(this.svgLink, 'g');\n        group = this.setElementAttributes(options, group);\n        return group;\n    };\n    /**\n     * To create pattern in SVG\n     * @param {PatternAttributes} options - Required options to create pattern in SVG\n     * @param {string} type - Specifies the name of the pattern\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createPattern = function (options, element) {\n        var pattern = document.createElementNS(this.svgLink, element);\n        pattern = this.setElementAttributes(options, pattern);\n        return pattern;\n    };\n    /**\n     * To create radial gradient in SVG\n     * @param {string[]} colors - Specifies the colors required to create radial gradient\n     * @param {string[]} colorStop - Specifies the colorstop required to create radial gradient\n     * @param {string} name - Specifies the name of the gradient\n     * @param {RadialGradient} options - value for radial gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createRadialGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'radialGradient',\n                'cx': options.cx + '%',\n                'cy': options.cy + '%',\n                'r': options.r + '%',\n                'fx': options.fx + '%',\n                'fy': options.fy + '%'\n            };\n            this.drawGradient('radialGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'radialGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To create linear gradient in SVG\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colors - Array of string specifies the values for colorStop\n     * @param {string} name - Specifies the name of the gradient\n     * @param {LinearGradient} options - Specifies the options for gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createLinearGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'linearGradient',\n                'x1': options.x1 + '%',\n                'y1': options.y1 + '%',\n                'x2': options.x2 + '%',\n                'y2': options.y2 + '%'\n            };\n            this.drawGradient('linearGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'linearGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To render the gradient element in SVG\n     * @param {string} gradientType - Specifies the type of the gradient\n     * @param {RadialGradient | LinearGradient} options - Options required to render a gradient\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colorStop - Array of string specifies the values for colorStop\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawGradient = function (gradientType, options, colors) {\n        var defs = this.createDefs();\n        var gradient = document.createElementNS(this.svgLink, gradientType);\n        gradient = this.setElementAttributes(options, gradient);\n        for (var i = 0; i < colors.length; i++) {\n            var stop_1 = document.createElementNS(this.svgLink, 'stop');\n            stop_1.setAttribute('offset', colors[i].colorStop);\n            stop_1.setAttribute('stop-color', colors[i].color);\n            stop_1.setAttribute('stop-opacity', '1');\n            gradient.appendChild(stop_1);\n        }\n        defs.appendChild(gradient);\n        return defs;\n    };\n    /**\n     * To render a clip path\n     * @param {BaseAttibutes} options - Options required to render a clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var rect = this.drawRectangle(options);\n        clipPath.appendChild(rect);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To create circular clip path in SVG\n     * @param {CircleAttributes} options - Options required to create circular clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircularClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var circle = this.drawCircle(options);\n        clipPath.appendChild(circle);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {Element} element - The element to which the attributes need to be set\n     * @return {Element}\n     */\n    SvgRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], options[keys[i]]);\n        }\n        return element;\n    };\n    return SvgRenderer;\n}());\nexport { SvgRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { extend } from './util';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Browser } from './browser';\nimport { Base } from './base';\nimport { ChildProperty } from './child-property';\nimport { EventHandler } from './event-handler';\n/**\n * SwipeSettings is a framework module that provides support to handle swipe event like swipe up, swipe right, etc..,\n * @private\n */\nvar SwipeSettings = /** @class */ (function (_super) {\n    __extends(SwipeSettings, _super);\n    function SwipeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(50)\n    ], SwipeSettings.prototype, \"swipeThresholdDistance\", void 0);\n    return SwipeSettings;\n}(ChildProperty));\nexport { SwipeSettings };\nvar swipeRegex = /(Up|Down)/;\n/**\n * Touch class provides support to handle the touch event like tap, double tap, tap hold, etc..,\n * ```typescript\n *    let node: HTMLElement;\n * let touchObj: Touch = new Touch({\n *    element: node,\n *    tap: function (e) {\n *        // tap handler function code\n *    }\n *    tapHold: function (e) {\n *        // tap hold handler function code\n *    }\n *    scroll: function (e) {\n *        // scroll handler function code\n *    }\n *    swipe: function (e) {\n *        // swipe handler function code\n *    }\n * });\n * ```\n */\nvar Touch = /** @class */ (function (_super) {\n    __extends(Touch, _super);\n    /* End-Properties */\n    function Touch(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.touchAction = true;\n        _this.tapCount = 0;\n        _this.startEvent = function (evt) {\n            if (_this.touchAction === true) {\n                var point = (evt.changedTouches ? evt.changedTouches[0] : evt);\n                if (evt.changedTouches !== undefined) {\n                    _this.touchAction = false;\n                }\n                _this.isTouchMoved = false;\n                _this.movedDirection = '';\n                _this.startPoint = _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n                _this.startEventData = point;\n                _this.hScrollLocked = _this.vScrollLocked = false;\n                _this.tStampStart = Date.now();\n                _this.timeOutTapHold = setTimeout(function () { _this.tapHoldEvent(evt); }, _this.tapHoldThreshold);\n                EventHandler.add(_this.element, Browser.touchMoveEvent, _this.moveEvent, _this);\n                EventHandler.add(_this.element, Browser.touchEndEvent, _this.endEvent, _this);\n            }\n        };\n        _this.moveEvent = function (evt) {\n            var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n            _this.movedPoint = point;\n            _this.isTouchMoved = !(point.clientX === _this.startPoint.clientX && point.clientY === _this.startPoint.clientY);\n            var eScrollArgs = {};\n            if (_this.isTouchMoved) {\n                clearTimeout(_this.timeOutTapHold);\n                _this.calcScrollPoints(evt);\n                var scrollArg = {\n                    startEvents: _this.startEventData,\n                    originalEvent: evt, startX: _this.startPoint.clientX,\n                    startY: _this.startPoint.clientY, distanceX: _this.distanceX,\n                    distanceY: _this.distanceY, scrollDirection: _this.scrollDirection,\n                    velocity: _this.getVelocity(point)\n                };\n                eScrollArgs = extend(eScrollArgs, {}, scrollArg);\n                _this.trigger('scroll', eScrollArgs);\n                _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n            }\n        };\n        _this.endEvent = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            var point = evt;\n            if (evt.changedTouches) {\n                point = evt.changedTouches[0];\n            }\n            var diffX = point.clientX - _this.startPoint.clientX;\n            var diffY = point.clientY - _this.startPoint.clientY;\n            diffX = Math.floor(diffX < 0 ? -1 * diffX : diffX);\n            diffY = Math.floor(diffY < 0 ? -1 * diffY : diffX);\n            _this.isTouchMoved = diffX > 1 || diffY > 1;\n            _this.endPoint = point;\n            var eSwipeArgs;\n            var tDistance = _this.swipeSettings.swipeThresholdDistance;\n            _this.calcPoints(evt);\n            var swipeArgs = {\n                originalEvent: evt,\n                startEvents: _this.startEventData,\n                startX: _this.startPoint.clientX,\n                startY: _this.startPoint.clientY,\n                distanceX: _this.distanceX, distanceY: _this.distanceY, swipeDirection: _this.movedDirection,\n                velocity: _this.getVelocity(point)\n            };\n            if (!_this.isTouchMoved) {\n                if (typeof _this.tap === 'function') {\n                    _this.trigger('tap', { originalEvent: evt, tapCount: ++_this.tapCount });\n                    _this.timeOutTap = setTimeout(function () {\n                        _this.tapCount = 0;\n                    }, _this.tapThreshold);\n                }\n            }\n            else {\n                eSwipeArgs = extend(eSwipeArgs, _this.defaultArgs, swipeArgs);\n                var canTrigger = false;\n                var ele = _this.element;\n                var scrollBool = _this.isScrollable(ele);\n                var moved = swipeRegex.test(_this.movedDirection);\n                if ((tDistance < _this.distanceX && !moved) || (tDistance < _this.distanceY && moved)) {\n                    if (!scrollBool) {\n                        canTrigger = true;\n                    }\n                    else {\n                        canTrigger = _this.checkSwipe(ele, moved);\n                    }\n                }\n                if (canTrigger) {\n                    _this.trigger('swipe', eSwipeArgs);\n                }\n            }\n            _this.modeClear = setTimeout(function () {\n                _this.touchAction = true;\n            }, (typeof _this.tap !== 'function' ? 0 : 10));\n            _this.lastTapTime = new Date().getTime();\n            EventHandler.remove(_this.element, Browser.touchMoveEvent, _this.moveEvent);\n            EventHandler.remove(_this.element, Browser.touchEndEvent, _this.endEvent);\n        };\n        _this.bind();\n        return _this;\n    }\n    // triggers when property changed \n    /**\n     * @private\n     * @param newProp\n     * @param oldProp\n     */\n    Touch.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Touch.prototype.bind = function () {\n        this.wireEvents();\n        if (Browser.isIE) {\n            this.element.classList.add('e-block-touch');\n        }\n    };\n    /**\n     * To destroy the touch instance.\n     * @return {void}\n     */\n    Touch.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    // Need to changes the event binding once we updated the event handler.\n    Touch.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchStartEvent, this.startEvent, this);\n    };\n    Touch.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, Browser.touchStartEvent, this.startEvent);\n    };\n    /**\n     * Returns module name as touch\n     * @returns {string}\n     * @private\n     */\n    Touch.prototype.getModuleName = function () {\n        return 'touch';\n    };\n    /**\n     * Returns if the HTML element is Scrollable.\n     * @param {HTMLElement} element - HTML Element to check if Scrollable.\n     * @returns {boolean}\n     */\n    Touch.prototype.isScrollable = function (element) {\n        var eleStyle = getComputedStyle(element);\n        var style = eleStyle.overflow + eleStyle.overflowX + eleStyle.overflowY;\n        if ((/(auto|scroll)/).test(style)) {\n            return true;\n        }\n        return false;\n    };\n    Touch.prototype.tapHoldEvent = function (evt) {\n        this.tapCount = 0;\n        this.touchAction = true;\n        var eTapArgs;\n        EventHandler.remove(this.element, Browser.touchMoveEvent, this.moveEvent);\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.endEvent);\n        eTapArgs = { originalEvent: evt };\n        this.trigger('tapHold', eTapArgs);\n    };\n    Touch.prototype.calcPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.startPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.startPoint.clientY)));\n        if (this.distanceX > this.distanceY) {\n            this.movedDirection = (point.clientX > this.startPoint.clientX) ? 'Right' : 'Left';\n        }\n        else {\n            this.movedDirection = (point.clientY < this.startPoint.clientY) ? 'Up' : 'Down';\n        }\n    };\n    Touch.prototype.calcScrollPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.lastMovedPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.lastMovedPoint.clientY)));\n        if ((this.distanceX > this.distanceY || this.hScrollLocked === true) && this.vScrollLocked === false) {\n            this.scrollDirection = (point.clientX > this.lastMovedPoint.clientX) ? 'Right' : 'Left';\n            this.hScrollLocked = true;\n        }\n        else {\n            this.scrollDirection = (point.clientY < this.lastMovedPoint.clientY) ? 'Up' : 'Down';\n            this.vScrollLocked = true;\n        }\n    };\n    Touch.prototype.getVelocity = function (pnt) {\n        var newX = pnt.clientX;\n        var newY = pnt.clientY;\n        var newT = Date.now();\n        var xDist = newX - this.startPoint.clientX;\n        var yDist = newY - this.startPoint.clientX;\n        var interval = newT - this.tStampStart;\n        return Math.sqrt(xDist * xDist + yDist * yDist) / interval;\n    };\n    // tslint:disable-next-line:no-any\n    Touch.prototype.checkSwipe = function (ele, flag) {\n        var keys = ['scroll', 'offset'];\n        var temp = flag ? ['Height', 'Top'] : ['Width', 'Left'];\n        if ((ele[keys[0] + temp[0]] <= ele[keys[1] + temp[0]])) {\n            return true;\n        }\n        return (ele[keys[0] + temp[1]] === 0) ||\n            (ele[keys[1] + temp[0]] + ele[keys[0] + temp[1]] >= ele[keys[0] + temp[0]]);\n    };\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tap\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tapHold\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"swipe\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"scroll\", void 0);\n    __decorate([\n        Property(350)\n    ], Touch.prototype, \"tapThreshold\", void 0);\n    __decorate([\n        Property(750)\n    ], Touch.prototype, \"tapHoldThreshold\", void 0);\n    __decorate([\n        Complex({}, SwipeSettings)\n    ], Touch.prototype, \"swipeSettings\", void 0);\n    Touch = __decorate([\n        NotifyPropertyChanges\n    ], Touch);\n    return Touch;\n}(Base));\nexport { Touch };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Internationalization } from '@syncfusion/ej2-base';\n// import { IValueFormatter } from '../base/interface';\n/**\n * ValueFormatter class to globalize the value.\n * @hidden\n */\nvar ValueFormatter = /** @class */ (function () {\n    function ValueFormatter(cultureName) {\n        this.intl = new Internationalization();\n        // if (!isNullOrUndefined(cultureName)) {\n        //     this.intl.culture = cultureName;\n        // }\n    }\n    ValueFormatter.prototype.getFormatFunction = function (format) {\n        if (format.type) {\n            return this.intl.getDateFormat(format);\n        }\n        else {\n            return this.intl.getNumberFormat(format);\n        }\n    };\n    // public getParserFunction(format: NumberFormatOptions | DateFormatOptions): Function {\n    //     if ((<DateFormatOptions>format).type) {\n    //         return this.intl.getDateParser(<DateFormatOptions>format);\n    //     } else {\n    //         return this.intl.getNumberParser(<DateFormatOptions>format);\n    //     }\n    // }\n    // public fromView(value: string, format: Function, type?: string): string | number | Date {\n    //     if (type === 'date' || type === 'datetime' || type === 'number') {\n    //         return format(value);\n    //     } else {\n    //         return value;\n    //     }\n    // }\n    ValueFormatter.prototype.toView = function (value, format) {\n        var result = value;\n        if (!isNullOrUndefined(format) && !isNullOrUndefined(value)) {\n            result = format(value);\n        }\n        return result;\n    };\n    // public setCulture(cultureName: string): void {\n    //     if (!isNullOrUndefined(cultureName)) {\n    //         setCulture(cultureName);\n    //     }\n    // }\n    /* tslint:disable:no-any */\n    ValueFormatter.prototype.displayText = function (value, format) {\n        return this.toView(value, this.getFormatFunction(format));\n    };\n    return ValueFormatter;\n}());\nexport { ValueFormatter };\n","import { ValueFormatter } from './value-formatter';\n/**\n * CsvHelper class\n */\nvar CsvHelper = /** @class */ (function () {\n    /* tslint:disable:no-any */\n    function CsvHelper(json) {\n        this.csvStr = '';\n        this.formatter = new ValueFormatter();\n        this.isMicrosoftBrowser = !(!navigator.msSaveBlob);\n        if (json.styles !== null && json.styles !== undefined) {\n            this.globalStyles = new Map();\n            for (var i = 0; i < json.styles.length; i++) {\n                if (json.styles[i].name !== undefined && json.styles[i].numberFormat !== undefined) {\n                    this.globalStyles.set(json.styles[i].name, json.styles[i].numberFormat);\n                }\n            }\n        }\n        // Parses Worksheets data to DOM.        \n        if (json.worksheets !== null && json.worksheets !== undefined) {\n            this.parseWorksheet(json.worksheets[0]);\n        }\n        //this.csvStr = 'a1,a2,a3\\nb1,b2,b3';\n    }\n    CsvHelper.prototype.parseWorksheet = function (json) {\n        //Rows\n        if (json.rows !== null && json.rows !== undefined) {\n            this.parseRows(json.rows);\n        }\n    };\n    /* tslint:disable:no-any */\n    CsvHelper.prototype.parseRows = function (rows) {\n        var count = 1;\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            //Row index\n            if (row.index !== null && row.index !== undefined) {\n                while (count < row.index) {\n                    this.csvStr += '\\n';\n                    count++;\n                }\n                this.parseRow(row);\n            }\n            else {\n                throw Error('Row index is missing.');\n            }\n        }\n    };\n    /* tslint:disable:no-any */\n    CsvHelper.prototype.parseRow = function (row) {\n        if (row.cells !== null && row.cells !== undefined) {\n            var count = 1;\n            for (var _i = 0, _a = row.cells; _i < _a.length; _i++) {\n                var cell = _a[_i];\n                //cell index\n                if (cell.index !== null && cell.index !== undefined) {\n                    while (count < cell.index) {\n                        this.csvStr += ',';\n                        count++;\n                    }\n                    this.parseCell(cell);\n                }\n                else {\n                    throw Error('Cell index is missing.');\n                }\n            }\n        }\n    };\n    /* tslint:disable:no-any */\n    CsvHelper.prototype.parseCell = function (cell) {\n        var csv = this.csvStr;\n        if (cell.value !== undefined) {\n            if (cell.value instanceof Date) {\n                if (cell.style !== undefined && cell.style.numberFormat !== undefined) {\n                    /* tslint:disable-next-line:max-line-length */\n                    csv += this.parseCellValue(this.formatter.displayText(cell.value, { type: 'dateTime', skeleton: cell.style.numberFormat }));\n                }\n                else if (cell.style !== undefined && cell.style.name !== undefined && this.globalStyles.has(cell.style.name)) {\n                    /* tslint:disable-next-line:max-line-length */\n                    csv += this.parseCellValue(this.formatter.displayText(cell.value, { type: 'dateTime', skeleton: this.globalStyles.get(cell.style.name) }));\n                }\n                else {\n                    csv += cell.value;\n                }\n            }\n            else if (typeof (cell.value) === 'boolean') {\n                csv += cell.value ? 'TRUE' : 'FALSE';\n            }\n            else if (typeof (cell.value) === 'number') {\n                if (cell.style !== undefined && cell.style.numberFormat !== undefined) {\n                    /* tslint:disable-next-line:max-line-length */\n                    csv += this.parseCellValue(this.formatter.displayText(cell.value, { format: cell.style.numberFormat }));\n                }\n                else if (cell.style !== undefined && cell.style.name !== undefined && this.globalStyles.has(cell.style.name)) {\n                    /* tslint:disable-next-line:max-line-length */\n                    csv += this.parseCellValue(this.formatter.displayText(cell.value, { format: this.globalStyles.get(cell.style.name) }));\n                }\n                else {\n                    csv += cell.value;\n                }\n            }\n            else {\n                csv += this.parseCellValue(cell.value);\n            }\n        }\n        this.csvStr = csv;\n    };\n    CsvHelper.prototype.parseCellValue = function (value) {\n        if (value.indexOf(',') !== -1) {\n            return value = '\\\"' + value + '\\\"';\n        }\n        else {\n            return value;\n        }\n    };\n    /**\n     * Saves the file with specified name and sends the file to client browser\n     * @param  {string} fileName- file name to save.\n     * @param  {Blob} buffer- the content to write in file\n     */\n    CsvHelper.prototype.save = function (fileName) {\n        this.buffer = new Blob([this.csvStr], { type: 'text/plain' });\n        if (this.isMicrosoftBrowser) {\n            navigator.msSaveBlob(this.buffer, fileName);\n        }\n        else {\n            var dataUrl_1 = window.URL.createObjectURL(this.buffer);\n            var dwlLink = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');\n            dwlLink.download = fileName;\n            dwlLink.href = dataUrl_1;\n            var event_1 = document.createEvent('MouseEvent');\n            event_1.initEvent('click', true, true);\n            dwlLink.dispatchEvent(event_1);\n            setTimeout(function () {\n                window.URL.revokeObjectURL(dataUrl_1);\n            });\n        }\n    };\n    CsvHelper.prototype.saveAsBlob = function () {\n        return new Blob([this.csvStr], { type: 'text/csv' });\n    };\n    return CsvHelper;\n}());\nexport { CsvHelper };\n","/**\n * BlobHelper class\n */\nvar BlobHelper = /** @class */ (function () {\n    function BlobHelper() {\n        /* tslint:disable:no-any */\n        this.parts = [];\n    }\n    /* tslint:disable:no-any */\n    BlobHelper.prototype.append = function (part) {\n        this.parts.push(part);\n        this.blob = undefined; // Invalidate the blob\n    };\n    BlobHelper.prototype.getBlob = function () {\n        return new Blob(this.parts, { type: 'text/plain' });\n    };\n    return BlobHelper;\n}());\nexport { BlobHelper };\n","import { Worksheets } from './worksheets';\nimport { Worksheet, FreezePane, MergeCell, MergeCells, HyperLink, Grouping } from './worksheet';\nimport { CellStyle, Font, Borders, CellXfs, Alignment, NumFmt, CellStyleXfs, CellStyles } from './cell-style';\nimport { Column } from './column';\nimport { Row, Rows } from './row';\nimport { Cell, Cells } from './cell';\nimport { ZipArchive, ZipArchiveItem } from '@syncfusion/ej2-compression';\nimport { CsvHelper } from './csv-helper';\nimport { Internationalization } from '@syncfusion/ej2-base';\nimport { BlobHelper } from './blob-helper';\n/**\n * Workbook class\n */\nvar Workbook = /** @class */ (function () {\n    /* tslint:disable:no-any */\n    function Workbook(json, saveType, culture) {\n        this.sharedStringCount = 0;\n        this.unitsProportions = [\n            96 / 75.0,\n            96 / 300.0,\n            96,\n            96 / 25.4,\n            96 / 2.54,\n            1,\n            96 / 72.0,\n            96 / 72.0 / 12700,\n        ];\n        /* tslint:disable:no-any */\n        this.hyperlinkStyle = { fontColor: '#0000FF', underline: true };\n        if (culture !== undefined) {\n            this.culture = culture;\n        }\n        else {\n            this.culture = 'en-US';\n        }\n        this.intl = new Internationalization(this.culture);\n        this.mSaveType = saveType;\n        if (saveType === 'xlsx') {\n            this.mArchive = new ZipArchive();\n            this.sharedString = [];\n            this.mFonts = [];\n            this.mBorders = [];\n            this.mStyles = [];\n            this.printTitles = new Map();\n            this.cellStyles = new Map();\n            this.mNumFmt = new Map();\n            this.mFills = new Map();\n            this.mStyles.push(new CellStyle());\n            this.mFonts.push(new Font());\n            /* tslint:disable */\n            this.cellStyles.set('Normal', new CellStyles());\n            /* tslint:enable */\n            this.mCellXfs = [];\n            this.mCellStyleXfs = [];\n            if (json.styles !== null && json.styles !== undefined) {\n                /* tslint:disable-next-line:no-any */\n                this.globalStyles = new Map();\n                for (var i = 0; i < json.styles.length; i++) {\n                    if (json.styles[i].name !== undefined) {\n                        if (!this.cellStyles.has(json.styles[i].name)) {\n                            var cellStyle = new CellStyle();\n                            cellStyle.isGlobalStyle = true;\n                            this.parserCellStyle(json.styles[i], cellStyle, 'none');\n                            var cellStyles = new CellStyles();\n                            cellStyles.name = cellStyle.name;\n                            cellStyles.xfId = cellStyle.index;\n                            this.cellStyles.set(cellStyles.name, cellStyles);\n                            /* tslint:disable-next-line:no-any */\n                            var tFormat = {};\n                            if (json.styles[i].numberFormat !== undefined) {\n                                tFormat.format = json.styles[i].numberFormat;\n                            }\n                            if (json.styles[i].type !== undefined) {\n                                tFormat.type = json.styles[i].type;\n                            }\n                            else {\n                                tFormat.type = 'datetime';\n                            }\n                            if (tFormat.format !== undefined) {\n                                this.globalStyles.set(json.styles[i].name, tFormat);\n                            }\n                        }\n                        else {\n                            throw Error('Style name ' + json.styles[i].name + ' is already existed');\n                        }\n                    }\n                }\n            }\n            // Parses Worksheets data to DOM.        \n            if (json.worksheets !== null && json.worksheets !== undefined) {\n                this.parserWorksheets(json.worksheets);\n            }\n            else {\n                throw Error('Worksheet is expected.');\n            }\n            // Parses the BuiltInProperties data to DOM.        \n            if (json.builtInProperties !== null && json.builtInProperties !== undefined) {\n                this.builtInProperties = new BuiltInProperties();\n                this.parserBuiltInProperties(json.builtInProperties, this.builtInProperties);\n            }\n        }\n        else {\n            this.csvHelper = new CsvHelper(json);\n        }\n    }\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserBuiltInProperties = function (jsonBuiltInProperties, builtInProperties) {\n        //Author\n        if (jsonBuiltInProperties.author !== null && jsonBuiltInProperties.author !== undefined) {\n            builtInProperties.author = jsonBuiltInProperties.author;\n        }\n        //Comments\n        if (jsonBuiltInProperties.comments !== null && jsonBuiltInProperties.comments !== undefined) {\n            builtInProperties.comments = jsonBuiltInProperties.comments;\n        }\n        //Category\n        if (jsonBuiltInProperties.category !== null && jsonBuiltInProperties.category !== undefined) {\n            builtInProperties.category = jsonBuiltInProperties.category;\n        }\n        //Company\n        if (jsonBuiltInProperties.company !== null && jsonBuiltInProperties.company !== undefined) {\n            builtInProperties.company = jsonBuiltInProperties.company;\n        }\n        //Manager\n        if (jsonBuiltInProperties.manager !== null && jsonBuiltInProperties.manager !== undefined) {\n            builtInProperties.manager = jsonBuiltInProperties.manager;\n        }\n        //Subject\n        if (jsonBuiltInProperties.subject !== null && jsonBuiltInProperties.subject !== undefined) {\n            builtInProperties.subject = jsonBuiltInProperties.subject;\n        }\n        //Title\n        if (jsonBuiltInProperties.title !== null && jsonBuiltInProperties.title !== undefined) {\n            builtInProperties.title = jsonBuiltInProperties.title;\n        }\n        //Creation date\n        if (jsonBuiltInProperties.createdDate !== null && jsonBuiltInProperties.createdDate !== undefined) {\n            builtInProperties.createdDate = jsonBuiltInProperties.createdDate;\n        }\n        //Modified date\n        if (jsonBuiltInProperties.modifiedDate !== null && jsonBuiltInProperties.modifiedDate !== undefined) {\n            builtInProperties.modifiedDate = jsonBuiltInProperties.modifiedDate;\n        }\n        //Tags\n        if (jsonBuiltInProperties.tags !== null && jsonBuiltInProperties.tags !== undefined) {\n            builtInProperties.tags = jsonBuiltInProperties.tags;\n        }\n        //Status\n        if (jsonBuiltInProperties.status !== null && jsonBuiltInProperties.status !== undefined) {\n            builtInProperties.status = jsonBuiltInProperties.status;\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserWorksheets = function (json) {\n        this.worksheets = new Worksheets();\n        var length = json.length;\n        for (var i = 0; i < length; i++) {\n            var jsonSheet = json[i];\n            var sheet = new Worksheet();\n            this.mergeCells = new MergeCells();\n            this.mHyperLinks = [];\n            //Name\n            if (jsonSheet.name !== null && jsonSheet.name !== undefined) {\n                sheet.name = jsonSheet.name;\n            }\n            else {\n                sheet.name = 'Sheet' + (i + 1).toString();\n            }\n            sheet.index = (i + 1);\n            //Columns\n            if (jsonSheet.columns !== null && jsonSheet.columns !== undefined) {\n                this.parserColumns(jsonSheet.columns, sheet);\n            }\n            //Rows\n            if (jsonSheet.rows !== null && jsonSheet.rows !== undefined) {\n                this.parserRows(jsonSheet.rows, sheet);\n            }\n            //FreezePanes\n            if (jsonSheet.freeze !== null && jsonSheet.freeze !== undefined) {\n                this.parserFreezePanes(jsonSheet.freeze, sheet);\n            }\n            //Print Title\n            if (jsonSheet.printTitle !== null && jsonSheet.printTitle !== undefined) {\n                this.parserPrintTitle(jsonSheet.printTitle, sheet);\n            }\n            if (jsonSheet.pageSetup !== undefined) {\n                if (jsonSheet.pageSetup.isSummaryRowBelow !== undefined) {\n                    sheet.isSummaryRowBelow = jsonSheet.pageSetup.isSummaryRowBelow;\n                }\n            }\n            sheet.index = (i + 1);\n            sheet.mergeCells = this.mergeCells;\n            sheet.hyperLinks = this.mHyperLinks;\n            this.worksheets.push(sheet);\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.mergeOptions = function (fromJson, toJson) {\n        /* tslint:disable:no-any */\n        var result = {};\n        this.applyProperties(fromJson, result);\n        this.applyProperties(toJson, result);\n        return result;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.applyProperties = function (sourceJson, destJson) {\n        var keys = Object.keys(sourceJson);\n        for (var index = 0; index < keys.length; index++) {\n            if (keys[index] !== 'name') {\n                destJson[keys[index]] = sourceJson[keys[index]];\n            }\n        }\n    };\n    Workbook.prototype.getCellName = function (row, column) {\n        return this.getColumnName(column) + row.toString();\n    };\n    Workbook.prototype.getColumnName = function (col) {\n        col--;\n        var strColumnName = '';\n        do {\n            var iCurrentDigit = col % 26;\n            col = col / 26 - 1;\n            strColumnName = String.fromCharCode(65 + iCurrentDigit) + strColumnName;\n        } while (col >= 0);\n        return strColumnName;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserPrintTitle = function (json, sheet) {\n        var printTitleName = '';\n        var titleRowName;\n        if (json.fromRow !== null && json.fromRow !== undefined) {\n            var fromRow = json.fromRow;\n            var toRow = void 0;\n            if (json.toRow !== null && json.toRow !== undefined) {\n                toRow = json.toRow;\n            }\n            else {\n                toRow = json.fromRow;\n            }\n            titleRowName = '$' + fromRow + ':$' + toRow;\n        }\n        var titleColName;\n        if (json.fromColumn !== null && json.fromColumn !== undefined) {\n            var fromColumn = json.fromColumn;\n            var toColumn = void 0;\n            if (json.toColumn !== null && json.toColumn !== undefined) {\n                toColumn = json.toColumn;\n            }\n            else {\n                toColumn = json.fromColumn;\n            }\n            titleColName = '$' + this.getColumnName(fromColumn) + ':$' + this.getColumnName(toColumn);\n        }\n        if (titleRowName !== undefined) {\n            printTitleName += (sheet.name + '!' + titleRowName);\n        }\n        if (titleColName !== undefined && titleRowName !== undefined) {\n            printTitleName += ',' + (sheet.name + '!' + titleColName);\n        }\n        else if (titleColName !== undefined) {\n            printTitleName += (sheet.name + '!' + titleColName);\n        }\n        if (printTitleName !== '') {\n            this.printTitles.set(sheet.index - 1, printTitleName);\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserFreezePanes = function (json, sheet) {\n        sheet.freezePanes = new FreezePane();\n        if (json.row !== null && json.row !== undefined) {\n            sheet.freezePanes.row = json.row;\n        }\n        else {\n            sheet.freezePanes.row = 0;\n        }\n        if (json.column !== null && json.column !== undefined) {\n            sheet.freezePanes.column = json.column;\n        }\n        else {\n            sheet.freezePanes.column = 0;\n        }\n        sheet.freezePanes.leftCell = this.getCellName(sheet.freezePanes.row + 1, sheet.freezePanes.column + 1);\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserColumns = function (json, sheet) {\n        var columnsLength = json.length;\n        sheet.columns = [];\n        for (var column = 0; column < columnsLength; column++) {\n            var col = new Column();\n            if (json[column].index !== null && json[column].index !== undefined) {\n                col.index = json[column].index;\n            }\n            else {\n                throw Error('Column index is missing.');\n            }\n            if (json[column].width !== null && json[column].width !== undefined) {\n                col.width = json[column].width;\n            }\n            sheet.columns.push(col);\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserRows = function (json, sheet) {\n        var rowsLength = json.length;\n        sheet.rows = new Rows();\n        var rowId = 0;\n        for (var r = 0; r < rowsLength; r++) {\n            var row = this.parserRow(json[r], rowId);\n            rowId = row.index;\n            sheet.rows.add(row);\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserRow = function (json, rowIndex) {\n        var row = new Row();\n        //Row Height\n        if (json.height !== null && json.height !== undefined) {\n            row.height = json.height;\n        }\n        //Row index\n        if (json.index !== null && json.index !== undefined) {\n            row.index = json.index;\n        }\n        else {\n            throw Error('Row index is missing.');\n        }\n        if (json.grouping !== null && json.grouping !== undefined) {\n            this.parseGrouping(json.grouping, row);\n        }\n        this.parseCells(json.cells, row);\n        return row;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parseGrouping = function (json, row) {\n        row.grouping = new Grouping();\n        if (json.outlineLevel !== undefined) {\n            row.grouping.outlineLevel = json.outlineLevel;\n        }\n        if (json.isCollapsed !== undefined) {\n            row.grouping.isCollapsed = json.isCollapsed;\n        }\n        if (json.isHidden !== undefined) {\n            row.grouping.isHidden = json.isHidden;\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parseCells = function (json, row) {\n        row.cells = new Cells();\n        var cellsLength = json !== undefined ? json.length : 0;\n        var spanMin = 1;\n        var spanMax = 1;\n        var curCellIndex = 0;\n        for (var cellId = 0; cellId < cellsLength; cellId++) {\n            /* tslint:disable:no-any */\n            var jsonCell = json[cellId];\n            var cell = new Cell();\n            //cell index\n            if (jsonCell.index !== null && jsonCell.index !== undefined) {\n                cell.index = jsonCell.index;\n            }\n            else {\n                throw Error('Cell index is missing.');\n            }\n            if (cell.index < spanMin) {\n                spanMin = cell.index;\n            }\n            else if (cell.index > spanMax) {\n                spanMax = cell.index;\n            }\n            //Update the Cell name\n            cell.refName = this.getCellName(row.index, cell.index);\n            //Row span\n            if (jsonCell.rowSpan !== null && jsonCell.rowSpan !== undefined) {\n                cell.rowSpan = jsonCell.rowSpan - 1;\n            }\n            else {\n                cell.rowSpan = 0;\n            }\n            //Column span\n            if (jsonCell.colSpan !== null && jsonCell.colSpan !== undefined) {\n                cell.colSpan = jsonCell.colSpan - 1;\n            }\n            else {\n                cell.colSpan = 0;\n            }\n            this.mergeCells = this.processMergeCells(cell, row.index, this.mergeCells);\n            //Hyperlink\n            if (jsonCell.hyperlink !== null && jsonCell.hyperlink !== undefined) {\n                var hyperLink = new HyperLink();\n                if (jsonCell.hyperlink.target !== undefined) {\n                    hyperLink.target = jsonCell.hyperlink.target;\n                    if (jsonCell.hyperlink.displayText !== undefined) {\n                        cell.value = jsonCell.hyperlink.displayText;\n                    }\n                    else {\n                        cell.value = jsonCell.hyperlink.target;\n                    }\n                    cell.type = this.getCellValueType(cell.value);\n                    hyperLink.ref = cell.refName;\n                    hyperLink.rId = (this.mHyperLinks.length + 1);\n                    this.mHyperLinks.push(hyperLink);\n                    cell.cellStyle = new CellStyle();\n                    /* tslint:disable-next-line:max-line-length */\n                    this.parserCellStyle((jsonCell.style !== undefined ? this.mergeOptions(jsonCell.style, this.hyperlinkStyle) : this.hyperlinkStyle), cell.cellStyle, 'string');\n                    cell.styleIndex = cell.cellStyle.index;\n                }\n            }\n            //Cell value\n            if (jsonCell.value !== null && jsonCell.value !== undefined) {\n                cell.value = jsonCell.value;\n                cell.type = this.getCellValueType(cell.value);\n            }\n            if (jsonCell.style !== null && jsonCell.style !== undefined && cell.styleIndex === undefined) {\n                cell.cellStyle = new CellStyle();\n                if (cell.value instanceof Date) {\n                    this.parserCellStyle(jsonCell.style, cell.cellStyle, cell.type, 14);\n                }\n                else {\n                    this.parserCellStyle(jsonCell.style, cell.cellStyle, cell.type);\n                }\n                cell.styleIndex = cell.cellStyle.index;\n            }\n            else if (cell.value instanceof Date) {\n                cell.cellStyle = new CellStyle();\n                this.parserCellStyle({}, cell.cellStyle, cell.type, 14);\n                cell.styleIndex = cell.cellStyle.index;\n            }\n            this.parseCellType(cell);\n            row.cells.add(cell);\n            curCellIndex = (cell.index + 1);\n        }\n        row.spans = (spanMin) + ':' + (spanMax);\n    };\n    Workbook.prototype.applyGlobalStyle = function (json, cellStyle) {\n        var index = 0;\n        if (this.cellStyles.has(json.name)) {\n            index = this.cellStyles.get(json.name).xfId;\n            var cellStyleXfs = this.mCellStyleXfs[index - 1];\n            cellStyle.name = json.name;\n            var compareResult = this.compareStyleXfs(cellStyleXfs);\n            if (!compareResult.result) {\n                var cellXfs = new CellXfs();\n                cellXfs.alignment = cellStyleXfs.alignment;\n                cellXfs.applyAlignment = cellStyleXfs.applyAlignment;\n                cellXfs.borderId = cellStyleXfs.borderId;\n                cellXfs.fillId = cellStyleXfs.fillId;\n                cellXfs.fontId = cellStyleXfs.fontId;\n                cellXfs.numFmtId = cellStyleXfs.numFmtId;\n                cellXfs.xfId = index;\n                this.mCellXfs.push(cellXfs);\n                this.mStyles.push(cellStyle);\n                cellStyle.index = this.mCellXfs.length;\n            }\n            else {\n                cellStyle.index = compareResult.index;\n            }\n        }\n    };\n    Workbook.prototype.compareStyleXfs = function (toCompareStyle) {\n        var result = false;\n        var index = 1;\n        for (var _i = 0, _a = this.mCellXfs; _i < _a.length; _i++) {\n            var baseStyle = _a[_i];\n            result = baseStyle.alignment === toCompareStyle.alignment &&\n                baseStyle.borderId === toCompareStyle.borderId &&\n                baseStyle.numFmtId === toCompareStyle.numFmtId &&\n                baseStyle.fillId === toCompareStyle.fillId &&\n                baseStyle.fontId === toCompareStyle.fontId;\n            if (result) {\n                break;\n            }\n            else {\n                index++;\n            }\n        }\n        return { index: index, result: result };\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserCellStyle = function (json, cellStyle, cellType, defStyleIndex) {\n        //name\n        if (json.name !== null && json.name !== undefined) {\n            if (cellStyle.isGlobalStyle) {\n                cellStyle.name = json.name;\n            }\n            else {\n                this.applyGlobalStyle(json, cellStyle);\n                return;\n            }\n        }\n        //background color\n        if (json.backColor !== null && json.backColor !== undefined) {\n            cellStyle.backColor = json.backColor;\n        }\n        //borders\n        //leftBorder\n        cellStyle.borders = new Borders();\n        //AllBorder\n        if (json.borders !== null && json.borders !== undefined) {\n            this.parserBorder(json.borders, cellStyle.borders.all);\n        }\n        //leftborder\n        if (json.leftBorder !== null && json.leftBorder !== undefined) {\n            this.parserBorder(json.leftBorder, cellStyle.borders.left);\n        }\n        //rightBorder\n        if (json.rightBorder !== null && json.rightBorder !== undefined) {\n            this.parserBorder(json.rightBorder, cellStyle.borders.right);\n        }\n        //topBorder\n        if (json.topBorder !== null && json.topBorder !== undefined) {\n            this.parserBorder(json.topBorder, cellStyle.borders.top);\n        }\n        //bottomBorder\n        if (json.bottomBorder !== null && json.bottomBorder !== undefined) {\n            this.parserBorder(json.bottomBorder, cellStyle.borders.bottom);\n        }\n        //fontName\n        if (json.fontName !== null && json.fontName !== undefined) {\n            cellStyle.fontName = json.fontName;\n        }\n        //fontSize\n        if (json.fontSize !== null && json.fontSize !== undefined) {\n            cellStyle.fontSize = json.fontSize;\n        }\n        //fontColor\n        if (json.fontColor !== null && json.fontColor !== undefined) {\n            cellStyle.fontColor = json.fontColor;\n        }\n        //italic\n        if (json.italic !== null && json.italic !== undefined) {\n            cellStyle.italic = json.italic;\n        }\n        //bold\n        if (json.bold !== null && json.bold !== undefined) {\n            cellStyle.bold = json.bold;\n        }\n        //hAlign\n        if (json.hAlign !== null && json.hAlign !== undefined) {\n            cellStyle.hAlign = json.hAlign;\n        }\n        //vAlign\n        if (json.vAlign !== null && json.vAlign !== undefined) {\n            cellStyle.vAlign = json.vAlign;\n        }\n        //underline\n        if (json.underline !== null && json.underline !== undefined) {\n            cellStyle.underline = json.underline;\n        }\n        //wrapText\n        if (json.wrapText !== null && json.wrapText !== undefined) {\n            cellStyle.wrapText = json.wrapText;\n        }\n        //numberFormat\n        if (json.numberFormat !== null && json.numberFormat !== undefined) {\n            if (json.type !== null && json.type !== undefined) {\n                cellStyle.numberFormat = this.getNumberFormat(json.numberFormat, json.type);\n            }\n            else {\n                cellStyle.numberFormat = this.getNumberFormat(json.numberFormat, cellType);\n            }\n        }\n        else if (defStyleIndex !== undefined) {\n            cellStyle.numFmtId = 14;\n            cellStyle.numberFormat = 'GENERAL';\n        }\n        else {\n            cellStyle.numberFormat = 'GENERAL';\n        }\n        cellStyle.index = this.processCellStyle(cellStyle);\n    };\n    Workbook.prototype.switchNumberFormat = function (numberFormat, type) {\n        var format = this.getNumberFormat(numberFormat, type);\n        if (format !== numberFormat) {\n            var numFmt = this.mNumFmt.get(numberFormat);\n            if (numFmt !== undefined) {\n                numFmt.formatCode = format;\n                if (this.mNumFmt.has(format)) {\n                    for (var _i = 0, _a = this.mCellStyleXfs; _i < _a.length; _i++) {\n                        var cellStyleXfs = _a[_i];\n                        if (cellStyleXfs.numFmtId === numFmt.numFmtId) {\n                            cellStyleXfs.numFmtId = this.mNumFmt.get(format).numFmtId;\n                        }\n                    }\n                    for (var _b = 0, _c = this.mCellXfs; _b < _c.length; _b++) {\n                        var cellXfs = _c[_b];\n                        if (cellXfs.numFmtId === numFmt.numFmtId) {\n                            cellXfs.numFmtId = this.mNumFmt.get(format).numFmtId;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Workbook.prototype.getNumberFormat = function (numberFormat, type) {\n        var returnFormat;\n        switch (type) {\n            case 'number':\n                try {\n                    returnFormat = this.intl.getNumberPattern({ format: numberFormat });\n                }\n                catch (error) {\n                    returnFormat = numberFormat;\n                }\n                break;\n            case 'datetime':\n                try {\n                    returnFormat = this.intl.getDatePattern({ skeleton: numberFormat, type: 'dateTime' }, true);\n                }\n                catch (error) {\n                    returnFormat = numberFormat;\n                }\n                break;\n            case 'date':\n                try {\n                    returnFormat = this.intl.getDatePattern({ skeleton: numberFormat, type: 'date' }, true);\n                }\n                catch (error) {\n                    returnFormat = numberFormat;\n                }\n                break;\n            case 'time':\n                try {\n                    returnFormat = this.intl.getDatePattern({ skeleton: numberFormat, type: 'time' }, true);\n                }\n                catch (error) {\n                    returnFormat = numberFormat;\n                }\n                break;\n            default:\n                returnFormat = numberFormat;\n                break;\n        }\n        return returnFormat;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserBorder = function (json, border) {\n        if (json.color !== null && json.color !== undefined) {\n            border.color = json.color;\n        }\n        else {\n            border.color = '#000000';\n        }\n        if (json.lineStyle !== null && json.lineStyle !== undefined) {\n            border.lineStyle = json.lineStyle;\n        }\n        else {\n            border.lineStyle = 'thin';\n        }\n    };\n    Workbook.prototype.processCellStyle = function (style) {\n        var compareResult = this.compareStyle(style);\n        if (!compareResult.result) {\n            this.mStyles.push(style);\n            var cellXfs = undefined;\n            if (style.isGlobalStyle) {\n                cellXfs = new CellStyleXfs();\n            }\n            else {\n                cellXfs = new CellXfs();\n            }\n            //Add font\n            var compareFontResult = this.isNewFont(style);\n            if (!compareFontResult.result) {\n                var font = new Font();\n                font.b = style.bold;\n                font.i = style.italic;\n                font.name = style.fontName;\n                font.sz = style.fontSize;\n                font.u = style.underline;\n                font.color = ('FF' + style.fontColor.replace('#', ''));\n                this.mFonts.push(font);\n                cellXfs.fontId = this.mFonts.length - 1;\n            }\n            else {\n                cellXfs.fontId = compareFontResult.index;\n            }\n            //Add fill\n            if (style.backColor !== 'none') {\n                var backColor = 'FF' + style.backColor.replace('#', '');\n                if (this.mFills.has(backColor)) {\n                    var fillId = this.mFills.get(backColor);\n                    cellXfs.fillId = fillId;\n                }\n                else {\n                    var fillId = this.mFills.size + 2;\n                    this.mFills.set(backColor, fillId);\n                    cellXfs.fillId = (fillId);\n                }\n            }\n            else {\n                cellXfs.fillId = 0;\n            }\n            //Add border            \n            if (!this.isNewBorder(style)) {\n                this.mBorders.push(style.borders);\n                cellXfs.borderId = this.mBorders.length;\n            }\n            else {\n                cellXfs.borderId = 0;\n            }\n            cellXfs.xfId = 0;\n            //Add Number Format            \n            if (style.numberFormat !== 'GENERAL') {\n                if (this.mNumFmt.has(style.numberFormat)) {\n                    var numFmt = this.mNumFmt.get(style.numberFormat);\n                    cellXfs.numFmtId = numFmt.numFmtId;\n                }\n                else {\n                    var id = this.mNumFmt.size + 164;\n                    this.mNumFmt.set(style.numberFormat, new NumFmt(id, style.numberFormat));\n                    cellXfs.numFmtId = id;\n                }\n            }\n            else {\n                if (style.numberFormat === 'GENERAL' && style.numFmtId === 14) {\n                    cellXfs.numFmtId = 14;\n                }\n                else {\n                    cellXfs.numFmtId = 0;\n                }\n            }\n            //Add alignment\n            if (style.hAlign !== 'left' || style.vAlign !== 'bottom' || style.wrapText) {\n                cellXfs.applyAlignment = 1;\n                cellXfs.alignment = new Alignment();\n                cellXfs.alignment.horizontal = style.hAlign;\n                cellXfs.alignment.vertical = style.vAlign;\n                cellXfs.alignment.wrapText = style.wrapText ? 1 : 0;\n            }\n            if (style.isGlobalStyle) {\n                this.mCellStyleXfs.push(cellXfs);\n                return (this.mCellStyleXfs.length);\n            }\n            else {\n                //Add cellxfs\n                this.mCellXfs.push(cellXfs);\n                return (this.mCellXfs.length);\n            }\n        }\n        else {\n            //Return the index of the already existing style.\n            return compareResult.index;\n        }\n    };\n    Workbook.prototype.isNewFont = function (toCompareStyle) {\n        var result = false;\n        var index = 0;\n        for (var _i = 0, _a = this.mFonts; _i < _a.length; _i++) {\n            var font = _a[_i];\n            index++;\n            var fontColor = undefined;\n            if (toCompareStyle.fontColor !== undefined) {\n                fontColor = ('FF' + toCompareStyle.fontColor.replace('#', ''));\n            }\n            result = font.color === fontColor &&\n                font.b === toCompareStyle.bold &&\n                font.i === toCompareStyle.italic &&\n                font.u === toCompareStyle.underline &&\n                font.name === toCompareStyle.fontName &&\n                font.sz === toCompareStyle.fontSize;\n            if (result) {\n                break;\n            }\n        }\n        index = index - 1;\n        return { index: index, result: result };\n    };\n    Workbook.prototype.isNewBorder = function (toCompareStyle) {\n        var bStyle = new CellStyle;\n        if (this.isAllBorder(toCompareStyle.borders)) {\n            return (bStyle.borders.all.color === toCompareStyle.borders.all.color &&\n                bStyle.borders.all.lineStyle === toCompareStyle.borders.all.lineStyle);\n        }\n        else {\n            return (bStyle.borders.left.color === toCompareStyle.borders.left.color &&\n                bStyle.borders.left.lineStyle === toCompareStyle.borders.left.lineStyle &&\n                bStyle.borders.right.color === toCompareStyle.borders.right.color &&\n                bStyle.borders.right.lineStyle === toCompareStyle.borders.right.lineStyle &&\n                bStyle.borders.top.color === toCompareStyle.borders.top.color &&\n                bStyle.borders.top.lineStyle === toCompareStyle.borders.top.lineStyle &&\n                bStyle.borders.bottom.color === toCompareStyle.borders.bottom.color &&\n                bStyle.borders.bottom.lineStyle === toCompareStyle.borders.bottom.lineStyle);\n        }\n    };\n    Workbook.prototype.isAllBorder = function (toCompareBorder) {\n        var allBorderStyle = new CellStyle;\n        return allBorderStyle.borders.all.color !== toCompareBorder.all.color &&\n            allBorderStyle.borders.all.lineStyle !== toCompareBorder.all.lineStyle;\n    };\n    Workbook.prototype.compareStyle = function (toCompareStyle) {\n        var result = true;\n        var index = 0;\n        var globalStyleIndex = 0;\n        for (var _i = 0, _a = this.mStyles; _i < _a.length; _i++) {\n            var baseStyle = _a[_i];\n            result = baseStyle.backColor === toCompareStyle.backColor &&\n                baseStyle.bold === toCompareStyle.bold &&\n                baseStyle.numFmtId === toCompareStyle.numFmtId &&\n                baseStyle.numberFormat === toCompareStyle.numberFormat &&\n                baseStyle.type === toCompareStyle.type &&\n                baseStyle.fontColor === toCompareStyle.fontColor &&\n                baseStyle.fontName === toCompareStyle.fontName &&\n                baseStyle.fontSize === toCompareStyle.fontSize &&\n                baseStyle.hAlign === toCompareStyle.hAlign &&\n                baseStyle.italic === toCompareStyle.italic &&\n                baseStyle.underline === toCompareStyle.underline &&\n                baseStyle.vAlign === toCompareStyle.vAlign &&\n                baseStyle.wrapText === toCompareStyle.wrapText &&\n                (baseStyle.borders.all.color === toCompareStyle.borders.all.color &&\n                    baseStyle.borders.all.lineStyle === toCompareStyle.borders.all.lineStyle) &&\n                (baseStyle.borders.left.color === toCompareStyle.borders.left.color &&\n                    baseStyle.borders.left.lineStyle === toCompareStyle.borders.left.lineStyle &&\n                    baseStyle.borders.right.color === toCompareStyle.borders.right.color &&\n                    baseStyle.borders.right.lineStyle === toCompareStyle.borders.right.lineStyle &&\n                    baseStyle.borders.top.color === toCompareStyle.borders.top.color &&\n                    baseStyle.borders.top.lineStyle === toCompareStyle.borders.top.lineStyle &&\n                    baseStyle.borders.bottom.color === toCompareStyle.borders.bottom.color &&\n                    baseStyle.borders.bottom.lineStyle === toCompareStyle.borders.bottom.lineStyle);\n            if (result) {\n                break;\n            }\n            else if (!baseStyle.isGlobalStyle) {\n                index++;\n            }\n            else {\n                globalStyleIndex++;\n            }\n        }\n        if (toCompareStyle.isGlobalStyle) {\n            index = globalStyleIndex + 1;\n        }\n        return { index: index, result: result };\n    };\n    Workbook.prototype.contains = function (array, item) {\n        var index = array.indexOf(item);\n        return index > -1 && index < array.length;\n    };\n    Workbook.prototype.getCellValueType = function (value) {\n        if (value instanceof Date) {\n            return 'datetime';\n        }\n        else if (typeof (value) === 'boolean') {\n            return 'boolean';\n        }\n        else if (typeof (value) === 'number') {\n            return 'number';\n        }\n        else {\n            return 'string';\n        }\n    };\n    Workbook.prototype.parseCellType = function (cell) {\n        var type = cell.type;\n        var saveType;\n        var value = cell.value;\n        switch (type) {\n            case 'datetime':\n                value = this.toOADate(value);\n                if (cell.cellStyle !== undefined && cell.cellStyle.name !== undefined) {\n                    if (this.globalStyles.has(cell.cellStyle.name)) {\n                        var value_1 = this.globalStyles.get(cell.cellStyle.name);\n                        this.switchNumberFormat(value_1.format, value_1.type);\n                    }\n                }\n                saveType = 'n';\n                break;\n            //TODO: Update the number format index and style\n            case 'boolean':\n                value = value ? 1 : 0;\n                saveType = 'b';\n                break;\n            case 'number':\n                saveType = 'n';\n                if (cell.cellStyle !== undefined && cell.cellStyle.name !== undefined) {\n                    if (this.globalStyles.has(cell.cellStyle.name)) {\n                        this.switchNumberFormat(this.globalStyles.get(cell.cellStyle.name).format, 'number');\n                    }\n                }\n                break;\n            case 'string':\n                this.sharedStringCount++;\n                saveType = 's';\n                if (!this.contains(this.sharedString, value)) {\n                    this.sharedString.push(value);\n                }\n                value = this.sharedString.indexOf(value);\n                break;\n            default:\n                break;\n        }\n        cell.saveType = saveType;\n        cell.value = value;\n    };\n    Workbook.prototype.saveAsBlob = function (blobSaveType) {\n        var _this = this;\n        switch (blobSaveType) {\n            case 'text/csv':\n                return new Promise(function (resolve, reject) {\n                    var obj = {};\n                    obj.blobData = _this.csvHelper.saveAsBlob();\n                    resolve(obj);\n                });\n            default:\n                return new Promise(function (resolve, reject) {\n                    _this.saveInternal();\n                    _this.mArchive.saveAsBlob().then(function (blob) {\n                        var obj = {};\n                        obj.blobData = new Blob([blob], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n                        resolve(obj);\n                    });\n                });\n        }\n    };\n    Workbook.prototype.save = function (fileName, proxyUrl) {\n        var _this = this;\n        if (fileName === null || fileName === undefined || fileName === '') {\n            throw new Error('Argument Null Exception: fileName cannot be null or empty');\n        }\n        var xlsxMatch = fileName.match('.xlsx$');\n        var csvMatch = fileName.match('.csv$');\n        if (xlsxMatch !== null && xlsxMatch[0] === ('.' + this.mSaveType)) {\n            this.saveInternal();\n            this.mArchive.save(fileName).then(function () {\n                _this.mArchive.destroy();\n            });\n        }\n        else if (csvMatch !== null && csvMatch[0] === ('.' + this.mSaveType)) {\n            this.csvHelper.save(fileName);\n        }\n        else {\n            throw Error('Save type and file extension is different.');\n        }\n    };\n    Workbook.prototype.saveInternal = function () {\n        this.saveWorkbook();\n        this.saveWorksheets();\n        this.saveSharedString();\n        this.saveStyles();\n        this.saveApp(this.builtInProperties);\n        this.saveCore(this.builtInProperties);\n        this.saveContentType();\n        this.saveTopLevelRelation();\n        this.saveWorkbookRelation();\n    };\n    Workbook.prototype.saveWorkbook = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var workbookTemp = '<?xml version=\"1.0\" encoding=\"utf-8\"?><workbook xmlns:r = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns= \"http://schemas.openxmlformats.org/spreadsheetml/2006/main\"><workbookPr codeName=\"ThisWorkbook\" defaultThemeVersion= \"153222\"/><bookViews><workbookView activeTab=\"0\"/></bookViews>';\n        var sheets = '<sheets>';\n        var length = this.worksheets.length;\n        for (var i = 0; i < length; i++) {\n            /* tslint:disable-next-line:max-line-length */\n            sheets += '<sheet name=\"' + this.worksheets[i].name + '\" sheetId=\"' + (i + 1).toString() + '\" r:id =\"rId' + (i + 1).toString() + '\" />';\n        }\n        sheets += '</sheets>';\n        workbookTemp += sheets;\n        if (this.printTitles.size > 0) {\n            var printTitle_1 = '<definedNames>';\n            this.printTitles.forEach(function (value, key) {\n                printTitle_1 += '<definedName name=\"_xlnm.Print_Titles\" localSheetId=\"' + key + '\">' + value + '</definedName>';\n            });\n            printTitle_1 += '</definedNames>';\n            workbookTemp += printTitle_1;\n        }\n        this.addToArchive(workbookTemp + '</workbook>', 'xl/workbook.xml');\n    };\n    Workbook.prototype.saveWorksheets = function () {\n        var length = this.worksheets.length;\n        for (var i = 0; i < length; i++) {\n            this.saveWorksheet(this.worksheets[i], i);\n        }\n    };\n    Workbook.prototype.saveWorksheet = function (sheet, index) {\n        var sheetBlob = new BlobHelper();\n        /* tslint:disable-next-line:max-line-length */\n        var sheetString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><worksheet xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:x14=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\">';\n        if (!sheet.isSummaryRowBelow) {\n            sheetString += ('<sheetPr>' + '<outlinePr ' + 'summaryBelow=\"0\" >' + '</outlinePr>' + '</sheetPr>');\n        }\n        else {\n            sheetString += ('<sheetPr />');\n        }\n        if (sheet.freezePanes !== undefined) {\n            sheetString += (this.saveFreezePanes(sheet));\n        }\n        if (sheet.columns !== undefined) {\n            var colString = '<cols>';\n            for (var _i = 0, _a = sheet.columns; _i < _a.length; _i++) {\n                var column = _a[_i];\n                /* tslint:disable-next-line:max-line-length */\n                if (column.width !== undefined) {\n                    colString += '<col min=\"' + (column.index) + '\" max=\"' + (column.index) + '\" width=\"' + this.pixelsToColumnWidth(column.width) + '\" customWidth=\"1\" />';\n                }\n                else {\n                    colString += '<col min=\"' + (column.index) + '\" max=\"' + (column.index) + '\" width=\"' + '8.43' + '\" customWidth=\"1\" />';\n                }\n            }\n            sheetString += (colString + '</cols>');\n        }\n        sheetString += ('<sheetData>');\n        sheetBlob.append(sheetString);\n        sheetString = '';\n        if (sheet.rows !== undefined) {\n            for (var _b = 0, _c = sheet.rows; _b < _c.length; _b++) {\n                var row = _c[_b];\n                var rowString = ('<row r=\"' + (row.index) + '\" spans=\"' + row.spans + '\" ');\n                if (row.height !== undefined) {\n                    rowString += ('ht=\"' + this.pixelsToRowHeight(row.height) + '\" customHeight=\"1\" ');\n                }\n                if (row.grouping !== undefined) {\n                    if (row.grouping.isHidden) {\n                        rowString += ('hidden=\"1\" ');\n                    }\n                    if (row.grouping.outlineLevel !== undefined) {\n                        rowString += ('outlineLevel=\"' + row.grouping.outlineLevel + '\" ');\n                    }\n                    if (row.grouping.isCollapsed) {\n                        rowString += ('collapsed=\"1\" ');\n                    }\n                }\n                rowString += ('>');\n                for (var _d = 0, _e = row.cells; _d < _e.length; _d++) {\n                    var cell = _e[_d];\n                    if (cell !== undefined && (cell.value !== undefined || cell.cellStyle !== undefined)) {\n                        rowString += ('<c r=\"' + cell.refName + '\" ');\n                        if (cell.saveType !== undefined) {\n                            rowString += ('t=\"' + cell.saveType + '\" ');\n                        }\n                        if (cell.styleIndex !== undefined) {\n                            rowString += ('s=\"' + cell.styleIndex + '\" ');\n                        }\n                        rowString += (' >');\n                        if (cell.value !== undefined) {\n                            rowString += ('<v>' + cell.value + '</v></c>');\n                        }\n                        else {\n                            rowString += ('</c>');\n                        }\n                    }\n                }\n                rowString += ('</row>');\n                sheetBlob.append(rowString);\n            }\n        }\n        sheetString += ('</sheetData>');\n        if (sheet.mergeCells.length > 0) {\n            sheetString += ('<mergeCells count=\"' + sheet.mergeCells.length + '\">');\n            for (var _f = 0, _g = sheet.mergeCells; _f < _g.length; _f++) {\n                var mCell = _g[_f];\n                sheetString += ('<mergeCell ref=\"' + mCell.ref + '\" />');\n            }\n            sheetString += ('</mergeCells>');\n        }\n        if (sheet.hyperLinks.length > 0) {\n            sheetString += ('<hyperlinks>');\n            for (var _h = 0, _j = sheet.hyperLinks; _h < _j.length; _h++) {\n                var hLink = _j[_h];\n                sheetString += ('<hyperlink ref=\"' + hLink.ref + '\" r:id=\"rId' + hLink.rId + '\" />');\n            }\n            sheetString += ('</hyperlinks>');\n            this.addToArchive(this.saveSheetRelations(sheet), ('xl/worksheets/_rels/sheet' + sheet.index + '.xml.rels'));\n        }\n        /* tslint:disable-next-line:max-line-length */\n        sheetString += ('<pageMargins left=\"0.75\" right=\"0.75\" top=\"1\" bottom=\"1\" header=\"0.5\" footer=\"0.5\" /><headerFooter scaleWithDoc=\"1\" alignWithMargins=\"0\" differentFirst=\"0\" differentOddEven=\"0\" /></worksheet>');\n        sheetBlob.append(sheetString);\n        this.addToArchive(sheetBlob.getBlob(), 'xl/worksheets' + '/sheet' + (index + 1) + '.xml');\n    };\n    Workbook.prototype.pixelsToColumnWidth = function (pixels) {\n        var dDigitWidth = 7;\n        var val = (pixels > dDigitWidth + 5) ?\n            this.trunc((pixels - 5) / dDigitWidth * 100 + 0.5) / 100 :\n            pixels / (dDigitWidth + 5);\n        return (val > 1) ?\n            ((val * dDigitWidth + 5) / dDigitWidth * 256.0) / 256.0 :\n            (val * (dDigitWidth + 5) / dDigitWidth * 256.0) / 256.0;\n    };\n    Workbook.prototype.trunc = function (x) {\n        var n = x - x % 1;\n        return n === 0 && (x < 0 || (x === 0 && (1 / x !== 1 / 0))) ? -0 : n;\n    };\n    Workbook.prototype.pixelsToRowHeight = function (pixels) {\n        return (pixels * this.unitsProportions[5] / this.unitsProportions[6]);\n    };\n    Workbook.prototype.saveSheetRelations = function (sheet) {\n        /* tslint:disable-next-line:max-line-length */\n        var relStr = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">';\n        for (var _i = 0, _a = sheet.hyperLinks; _i < _a.length; _i++) {\n            var hLink = _a[_i];\n            /* tslint:disable-next-line:max-line-length */\n            relStr += '<Relationship Id=\"rId' + hLink.rId + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\" Target=\"' + hLink.target + '\" TargetMode=\"External\" />';\n        }\n        relStr += '</Relationships>';\n        return relStr;\n    };\n    Workbook.prototype.saveFreezePanes = function (sheet) {\n        var paneString = '<sheetViews><sheetView workbookViewId=\"0\" ><pane state=\"frozen\"' +\n            ' topLeftCell=\"' + sheet.freezePanes.leftCell + '\" ';\n        if (sheet.freezePanes.row !== 0) {\n            paneString += 'ySplit=\"' + sheet.freezePanes.row + '\" ';\n        }\n        if (sheet.freezePanes.column !== 0) {\n            paneString += 'xSplit=\"' + sheet.freezePanes.column + '\" ';\n        }\n        paneString += '/></sheetView></sheetViews>';\n        return paneString;\n    };\n    Workbook.prototype.saveSharedString = function () {\n        var length = this.sharedString.length;\n        if (length > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            var sstStart = '<?xml version=\"1.0\" encoding=\"utf-8\"?><sst uniqueCount=\"' + length + '\" count=\"' + this.sharedStringCount + '\" xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\">';\n            var si = '';\n            for (var i = 0; i < length; i++) {\n                si += '<si><t>';\n                si += this.processString(this.sharedString[i]);\n                si += '</t></si>';\n            }\n            si += '</sst>';\n            this.addToArchive(sstStart + si, 'xl/sharedStrings.xml');\n        }\n    };\n    Workbook.prototype.processString = function (value) {\n        if (value.indexOf('&') !== -1) {\n            value = value.replace(/&/g, '&amp;');\n        }\n        if (value.indexOf('<') !== -1) {\n            value = value.replace(/</g, '&lt;');\n        }\n        if (value.indexOf('>') !== -1) {\n            value = value.replace(/>/g, '&gt;');\n        }\n        return value;\n    };\n    Workbook.prototype.saveStyles = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var styleTemp = '<?xml version=\"1.0\" encoding=\"utf-8\"?><styleSheet xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" mc:Ignorable=\"x14ac\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\" xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\">';\n        styleTemp += this.saveNumberFormats();\n        styleTemp += this.saveFonts();\n        styleTemp += this.saveFills();\n        styleTemp += this.saveBorders();\n        styleTemp += this.saveCellStyleXfs();\n        styleTemp += this.saveCellXfs();\n        styleTemp += this.saveCellStyles();\n        this.addToArchive(styleTemp + '</styleSheet>', 'xl/styles.xml');\n    };\n    Workbook.prototype.saveNumberFormats = function () {\n        if (this.mNumFmt.size >= 1) {\n            var numFmtStyle_1 = '<numFmts count=\"' + (this.mNumFmt.size) + '\">';\n            this.mNumFmt.forEach(function (value, key) {\n                numFmtStyle_1 += '<numFmt numFmtId=\"' + value.numFmtId + '\" formatCode=\"' + value.formatCode.replace(/\"/g, '&quot;') + '\" />';\n            });\n            return (numFmtStyle_1 += '</numFmts>');\n        }\n        else {\n            return '';\n        }\n    };\n    Workbook.prototype.saveFonts = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var fontStyle = '<fonts count=\"' + (this.mFonts.length) + '\">';\n        if (this.mFonts.length >= 1) {\n            for (var _i = 0, _a = this.mFonts; _i < _a.length; _i++) {\n                var font = _a[_i];\n                fontStyle += '<font>';\n                if (font.b) {\n                    fontStyle += '<b />';\n                }\n                if (font.i) {\n                    fontStyle += '<i />';\n                }\n                if (font.u) {\n                    fontStyle += '<u />';\n                }\n                fontStyle += '<sz val=\"' + this.pixelsToRowHeight(font.sz) + '\" />';\n                fontStyle += '<color rgb=\"' + font.color + '\" />';\n                fontStyle += '<name val=\"' + font.name + '\" /></font>';\n            }\n        }\n        return fontStyle + '</fonts>';\n    };\n    Workbook.prototype.saveFills = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var fillsStyle = '<fills count=\"' + (this.mFills.size + 2) + '\"><fill><patternFill patternType=\"none\"></patternFill></fill><fill><patternFill patternType=\"gray125\"></patternFill></fill>';\n        if (this.mFills.size >= 1) {\n            this.mFills.forEach(function (value, key) {\n                /* tslint:disable-next-line:max-line-length */\n                fillsStyle += '<fill><patternFill patternType=\"solid\"><fgColor rgb=\"' + key + '\" /><bgColor rgb=\"FFFFFFFF\" /></patternFill></fill>';\n            });\n        }\n        return fillsStyle + '</fills>';\n    };\n    Workbook.prototype.saveBorders = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var bordersStyle = '<borders count=\"' + (this.mBorders.length + 1) + '\"><border><left /><right /><top /><bottom /><diagonal /></border>';\n        if (this.mBorders.length >= 1) {\n            for (var _i = 0, _a = this.mBorders; _i < _a.length; _i++) {\n                var borders = _a[_i];\n                if (this.isAllBorder(borders)) {\n                    var color = borders.all.color.replace('#', '');\n                    var lineStyle = borders.all.lineStyle;\n                    /* tslint:disable-next-line:max-line-length */\n                    bordersStyle += '<border><left style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></left><right style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></right><top style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></top><bottom style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></bottom></border>';\n                }\n                else {\n                    /* tslint:disable-next-line:max-line-length */\n                    bordersStyle += '<border><left style=\"' + borders.left.lineStyle + '\"><color rgb=\"FF' + borders.left.color.replace('#', '') + '\" /></left><right style=\"' + borders.right.lineStyle + '\"><color rgb=\"FF' + borders.right.color.replace('#', '') + '\" /></right><top style=\"' + borders.top.lineStyle + '\"><color rgb=\"FF' + borders.top.color.replace('#', '') + '\" /></top><bottom style=\"' + borders.bottom.lineStyle + '\"><color rgb=\"FF' + borders.bottom.color.replace('#', '') + '\" /></bottom></border>';\n                }\n            }\n        }\n        return bordersStyle + '</borders>';\n    };\n    Workbook.prototype.saveCellStyles = function () {\n        var _this = this;\n        var cellStyleString = '<cellStyles  count=\"' + (this.cellStyles.size) + '\">';\n        this.cellStyles.forEach(function (value, key) {\n            cellStyleString += '<cellStyle name=\"' + key + '\" xfId=\"' + _this.cellStyles.get(key).xfId + '\"';\n            if (key === 'Normal') {\n                cellStyleString += ' builtinId=\"0\"';\n            }\n            cellStyleString += ' />';\n        });\n        return cellStyleString += '</cellStyles>';\n    };\n    Workbook.prototype.saveCellStyleXfs = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var cellXfsStyle = '<cellStyleXfs count=\"' + (this.mCellStyleXfs.length + 1) + '\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" />';\n        if (this.mCellStyleXfs.length >= 1) {\n            for (var _i = 0, _a = this.mCellStyleXfs; _i < _a.length; _i++) {\n                var cellStyleXf = _a[_i];\n                /* tslint:disable-next-line:max-line-length */\n                cellXfsStyle += '<xf numFmtId=\"' + cellStyleXf.numFmtId + '\" fontId=\"' + cellStyleXf.fontId + '\" fillId=\"' + cellStyleXf.fillId + '\" borderId=\"' + cellStyleXf.borderId + '\" ';\n                if (cellStyleXf.applyAlignment === 1) {\n                    cellXfsStyle += 'applyAlignment=\"1\"><alignment ';\n                    if (cellStyleXf.alignment.horizontal !== undefined) {\n                        cellXfsStyle += 'horizontal=\"' + cellStyleXf.alignment.horizontal + '\" ';\n                    }\n                    if (cellStyleXf.alignment.vertical !== undefined) {\n                        cellXfsStyle += 'vertical=\"' + cellStyleXf.alignment.vertical + '\" ';\n                    }\n                    cellXfsStyle += 'wrapText=\"' + cellStyleXf.alignment.wrapText + '\" /></xf>';\n                }\n                else {\n                    cellXfsStyle += ' />';\n                }\n                // <xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" xfId=\"0\" applyAlignment=\"1\">\n                //       <alignment horizontal=\"center\" vertical=\"top\" wrapText=\"1\" />\n                //     </xf>\n            }\n        }\n        return cellXfsStyle + '</cellStyleXfs>';\n    };\n    Workbook.prototype.saveCellXfs = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var cellXfsStyle = '<cellXfs count=\"' + (this.mCellXfs.length + 1) + '\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" xfId=\"0\" />';\n        if (this.mCellXfs.length >= 1) {\n            for (var _i = 0, _a = this.mCellXfs; _i < _a.length; _i++) {\n                var cellXf = _a[_i];\n                /* tslint:disable-next-line:max-line-length */\n                cellXfsStyle += '<xf numFmtId=\"' + cellXf.numFmtId + '\" fontId=\"' + cellXf.fontId + '\" fillId=\"' + cellXf.fillId + '\" borderId=\"' + cellXf.borderId + '\" xfId=\"' + cellXf.xfId + '\" ';\n                if (cellXf.applyAlignment === 1) {\n                    cellXfsStyle += 'applyAlignment=\"1\"><alignment ';\n                    if (cellXf.alignment.horizontal !== undefined) {\n                        cellXfsStyle += 'horizontal=\"' + cellXf.alignment.horizontal + '\" ';\n                    }\n                    if (cellXf.alignment.vertical !== undefined) {\n                        cellXfsStyle += 'vertical=\"' + cellXf.alignment.vertical + '\" ';\n                    }\n                    cellXfsStyle += 'wrapText=\"' + cellXf.alignment.wrapText + '\" /></xf>';\n                }\n                else {\n                    cellXfsStyle += ' />';\n                }\n                // <xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" xfId=\"0\" applyAlignment=\"1\">\n                //       <alignment horizontal=\"center\" vertical=\"top\" wrapText=\"1\" />\n                //     </xf>\n            }\n        }\n        return cellXfsStyle + '</cellXfs>';\n    };\n    Workbook.prototype.saveApp = function (builtInProperties) {\n        /* tslint:disable-next-line:max-line-length */\n        var appString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Properties xmlns=\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\"><Application>Essential XlsIO</Application>';\n        if (builtInProperties !== undefined) {\n            if (builtInProperties.manager !== undefined) {\n                appString += '<Manager>' + builtInProperties.manager + '</Manager>';\n            }\n            if (builtInProperties.company !== undefined) {\n                appString += '<Company>' + builtInProperties.company + '</Company>';\n            }\n        }\n        this.addToArchive((appString + '</Properties>'), 'docProps/app.xml');\n    };\n    Workbook.prototype.saveCore = function (builtInProperties) {\n        var createdDate = new Date();\n        /* tslint:disable-next-line:max-line-length */\n        var coreString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><cp:coreProperties xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:dcterms=\"http://purl.org/dc/terms/\" xmlns:dcmitype=\"http://purl.org/dc/dcmitype/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:cp=\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\">';\n        if (this.builtInProperties !== undefined) {\n            if (builtInProperties.author !== undefined) {\n                coreString += '<dc:creator>' + builtInProperties.author + '</dc:creator>';\n            }\n            if (builtInProperties.subject !== undefined) {\n                coreString += '<dc:subject>' + builtInProperties.subject + '</dc:subject>';\n            }\n            if (builtInProperties.category !== undefined) {\n                coreString += '<cp:category>' + builtInProperties.category + '</cp:category>';\n            }\n            if (builtInProperties.comments !== undefined) {\n                coreString += '<dc:description>' + builtInProperties.comments + '</dc:description>';\n            }\n            if (builtInProperties.title !== undefined) {\n                coreString += '<dc:title>' + builtInProperties.title + '</dc:title>';\n            }\n            if (builtInProperties.tags !== undefined) {\n                coreString += '<cp:keywords>' + builtInProperties.tags + '</cp:keywords>';\n            }\n            if (builtInProperties.status !== undefined) {\n                coreString += '<cp:contentStatus>' + builtInProperties.status + '</cp:contentStatus>';\n            }\n            if (builtInProperties.createdDate !== undefined) {\n                /* tslint:disable-next-line:max-line-length */\n                coreString += '<dcterms:created xsi:type=\"dcterms:W3CDTF\">' + builtInProperties.createdDate.toISOString() + '</dcterms:created>';\n            }\n            else {\n                coreString += '<dcterms:created xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:created>';\n            }\n            if (builtInProperties.modifiedDate !== undefined) {\n                /* tslint:disable-next-line:max-line-length */\n                coreString += '<dcterms:modified xsi:type=\"dcterms:W3CDTF\">' + builtInProperties.modifiedDate.toISOString() + '</dcterms:modified>';\n            }\n            else {\n                coreString += '<dcterms:modified xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:modified>';\n            }\n        }\n        else {\n            coreString += '<dcterms:created xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:created>';\n            coreString += '<dcterms:modified xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:modified>';\n        }\n        /* tslint:disable-next-line:max-line-length */\n        coreString += '</cp:coreProperties>';\n        this.addToArchive(coreString, 'docProps/core.xml');\n    };\n    Workbook.prototype.saveTopLevelRelation = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var topRelation = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\"><Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\" Target=\"xl/workbook.xml\" /><Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\" Target=\"docProps/app.xml\" /><Relationship Id=\"rId3\" Type=\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\" Target=\"docProps/core.xml\" /></Relationships>';\n        this.addToArchive(topRelation, '_rels/.rels');\n    };\n    Workbook.prototype.saveWorkbookRelation = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var wbRelation = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">';\n        var length = this.worksheets.length;\n        var count = 0;\n        for (var i = 0; i < length; i++, count++) {\n            /* tslint:disable-next-line:max-line-length */\n            wbRelation += '<Relationship Id=\"rId' + (i + 1).toString() + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\" Target=\"worksheets/sheet' + (i + 1).toString() + '.xml\" />';\n        }\n        /* tslint:disable-next-line:max-line-length */\n        wbRelation += '<Relationship Id=\"rId' + (++count).toString() + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\" Target=\"styles.xml\" />';\n        if (this.sharedStringCount > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            wbRelation += '<Relationship Id=\"rId' + (++count).toString() + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\" Target=\"sharedStrings.xml\" />';\n        }\n        this.addToArchive((wbRelation + '</Relationships>'), 'xl/_rels/workbook.xml.rels');\n    };\n    Workbook.prototype.saveContentType = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var contentTypeString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Types xmlns=\"http://schemas.openxmlformats.org/package/2006/content-types\"><Default Extension=\"xml\" ContentType=\"application/xml\" /><Default Extension=\"rels\" ContentType=\"application/vnd.openxmlformats-package.relationships+xml\" /><Override PartName=\"/xl/styles.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\" /><Override PartName=\"/xl/workbook.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\" /><Override PartName=\"/docProps/app.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.extended-properties+xml\" /><Override PartName=\"/docProps/core.xml\" ContentType=\"application/vnd.openxmlformats-package.core-properties+xml\" />';\n        var sheetsOverride = '';\n        var length = this.worksheets.length;\n        for (var i = 0; i < length; i++) {\n            /* tslint:disable-next-line:max-line-length */\n            sheetsOverride += '<Override PartName=\"/xl/worksheets/sheet' + (i + 1).toString() + '.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\" />';\n        }\n        if (this.sharedStringCount > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            contentTypeString += '<Override PartName=\"/xl/sharedStrings.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\" />';\n        }\n        this.addToArchive((contentTypeString + sheetsOverride + '</Types>'), '[Content_Types].xml');\n    };\n    Workbook.prototype.addToArchive = function (xmlString, itemName) {\n        if (typeof (xmlString) === 'string') {\n            var blob = new Blob([xmlString], { type: 'text/plain' });\n            var archiveItem = new ZipArchiveItem(blob, itemName);\n            this.mArchive.addItem(archiveItem);\n        }\n        else {\n            var archiveItem = new ZipArchiveItem(xmlString, itemName);\n            this.mArchive.addItem(archiveItem);\n        }\n    };\n    Workbook.prototype.processMergeCells = function (cell, rowIndex, mergeCells) {\n        if (cell.rowSpan !== 0 || cell.colSpan !== 0) {\n            var mCell = new MergeCell();\n            mCell.x = cell.index;\n            mCell.width = cell.colSpan;\n            mCell.y = rowIndex;\n            mCell.height = cell.rowSpan;\n            var startCell = this.getCellName(mCell.y, mCell.x);\n            var endCell = this.getCellName(rowIndex + mCell.height, cell.index + mCell.width);\n            mCell.ref = startCell + ':' + endCell;\n            mergeCells.add(mCell);\n        }\n        return mergeCells;\n    };\n    /**\n     * Returns the tick count corresponding to the given year, month, and day.\n     * @param year number value of year\n     * @param month number value of month\n     * @param day number value of day\n     */\n    Workbook.prototype.dateToTicks = function (year, month, day) {\n        var ticksPerDay = 10000 * 1000 * 60 * 60 * 24;\n        var daysToMonth365 = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365];\n        var daysToMonth366 = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366];\n        if (year >= 1 && year <= 9999 && month >= 1 && month <= 12) {\n            var days = this.isLeapYear(year) ? daysToMonth366 : daysToMonth365;\n            var y = year - 1;\n            var n = y * 365 + ((y / 4) | 0) - ((y / 100) | 0) + ((y / 400) | 0) + days[month - 1] + day - 1;\n            return n * ticksPerDay;\n        }\n        throw new Error('Not a valid date');\n    };\n    /**\n     * Return the tick count corresponding to the given hour, minute, second.\n     * @param hour number value of hour\n     * @param minute number value if minute\n     * @param second number value of second\n     */\n    Workbook.prototype.timeToTicks = function (hour, minute, second) {\n        if (hour >= 0 && hour < 24 && minute >= 0 && minute < 60 && second >= 0 && second < 60) {\n            var totalSeconds = hour * 3600 + minute * 60 + second;\n            return totalSeconds * 10000 * 1000;\n        }\n        throw new Error('Not valid time');\n    };\n    /**\n     * Checks if given year is a leap year.\n     * @param year Year value.\n     */\n    Workbook.prototype.isLeapYear = function (year) {\n        return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n    };\n    /**\n     * Converts `DateTime` to the equivalent OLE Automation date.\n     */\n    Workbook.prototype.toOADate = function (date) {\n        var ticks = 0;\n        /* tslint:disable-next-line:max-line-length */\n        ticks = this.dateToTicks(date.getFullYear(), (date.getMonth() + 1), date.getDate()) + this.timeToTicks(date.getHours(), date.getMinutes(), date.getSeconds());\n        if (ticks === 0) {\n            return 0.0;\n        }\n        var ticksPerDay = 10000 * 1000 * 60 * 60 * 24;\n        var daysTo1899 = (((365 * 4 + 1) * 25 - 1) * 4 + 1) * 4 + ((365 * 4 + 1) * 25 - 1) * 3 - 367;\n        var doubleDateOffset = daysTo1899 * ticksPerDay;\n        var oaDateMinAsTicks = (((365 * 4 + 1) * 25 - 1) - 365) * ticksPerDay;\n        if (ticks < oaDateMinAsTicks) {\n            throw new Error('Arg_OleAutDateInvalid');\n        }\n        var millisPerDay = 1000 * 60 * 60 * 24;\n        return ((ticks - doubleDateOffset) / 10000) / millisPerDay;\n    };\n    return Workbook;\n}());\nexport { Workbook };\nvar BuiltInProperties = /** @class */ (function () {\n    function BuiltInProperties() {\n    }\n    return BuiltInProperties;\n}());\nexport { BuiltInProperties };\n"],"names":["validateNullOrUndefined","value","message","undefined","Error","createInstance","classFunction","params","arrayParam","unshift","Function","prototype","bind","apply","setImmediate","handler","unbind","num","Uint16Array","window","msCrypto","crypto","getRandomValues","secret","combineArray","messageHandler","event","source","data","length","addEventListener","postMessage","removeEventListener","getValue","nameSpace","obj","splits","split","i","isUndefined","setValue","key","keys","start","fromObj","isNullOrUndefined","deleteObject","isObject","objCon","constructor","getEnumValue","enumObject","enumValue","merge","destination","temrObj","tempProp","_i","keys_1","Object","extend","copied","first","second","deep","result","arguments","arguments_1","obj1","forEach","clone","src","copy","getUniqueID","definedName","uid","debounce","eventFunction","delay","out","_this","this","args","later","clearTimeout","setTimeout","queryParams","array","keys_2","push","encodeURIComponent","join","isObjectArray","parser","toString","call","compareElementParent","child","parent","node","document","parentNode","throwError","e","stack","print","element","printWindow","div","createElement","links","slice","getElementsByTagName","querySelectorAll","reference","open","appendChild","cloneNode","len","outerHTML","write","innerHTML","close","focus","interval","setInterval","ready","clearInterval","formatUnit","indexOf","getInstance","component","elem","querySelector","instances","_a","inst","addInstance","instance","uniqueID","ret","tagName","properties","className","id","styles","setAttribute","attrs","attributes","addClass","elements","classes","classList","getClassList","ele","_b","classList_1","contains","add","removeClass","classList_2","remove","isVisible","style","visibility","offsetWidth","prepend","fromElements","toElement","docFrag","createDocumentFragment","insertBefore","firstElementChild","append","detach","removeChild","EventHandler","clearEvents","select","selector","context","selectAll","closest","el","nodeType","matches","siblings","childNodes_1","Array","childNodes","curNode","Node","ELEMENT_NODE","getAttributeOrDefault","property","attrVal","getAttribute","setStyleAttribute","addClasses","removeClasses","msMatchesSelector","webkitMatchesSelector","getObject","curKey","defaultValue","type","hasOwnProperty","getObjectArray","isSetter","isFactory","curType","setProperties","propertyGetter","propertySetter","newValue","oldVal","saveChanges","complexGetter","complexSetter","complexFactoryGetter","complexFactorySetter","complexArrayGetter","defCollection","complexArraySetter","oldValueCollection","newValCollection","complexArrayFactorySetter","complexArrayFactoryGetter","Property","target","propertyDescriptor","set","get","enumerable","configurable","defineProperty","addPropertyCollection","Complex","ComplexFactory","Collection","CollectionFactory","Event","eventDescriptor","oldValue","finalContext","getParentContext","prefix","NotifyPropertyChanges","classConstructor","propertyType","propList","props","complexProps","colProps","events","propNames","complexPropNames","colPropNames","eventNames","propertyName","getBuilderProperties","builderObject","propCollections","isPropertyArray","rex","_c","prop","test","childType","tempValue","CreateBuilder","builderFunction","create","temp","curText","rippleEffect","rippleOptions","done","rippleModel","getRippleModel","rippleFlag","isRippleEnabled","rippleHandler","rippleUpHandler","rippleLeaveHandler","Browser","isPointer","removeAttribute","ignore","isCenterRipple","duration","offset","getBoundingClientRect","offsetX","pageX","body","scrollLeft","offsetY","pageY","scrollTop","Math","max","abs","left","right","top","bottom","radius","sqrt","diameter","x","y","rippleElement","getComputedStyle","getPropertyValue","transform","removeRipple","eventArgs","rippleElements","opacity","getElementsByClassName","enableRipple","isRipple","setCulture","cultureName","defaultCulture","onIntlChange","notify","locale","setCurrencyCode","currencyCode","defaultCurrencyCode","loadCldr","data_1","cldrData","enableRtl","status","rightToLeft","getNumericObject","numObject","IntlBase","getDependables","mapper","dateObject","numSystem","symbPattern","pattern","getSymbolPattern","getFormatData","dateSeparator","getDateSeparator","getDefaultDateObject","compile","template","helper","fnCode","evalExp","str","localKeys","replace","LINES","DBL_QUOTED_STR","exp","match","cnt","matchStr","CALL_FUNCTION","rlStr","IF_STMT","WORD","trim","addNameSpace","QUOTES","FOR_STMT","rlStr_1","mtc","fnStr","fNameSpace","ELSE_STMT","IF_OR_FOR","addNS","ignoreList","NOT_NUMBER","templateString","compiler","engineObj","propName","HAS_ROW","setTemplateEngine","classObj","getTemplateEngine","CellStyle","numFmtId","backColor","fontName","fontSize","fontColor","italic","bold","underline","wrapText","hAlign","vAlign","numberFormat","borders","Borders","isGlobalStyle","Font","sz","name","u","b","color","CellXfs","Alignment","CellStyleXfs","CellStyles","xfId","NumFmt","code","formatCode","Border","mLine","mColor","lineStyle","all","__extends","extendStatics","setPrototypeOf","__proto__","d","p","__","Cell","Cells","_super","cell","inserted","count","index","Column","Row","Rows","row","Worksheets","Worksheet","isSummaryRowBelow","HyperLink","Grouping","FreezePane","MergeCell","MergeCells","mergeCell","mCell","isIntersecting","intersectingCell","min","Y","width","Width","X","height","Height","ref","base","compare","Encoding","includeBom","emitBOM","encodingType","initBOM","getByteCount","chars","utf8Len","charCodeAt","getByteCountInternal","codePoint","isHighSurrogate","codeUnit","toCodepoint","highCodeUnit","lowCodeUnit","charIndex","charCount","byteCount","isUtf8","charCode","high","low","getBytes","s","RangeError","ArrayBuffer","getBytesOfUtf8Encoding","getBytesOfUnicodeEncoding","getBytesOfAnsiEncoding","getString","bytes","byteLength","byteCal","Uint8Array","getStringOfUtf8Encoding","byteUnicode","getStringofUnicodeEncoding","j","c","String","fromCharCode","bufview","k","charcode","uint","uint16","byteUni","byte16","destroy","Save","save","fileName","buffer","extension","substring","lastIndexOf","mimeType","getMimeType","Blob","isMicrosoftBrowser","navigator","msSaveBlob","downloadLink","createElementNS","saveInternal","hasDownloadAttribute","download","dataUrl_1","URL","createObjectURL","href","event_1","createEvent","initEvent","dispatchEvent","revokeObjectURL","url","location","reader_1","FileReader","onloadend","readAsDataURL","arrLiteralCodes","Int16Array","arrLiteralLengths","arrDistanceCodes","arrDistanceLengths","CompressedStreamWriter","noWrap","pendingBuffer","pendingBufLength","pendingBufCache","pendingBufBitsInCache","bufferPosition","extraBits","currentHash","matchStart","matchLength","matchPrevAvail","blockStart","stringStart","lookAhead","totalBytesIn","inputOffset","inputEnd","windowSize","windowMask","hashSize","hashMask","hashShift","floor","maxDist","checkSum","treeLiteral","CompressorHuffmanTree","treeDistances","treeCodeLengths","arrDistances","arrLiterals","stream","dataWindow","hashHead","hashPrevious","writeZLibHeader","compressedString","end","encode","inputBuffer","ChecksumCalculator","checksumUpdate","pendingBufferFlush","compressData","headerDate","pendingBufferWriteShortBytes","finish","success","fillWindow","canFlush","compressSlow","flush","lookAheadCompleted","slideWindow","prevMatch","prevLen","discardMatch","matchPreviousBest","matchPreviousAvailable","huffmanIsFull","insertString","findLongestMatch","huffmanTallyLit","huffmanTallyDist","huffmanFlushBlock","lastBlock","more","subarray","updateHash","m","hash","curMatch","chainLen","niceLen","scan","bestEnd","bestLength","limit","stringEnd","scanEnd1","scanEnd","literal","codeFrequencies","dist","lc","huffmanLengthCode","dc","huffmanDistanceCode","stored","storedOffset","storedLength","buildTree","calculateBLFreq","blTreeCodes","codeLengths","huffCodeLengthOrders","opt_len","getEncodedLength","static_len","huffmanFlushStoredBlock","pendingBufferWriteBits","setStaticCodes","huffmanCompressBlock","huffmanReset","huffmanSendAllTrees","pendingBufferAlignToByte","pendingBufferWriteShort","pendingBufferWriteByteBlock","distance","buildCodes","treeLength","rank","writeTree","reset","literalLen","writeCodeToStream","bits","Uint32Array","pendingBufferFlushBits","isClose","writer","elementCount","minCodes","maxLength","codeMinCount","codeFrequency","lengthCount","Int32Array","codeCount","codeLength","codes","lengths","lengthTemp","nextCode","bitsCount","bitReverse","reverseBits","blTree","maxCount","minCount","curLen","nextLen","maxRepeatCount","minRepeatCount","currentRepeatCount","currentCodeLength","codesCount","arrTree","n","freq","pos","pPos","nodesCount","values","iIndex","constructHuffmanTree","buildLength","last","lastVal","path","minDepth","numNodes","numLeafs","overflow","calculateOptimalCodeLength","iIncreasableLength","recreateTree","nodePtr","childPtr","childIndex","bitLength","checksum","checksum_uint","s1","s2","checkSumBitOffset","steps","checksumIterationCount","checksumBase","crc32Table","ZipArchive","files","level","addItem","item","file","ZipArchiveItem","addDirectory","directoryName","getItem","zipArchive","Promise","resolve","reject","then","saveAsBlob","blob","skipFileSave","zipData","dirLength","getCompressedData","constructZippedObject","isDirectory","writeZippedContent","onload","input","crc32Value","compressedData","compressedSize","uncompressedDataSize","compressionType","length_1","calculateCrc32Value","readAsArrayBuffer","compressor","currentIndex","nextIndex","subArray","zipParts","extFileAttr","date","Date","header","writeHeader","localHeader","centralDir","writeCentralDirectory","zipHeader","getModifiedTime","getModifiedDate","localDirLen","cenDirLen","getArrayBuffer","shift","writeFooter","externalFileAttribute","centralLength","localLength","a","modTime","getHours","getMinutes","getSeconds","modiDate","getFullYear","getMonth","getDate","itemName","headerRegex","defaultType","Ajax","options","async","mode","toUpperCase","send","httpRequest","XMLHttpRequest","onreadystatechange","stateChange","setRequestHeader","contentType","beforeSend","successHandler","onSuccess","failureHandler","reason","onFailure","responseText","dataType","toLowerCase","JSON","parse","error","readyState","statusText","getResponseHeader","responseHeaders","headers","exec","getAllResponseHeaders","addOrGetEventData","__eventList","eventName","listener","bindTo","intDebounce","debounceListener","eventData","some","splice","copyData","trigger","eventProp","eventData_1","Observer","ranArray","boundedEvents","on","cntxt","notExist","isHandlerPresent","off","curObject","indexLocation","argument","curObject_1","cur","boundedEvents_1","Base","isProtectedOnChange","changedProperties","oldProperties","refreshing","finalUpdate","childChangedProperties","modelObserver","isDestroyed","muteOnChange","prevDetection","dataBind","callChildDataBind","obj_1","clearChanges","getOwnPropertyNames","newChanges","oldChanges","onPropertyChanged","moduleClass","getModuleName","ej2_instances","filter","REGX_BROWSER","OPERA","EDGE","CHROME","PANTHOMEJS","SAFARI","WEBKIT","MSIE","MOZILLA","browserDetails","extractBrowserDetail","browserInfo","culture","clientInfo","userAgent","version","language","getEvent","isTouch","isDevice","move","getTouchStartEvent","getTouchEndEvent","getTouchMoveEvent","regX","uA","info","isMSPointer","isWebView","cordova","PhoneGap","phonegap","forge","touchStartEvent","touchMoveEvent","touchEndEvent","__decorate","decorators","desc","r","getOwnPropertyDescriptor","Reflect","decorate","Animation","easing","ease","linear","easeIn","easeOut","easeInOut","elasticInOut","elasticIn","elasticOut","Animation_1","animate","model","getModel","elements_1","element_1","delayAnimation","stop","animation","animationId","frameId","parseInt","cancelAnimationFrame","applyAnimation","timeStamp","step","timerId","startTime","prevTimeStamp","startAnimation","begin","avg","timingFunction","progress","requestAnimationFrame","performance","now","fail","newProp","oldProp","CanvasRenderer","rootID","rootId","getOptionValue","createCanvas","canvasObj","ctx","getContext","setCanvasSize","getElementById","size","setAttributes","lineWidth","dashArray","dashArrayString","setLineDash","strokeStyle","drawLine","beginPath","stroke","moveTo","x1","y1","lineTo","x2","y2","restore","dataUrl","toDataURL","drawRectangle","canvasCtx","cornerRadius","rx","globalAlpha","rect","drawCornerRadius","fill","fillStyle","fillRect","arcTo","closePath","drawPath","canvasTranslate","dataSplit","borderWidth","flag","translate","parseFloat","innerR","cx","c1","c2","c3","c4","bezierCurveTo","arc","counterClockWise","cy","PI","drawText","label","fontWeight","fontFamily","font","anchor","textAlign","baseline","textBaseline","rotate","labelRotation","fillText","drawCircle","drawPolyline","points","point","drawEllipse","circumference","ry","scaleX","scaleY","scale","drawImage","imageObj","Image","createLinearGradient","colors","myGradient","colorStop","setGradientValues","createRadialGradient","colorName","newColorStop","stopColor","addColorStop","setElementAttributes","map","updateCanvasAttributes","img_1","ModuleLoader","loadedModules","inject","requiredModules","moduleList","reqLength","clean","clearUnusedModule","modl","moduleList_1","module","modName","member","isModuleLoaded","moduleObject","memberName","getMemberName","isProperty","loadedModule","modules","usedModules","arg","removableModule_1","mod","ChildProperty","isArray","parentObj","controlParent","isParentArray","updateChange","val","updateTimeOut","curIndex","defaultNumberingSystem","latn","_digits","_type","defaultNumberSymbols","decimal","group","percentSign","plusSign","minusSign","infinity","nan","exponential","latnNumberSystem","ParserBase","getMainObject","cName","getNumberingSystem","numberingSystems","reverseObject","res","propKeys_1","getSymbolRegex","regexStr","RegExp","getSymbolMatch","matchKeys_1","constructRegex","convertValueParts","regex","getDefaultNumberingSystem","nSystem","getCurrentNumericOptions","curObj","numberSystem","needSymbols","digits","numericPair","numberParseRegex","numericRegex","symbolNumberSystem","symbolMatch","getNumberMapper","isNumber","numberSymbols","timeSeparator","latnNumberSystem_1","nPair","nRegex","errorText","ms","ls","mf","lf","NumberFormat","numberFormatter","option","cldr","symbolPattern","fOptions","cOptions","dOptions","dependable","numberMapper","parserObject","currencySymbol","getCurrencySymbol","numericObject","currency","percentSymbol","minusSymbol","symbols","formatRegex","format","customFormat","getProperNumericSkeleton","isCurrency","isPercent","isAccount","groupOne","checkValueRange","maximumSignificantDigits","minimumSignificantDigits","maximumFractionDigits","minimumFractionDigits","fractionDigits","useGrouping","defaultCurrency","nData","pData","groupSeparator","groupData","getGroupingDetails","minimumFraction","mval","maximumFraction","mfrac","lfrac","isNaN","isFinite","intNumberFormatter","negativeDataRegex","pattern_1","primary","secondary","val1","val2","checkbothExist","isFraction","decide","dint","str1","str2","checkRange","text","range","curData","zeroData","fValue","processSignificantDigits","processFraction","minimumIntegerDigits","processMinimumIntegers","toExponential","groupNumbers","latnParseRegex","nlead","nend","toPrecision","level1","sep","decimalSymbol","level2","toFixed","lead","getResultantPattern","skeleton","resPattern","iType","basicPatterns","dPattern","tPattern","defaultObject","patternMatcher","needFraction","cSymbol","fractionOnly","customRegex","changeCurrencySymbol","groupPattern","fraction","fmatch","fractionRegex","sym","formatSplit","customNumberFormat","integerPart","fractionPart","isCurrencyPercent","parts","actual","symbol","part","loc","typeMapper","substr","dateObj","getActualDateTimeFormat","isExcelFormat","actualPattern","patternRegex","patternMatch","tLength","timeZonePattern","options_1","timeZone","numMapper","timezone","getTimezoneOffset","hourFormat","gmtZeroFormat","DateFormat","getTimeZoneValue","gmtFormat","getActualNumberFormat","minFrac","parseOptions","custom","fractionDigitsPattern","minimumIntegerPattern","groupingPattern","minDigits","maxDigits","diff","integer","no","G","M","L","H","'"," a","yy","EEEE","E","$","%","-","0","1","dateParseRegex","dates","calendars","gregorian","months","stand-alone","abbreviated","2","3","4","5","6","7","8","9","10","11","12","narrow","wide","days","sun","mon","tue","wed","thu","fri","sat","short","dayPeriods","am","pm","eras","eraNames","0-alt-variant","1-alt-variant","eraAbbr","eraNarrow","dateFormats","full","long","medium","timeFormats","dateTimeFormats","availableFormats","Ed","Ehm","EHm","Ehms","EHms","Gy","GyMMM","GyMMMd","GyMMMEd","h","hm","Hm","hms","Hms","hmsv","Hmsv","hmv","Hmv","Md","MEd","MMM","MMMd","MMMEd","MMMMd","yM","yMd","yMEd","yMMM","yMMMd","yMMMEd","yMMMM","timeZoneNames","numbers","currencies","USD","displayName","symbol-alt-narrow","EUR","GBP","minimumGroupingDigits","symbols-numberSystem-latn","list","superscriptingExponent","perMille","decimalFormats-numberSystem-latn","standard","percentFormats-numberSystem-latn","currencyFormats-numberSystem-latn","accounting","scientificFormats-numberSystem-latn","monthIndex","month","C","P","N","A","lastPageID","weekdayKey","timeSetter","datePartMatcher","z","Z","dateFormat","formatOptions","dateSeperator","patternMatch_1","char","weekday","designator","eText","era","intDateFormatter","matches_1","curval","processNumber","curstr","getDay","desig","dec","checkTwodigitNumber","tVal","curPattern","ishour","latnRegex","minute","hour","day","DateParser","dateParser","hourOnly","numOptions","regexString","evalposition","gmtCorrection","zCorrectTemp","isgmtTraversed","nRegx","canUpdate","charKey","optional","weekObject","hour12","tzone","hpattern","parseTimeZoneRegx","parserRegex","parsedDateParts","internalDateParse","getDateObject","setMilliseconds","tKeys","year","setFullYear","tKeys_1","tValue","pDate","setDate","lDate","lastDay","setHours","tzValue","setMinutes","retOptions","props_1","matchString","internalNumberParser","tmatch","getZoneValue","tZone","splitStr","cRegex","NumberParser","numberParser","symbolRegex","symbolpattern","getParsedNumber","isNegative","Infinity","NaN","exponent","Internationalization","getDateFormat","getCulture","getNumberFormat","getDateParser","getNumberParser","formatNumber","formatDate","parseDate","parseNumber","getDatePattern","getNumberPattern","componentCount","lastHistoryLen","Component","randomId","needsID","moduleLoader","localObserver","detectFunction","appendTo","enablePersistence","setPersistData","cancel","refresh","preRender","injectModules","render","mergePersistData","event_2","getInjectedModules","injectedModules","Inject","localStorage","setItem","getPersistData","clearTemplate","templateName","isHistoryChanged","pageID","history","addOnPersist","persistObj","objValue","getActualProperties","stringify","ignoreOnPersist","iterateJsonProperties","newObj","this_1","newList","defaultPosition","Position","Draggable","dragLimit","Draggable_1","getDefaultPosition","padding","diffX","diffY","droppables","toggleEvents","isIE","scope","isUnWire","handle","initialize","evt","currentTarget","preventDefault","changedTouches","abort","intCoord","getCoordinates","initialPosition","relativeXPosition","relativeYPosition","intDragStart","intDestroy","documentElement","intCordinate","styleProp","margin","marginLeft","marginTop","marginRight","marginBottom","dragTarget","intClosest","calculateParentPosition","position","getMousePosition","getHelperElement","dragTargetElement","helperElement","parentClientRect","offsetParent","dragStart","curTarget","getProperTargetElement","dragArea","setDragArea","enableTailMode","posValue","getProcessedPositionValue","intDrag","intDragStop","setGlobalDroppables","axis","queryPositionInfo","pageXOffset","pageYOffset","docHeight","getDocumentWidthHeight","docWidth","drag","eleObj","checkTargetElement","intOver","dragData","hoverObject","intOut","tLeft","tTop","pagex","pagey","dLeft","dTop","skipDistanceCheck","helperWidth","helperHeight","offsetHeight","iTop","iLeft","dragValue","docBody","docEle","dragStop","dragStopCalled","intDrop","eleWidthBound","eleHeightBound","elementArea","tborder","tpadding","lowerKey","prevStyle","display","elementFromPoint","clientX","clientY","cursorAt","sender","draggable","draggedElement","dropIns","getDropInstance","parent_1","parentElement","drop","eleInst","eleInst_1","Droppable","mouseOver","wireEvents","area","accept","isDrag","isDropArea","canDrop","droppedElement","coord","keyCode","backspace","tab","enter","control","alt","pause","capslock","space","escape","pageup","pagedown","home","leftarrow","uparrow","rightarrow","downarrow","insert","delete","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","semicolon","plus","comma","minus","dot","forwardslash","graveaccent","openbracket","backslash","closebracket","singlequote","KeyboardEvents","keyPressHandler","isAltKey","altKey","isCtrlKey","ctrlKey","isShiftKey","shiftKey","curkeyCode","which","keyConfigs","configCollection_1","rconfig","rKeyObj","KeyboardEvents_1","getKeyConfigData","action","keyAction","unwireEvents","config","configCache","keyData","Number","getKeyCode","keyVal","L10n","controlName","localeStrings","setLocale","intLocale","intGetControlConstant","currentLocale","load","localeObject","getConstant","SvgRenderer","svgLink","createSvg","svgObj","setSVGSize","line","rectangle","circle","polyline","ellipse","drawPolygon","polygon","img","setAttributeNS","preserveAspectRatio","createText","textContent","createTSpan","tSpan","createTitle","title","createDefs","createClipPath","clipPath","createForeignObject","foreignObject","createGroup","createPattern","newOptions","fx","fy","drawGradient","gradientType","defs","gradient","stop_1","drawClipPath","drawCircularClipPath","SwipeSettings","swipeRegex","Touch","touchAction","tapCount","startEvent","isTouchMoved","movedDirection","startPoint","lastMovedPoint","startEventData","hScrollLocked","vScrollLocked","tStampStart","timeOutTapHold","tapHoldEvent","tapHoldThreshold","moveEvent","endEvent","movedPoint","eScrollArgs","calcScrollPoints","startEvents","originalEvent","startX","startY","distanceX","distanceY","scrollDirection","velocity","getVelocity","timeOutTap","endPoint","eSwipeArgs","tDistance","swipeSettings","swipeThresholdDistance","calcPoints","swipeArgs","swipeDirection","defaultArgs","canTrigger","scrollBool","isScrollable","moved","checkSwipe","tap","tapThreshold","modeClear","lastTapTime","getTime","eleStyle","overflowX","overflowY","eTapArgs","pnt","newX","newY","newT","xDist","yDist","Engine","ValueFormatter","intl","getFormatFunction","toView","displayText","CsvHelper","json","csvStr","formatter","globalStyles","Map","worksheets","parseWorksheet","rows","parseRows","rows_1","parseRow","cells","parseCell","csv","parseCellValue","has","dwlLink","BlobHelper","getBlob","Workbook","saveType","sharedStringCount","unitsProportions","hyperlinkStyle","mSaveType","mArchive","sharedString","mFonts","mBorders","mStyles","printTitles","cellStyles","mNumFmt","mFills","mCellXfs","mCellStyleXfs","cellStyle","parserCellStyle","tFormat","parserWorksheets","builtInProperties","BuiltInProperties","parserBuiltInProperties","csvHelper","jsonBuiltInProperties","author","comments","category","company","manager","subject","createdDate","modifiedDate","tags","jsonSheet","sheet","mergeCells","mHyperLinks","columns","parserColumns","parserRows","freeze","parserFreezePanes","printTitle","parserPrintTitle","pageSetup","hyperLinks","mergeOptions","fromJson","toJson","applyProperties","sourceJson","destJson","getCellName","column","getColumnName","col","strColumnName","iCurrentDigit","titleRowName","printTitleName","fromRow","toRow","titleColName","fromColumn","toColumn","freezePanes","leftCell","columnsLength","rowsLength","rowId","parserRow","rowIndex","grouping","parseGrouping","parseCells","outlineLevel","isCollapsed","isHidden","cellsLength","spanMin","spanMax","cellId","jsonCell","refName","rowSpan","colSpan","processMergeCells","hyperlink","hyperLink","getCellValueType","rId","styleIndex","parseCellType","spans","applyGlobalStyle","cellStyleXfs","compareResult","compareStyleXfs","cellXfs","alignment","applyAlignment","borderId","fillId","fontId","toCompareStyle","baseStyle","cellType","defStyleIndex","parserBorder","leftBorder","rightBorder","topBorder","bottomBorder","processCellStyle","switchNumberFormat","numFmt","returnFormat","border","compareStyle","compareFontResult","isNewFont","isNewBorder","horizontal","vertical","bStyle","isAllBorder","toCompareBorder","allBorderStyle","globalStyleIndex","toOADate","value_1","blobSaveType","blobData","proxyUrl","xlsxMatch","csvMatch","saveWorkbook","saveWorksheets","saveSharedString","saveStyles","saveApp","saveCore","saveContentType","saveTopLevelRelation","saveWorkbookRelation","workbookTemp","sheets","printTitle_1","addToArchive","saveWorksheet","sheetBlob","sheetString","saveFreezePanes","colString","pixelsToColumnWidth","rowString","pixelsToRowHeight","_d","_e","_f","_g","_h","_j","hLink","saveSheetRelations","pixels","dDigitWidth","trunc","relStr","paneString","sstStart","si","processString","styleTemp","saveNumberFormats","saveFonts","saveFills","saveBorders","saveCellStyleXfs","saveCellXfs","saveCellStyles","numFmtStyle_1","fontStyle","fillsStyle","bordersStyle","cellStyleString","cellXfsStyle","cellStyleXf","cellXf","appString","coreString","toISOString","wbRelation","contentTypeString","sheetsOverride","xmlString","archiveItem","startCell","endCell","dateToTicks","daysToMonth365","daysToMonth366","isLeapYear","timeToTicks","ticks","daysTo1899"],"mappings":"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"}