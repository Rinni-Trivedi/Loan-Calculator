/*!
*  filename: ej2-calendars.umd.min.js
*  version : 16.1.49
*  Copyright Syncfusion Inc. 2001 - 2018. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@syncfusion/ej2-base"),require("@syncfusion/ej2-popups"),require("@syncfusion/ej2-inputs"),require("@syncfusion/ej2-buttons"),require("@syncfusion/ej2-lists")):"function"==typeof define&&define.amd?define(["exports","@syncfusion/ej2-base","@syncfusion/ej2-popups","@syncfusion/ej2-inputs","@syncfusion/ej2-buttons","@syncfusion/ej2-lists"],t):t(e.ej={},e.ej2Base,e.ej2Popups,e.ej2Inputs,e.ej2Buttons,e.ej2Lists)}(this,function(e,t,i,s,a,n){"use strict";var r=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),l=function(e,t,i,s){var a,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},o="e-other-month",h="e-calendar",p="e-year",u="e-disabled",d="e-overlay",c="e-week-number",m="e-selected",v="e-focused-date",f="e-month-hide",y="e-zoomin",g=function(e){function i(t,i){var s=e.call(this,t,i)||this;return s.effect="",s.keyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spaceBar:"space"},s}return r(i,e),i.prototype.render=function(){this.globalize=new t.Internationalization(this.locale),this.todayDisabled=!1,this.todayDate=new Date((new Date).setHours(0,0,0,0)),"calendar"===this.getModuleName()?(this.element.classList.add(h),this.enableRtl&&this.element.classList.add("e-rtl"),t.Browser.isDevice&&this.element.classList.add("e-device"),t.attributes(this.element,{"data-role":"calendar"})):(this.calendarElement=t.createElement("div"),this.calendarElement.classList.add(h),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),t.Browser.isDevice&&this.calendarElement.classList.add("e-device"),t.attributes(this.calendarElement,{role:"calendar"})),this.createHeader(),this.createContent(),this.wireEvents()},i.prototype.validateDate=function(e){this.setProperties({min:this.checkDateValue(new Date(""+this.min))},!0),this.setProperties({max:this.checkDateValue(new Date(""+this.max))},!0),this.currentDate=this.currentDate?this.currentDate:new Date((new Date).setHours(0,0,0,0)),!t.isNullOrUndefined(e)&&this.min<=this.max&&e>=this.min&&e<=this.max&&(this.currentDate=new Date(""+e))},i.prototype.minMaxUpdate=function(e){+this.min<=+this.max?t.removeClass([this.element],d):(this.setProperties({min:this.min},!0),t.addClass([this.element],d)),this.min=t.isNullOrUndefined(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=t.isNullOrUndefined(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max&&e&&+e<=+this.max&&+e>=+this.min?this.currentDate=new Date(""+e):+this.min<=+this.max&&!e&&+this.currentDate>+this.max?this.currentDate=new Date(""+this.max):+this.currentDate<+this.min&&(this.currentDate=new Date(""+this.min))},i.prototype.createHeader=function(){this.headerElement=t.createElement("div",{className:"e-header"});var e=t.createElement("div",{className:"e-icon-container"});this.previousIcon=t.createElement("button",{className:"e-prev",attrs:{type:"button"}}),t.rippleEffect(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),t.attributes(this.previousIcon,{"aria-disabled":"false","aria-label":"previous month"}),this.nextIcon=t.createElement("button",{className:"e-next",attrs:{type:"button"}}),t.rippleEffect(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),t.attributes(this.nextIcon,{"aria-disabled":"false","aria-label":"next month"}),this.headerTitleElement=t.createElement("div",{className:"e-day e-title"}),t.attributes(this.headerTitleElement,{"aria-atomic":"true","aria-live":"assertive","aria-label":"title"}),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(t.createElement("span",{className:"e-date-icon-prev e-icons"})),this.nextIcon.appendChild(t.createElement("span",{className:"e-date-icon-next  e-icons"})),e.appendChild(this.previousIcon),e.appendChild(this.nextIcon),this.headerElement.appendChild(e),"calendar"===this.getModuleName()?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement)},i.prototype.createContent=function(){this.contentElement=t.createElement("div",{className:"e-content"}),this.table=t.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":""}}),"calendar"===this.getModuleName()?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter()},i.prototype.getCultureValues=function(){var e,i=[];e="en"===this.locale||"en-US"===this.locale?t.getValue("days.stand-alone.short",t.getDefaultDateObject()):this.getCultureObjects(t.cldrData,""+this.locale);for(var s=0,a=Object.keys(e);s<a.length;s++){var n=a[s];i.push(t.getValue(n,e))}return i},i.prototype.createContentHeader=function(){"calendar"===this.getModuleName()?t.isNullOrUndefined(this.element.querySelectorAll(".e-content .e-week-header")[0])||t.detach(this.element.querySelectorAll(".e-content .e-week-header")[0]):t.isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||t.detach(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);var e,i="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=t.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(i+='<th class="e-week-number"></th>',"calendar"===this.getModuleName()?t.addClass([this.element],""+c):t.addClass([this.calendarElement],""+c)),e=this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek);for(var s=0;s<=6;s++)i+='<th  class="">'+e[s]+"</th>";i="<tr>"+i+"</tr>",this.tableHeadElement.innerHTML=i,this.table.appendChild(this.tableHeadElement)},i.prototype.createContentBody=function(){switch("calendar"===this.getModuleName()?t.isNullOrUndefined(this.element.querySelectorAll(".e-content tbody")[0])||t.detach(this.element.querySelectorAll(".e-content tbody")[0]):t.isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content tbody")[0])||t.detach(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}},i.prototype.updateFooter=function(){this.todayElement.textContent=this.l10.getConstant("today")},i.prototype.createContentFooter=function(){if(this.showTodayButton){var e=new Date(+this.min),i=new Date(+this.max);this.globalize=new t.Internationalization(this.locale),this.l10=new t.L10n(this.getModuleName(),{today:"Today"},this.locale),this.todayElement=t.createElement("button"),t.rippleEffect(this.todayElement),this.updateFooter(),t.addClass([this.todayElement],["e-btn","e-today","e-flat","e-primary"]),+new Date(e.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(i.setHours(0,0,0,0))&&!this.todayDisabled||t.addClass([this.todayElement],u),this.footer=t.createElement("div",{className:"e-footer-container"}),this.footer.appendChild(this.todayElement),"calendar"===this.getModuleName()&&this.element.appendChild(this.footer),"datepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),"datetimepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains(u)||t.EventHandler.add(this.todayElement,"click",this.todayButtonClick,this)}},i.prototype.wireEvents=function(){t.EventHandler.add(this.headerTitleElement,"click",this.navigateTitle,this),"calendar"===this.getModuleName()?this.keyboardModule=new t.KeyboardEvents(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.keyConfigs}):this.keyboardModule=new t.KeyboardEvents(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.keyConfigs})},i.prototype.todayButtonClick=function(e){this.showTodayButton&&(this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(""+e)):this.navigateTo("Month",new Date(""+e)),this.effect="")},i.prototype.keyActionHandle=function(e,i){var s=this.getViewNumber(this.currentView()),a=this.tableBodyElement.querySelector("tr td.e-focused-date"),n=this.tableBodyElement.querySelector("tr td.e-selected"),r=this.getViewNumber(this.depth),l=s===r&&this.getViewNumber(this.start)>=r;switch(this.effect="",e.action){case"moveLeft":this.KeyboardNavigate(-1,s,e,this.max,this.min),e.preventDefault();break;case"moveRight":this.KeyboardNavigate(1,s,e,this.max,this.min),e.preventDefault();break;case"moveUp":0===s?this.KeyboardNavigate(-7,s,e,this.max,this.min):this.KeyboardNavigate(-4,s,e,this.max,this.min),e.preventDefault();break;case"moveDown":0===s?this.KeyboardNavigate(7,s,e,this.max,this.min):this.KeyboardNavigate(4,s,e,this.max,this.min),e.preventDefault();break;case"select":if(e.target===this.todayElement)this.todayButtonClick(i);else{var o=t.isNullOrUndefined(a)?n:a;if(!t.isNullOrUndefined(o)&&!o.classList.contains(u))if(l){var h=new Date(parseInt(""+o.id,0));this.selectDate(e,h,o,i)}else this.contentClick(null,--s,o,i)}break;case"controlUp":this.title(),e.preventDefault();break;case"controlDown":t.isNullOrUndefined(a)&&(t.isNullOrUndefined(n)||l)||this.contentClick(null,--s,a||n,i),e.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),t.detach(this.tableBodyElement),this.renderMonths(e),e.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate),t.detach(this.tableBodyElement),this.renderMonths(e),e.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),e.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),e.preventDefault()}"calendar"===this.getModuleName()&&this.table.focus()},i.prototype.KeyboardNavigate=function(e,i,s,a,n){var r=new Date(""+this.currentDate);switch(i){case 2:this.addYears(this.currentDate,e),this.isMinMaxRange(this.currentDate)?(t.detach(this.tableBodyElement),this.renderDecades(s)):this.currentDate=r;break;case 1:this.addMonths(this.currentDate,e),this.isMinMaxRange(this.currentDate)?(t.detach(this.tableBodyElement),this.renderYears(s)):this.currentDate=r;break;case 0:this.addDay(this.currentDate,e,s,a,n),this.isMinMaxRange(this.currentDate)?(t.detach(this.tableBodyElement),this.renderMonths(s)):this.currentDate=r}},i.prototype.preRender=function(e){var t=this;this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.navigateHandler=function(e){t.triggerNavigate(e)}},i.prototype.minMaxDate=function(e){var t=new Date(new Date(+e).setHours(0,0,0,0)),i=new Date(new Date(+this.min).setHours(0,0,0,0)),s=new Date(new Date(+this.max).setHours(0,0,0,0));return+t!=+i&&+t!=+s||(+e<+this.min&&(e=new Date(+this.min)),+e>+this.max&&(e=new Date(+this.max))),e},i.prototype.renderMonths=function(e,t){var i=this.weekNumber?8:7,s=this.renderDays(this.currentDate,e,t);this.createContentHeader(),this.renderTemplate(s,i,"e-month",e,t)},i.prototype.renderDays=function(e,i,s){var a,n=[],r=new Date(""+e),l=(this.weekNumber,r.getMonth());this.titleUpdate(e,"days");var h=r;for(r=new Date(h.getFullYear(),h.getMonth(),0,h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds());r.getDay()!==this.firstDayOfWeek;)this.setStartDate(r,-864e5);for(var p=0;p<42;++p){var f=t.createElement("td",{className:"e-cell"}),y=t.createElement("span");p%7==0&&this.weekNumber&&(y.textContent=""+this.getWeek(r),f.appendChild(y),t.addClass([f],""+c),n.push(f)),a=new Date(+r),r=this.minMaxDate(r);var g={type:"dateTime",skeleton:"full"},D=this.globalize.parseDate(this.globalize.formatDate(r,g),g),b=this.dayCell(r),E=this.globalize.formatDate(r,{type:"date",skeleton:"full"}),C=t.createElement("span");C.textContent=this.globalize.formatDate(r,{type:"date",skeleton:"d"});var w=this.min>r||this.max<r;w?(t.addClass([b],u),t.addClass([b],d)):C.setAttribute("title",""+E),l!==r.getMonth()&&t.addClass([b],o),0!==r.getDay()&&6!==r.getDay()||t.addClass([b],"e-weekend"),b.appendChild(C),this.renderDayCellArgs={date:r,isDisabled:!1,element:b,isOutOfRange:w};var N=this.renderDayCellArgs;this.renderDayCellEvent(N),N.isDisabled&&s&&+s==+N.date&&this.setProperties({value:null},!0),this.renderDayCellArgs.isDisabled&&!b.classList.contains(m)&&(t.addClass([b],u),t.addClass([b],d),+this.renderDayCellArgs.date==+this.todayDate&&(this.todayDisabled=!0));var O=b.classList.contains(o),M=b.classList.contains(u);M||t.EventHandler.add(b,"click",this.clickHandler,this),O||M||!this.getDateVal(r,s)?e.getDate()!==r.getDate()||O||M?(e>=this.max&&parseInt(b.id,0)===+this.max&&!O&&!M&&t.addClass([b],v),e<=this.min&&parseInt(b.id,0)===+this.min&&!O&&!M&&t.addClass([b],v)):t.addClass([b],v):t.addClass([b],m),D.getMonth()===(new Date).getMonth()&&D.getDate()===(new Date).getDate()&&D.getFullYear()===(new Date).getFullYear()&&t.addClass([b],"e-today"),n.push(this.renderDayCellArgs.element),r=new Date(+a),this.addDay(r,1,null,this.max,this.min)}return n},i.prototype.renderYears=function(e,i){this.removeTableHeadElement();var s=[],a=t.isNullOrUndefined(i),n=new Date(""+this.currentDate),r=n.getMonth(),l=n.getFullYear(),o=n,h=o.getFullYear(),d=new Date(""+this.min).getFullYear(),c=new Date(""+this.min).getMonth(),f=new Date(""+this.max).getFullYear(),y=new Date(""+this.max).getMonth();o.setMonth(0),this.titleUpdate(this.currentDate,"months");this.min>o||this.max;o.setDate(1);for(var g=0;g<12;++g){var D=this.dayCell(o),b=t.createElement("span"),E=i&&i.getMonth()===o.getMonth(),C=i&&i.getFullYear()===l&&E;b.textContent=this.globalize.formatDate(o,{type:"dateTime",skeleton:"MMM"}),this.min&&(h<d||g<c&&h===d)||this.max&&(h>f||g>y&&h>=f)?t.addClass([D],u):!a&&C?t.addClass([D],m):o.getMonth()===r&&this.currentDate.getMonth()===r&&t.addClass([D],v),o.setDate(1),o.setMonth(o.getMonth()+1),D.classList.contains(u)||t.EventHandler.add(D,"click",this.clickHandler,this),D.appendChild(b),s.push(D)}this.renderTemplate(s,4,p,e,i)},i.prototype.renderDecades=function(e,i){this.removeTableHeadElement();var s=[],a=new Date(""+this.currentDate);a.setMonth(0),a.setDate(1);var n=a.getFullYear(),r=new Date(""+(n-n%10)),l=new Date(""+(n-n%10+9)),o=this.globalize.formatDate(r,{type:"dateTime",skeleton:"y"}),h=this.globalize.formatDate(l,{type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=o+" - "+h;for(var p=new Date(n-n%10-1,0,1).getFullYear(),d=0;d<12;++d){var c=p+d;a.setFullYear(c);var f=this.dayCell(a);t.attributes(f,{role:"gridcell"});var y=t.createElement("span");y.textContent=this.globalize.formatDate(a,{type:"dateTime",skeleton:"y"}),c<new Date(""+this.min).getFullYear()||c>new Date(""+this.max).getFullYear()?t.addClass([f],u):t.isNullOrUndefined(i)||a.getFullYear()!==i.getFullYear()?a.getFullYear()!==this.currentDate.getFullYear()||f.classList.contains(u)||t.addClass([f],v):t.addClass([f],m),f.classList.contains(u)||t.EventHandler.add(f,"click",this.clickHandler,this),f.appendChild(y),s.push(f)}this.renderTemplate(s,4,"e-decade",e,i)},i.prototype.dayCell=function(e){var i={skeleton:"full",type:"dateTime"},s=this.globalize.parseDate(this.globalize.formatDate(e,i),i).valueOf(),a={className:"e-cell",attrs:{id:""+t.getUniqueID(""+s),"aria-selected":"false",role:"gridcell"}};return t.createElement("td",a)},i.prototype.firstDay=function(e){var t=this.tableBodyElement.querySelectorAll("td:not(."+o);if(t.length)for(var i=0;i<t.length;i++)if(!t[i].classList.contains(u)){e=new Date(parseInt(t[i].id,0));break}return e},i.prototype.lastDay=function(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),i=Math.abs(t.getTimezoneOffset()-this.firstDay(e).getTimezoneOffset());return i&&t.setHours(this.firstDay(e).getHours()+i/60),this.findLastDay(t)},i.prototype.checkDateValue=function(e){return!t.isNullOrUndefined(e)&&e instanceof Date&&!isNaN(+e)?e:null},i.prototype.findLastDay=function(e){var t=this.tableBodyElement.querySelectorAll("td:not(."+o);if(t.length)for(var i=t.length-1;i>=0;i--)if(!t[i].classList.contains(u)){e=new Date(parseInt(t[i].id,0));break}return e},i.prototype.removeTableHeadElement=function(){"calendar"===this.getModuleName()?t.isNullOrUndefined(this.element.querySelectorAll(".e-content table thead")[0])||t.detach(this.tableHeadElement):t.isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content table thead")[0])||t.detach(this.tableHeadElement)},i.prototype.renderTemplate=function(e,i,s,a,n){var r,l=this.getViewNumber(this.currentView());this.tableBodyElement=t.createElement("tbody"),this.table.appendChild(this.tableBodyElement),t.removeClass([this.contentElement,this.headerElement],["e-month","e-decade",p]),t.addClass([this.contentElement,this.headerElement],[s]);for(var h=i,u=0,d=0;d<e.length/i;++d){for(r=t.createElement("tr",{attrs:{role:"row"}}),u=0+u;u<h;u++)e[u].classList.contains("e-week-number")||t.isNullOrUndefined(e[u].children[0])||(t.addClass([e[u].children[0]],["e-day"]),t.rippleEffect(e[u].children[0],{duration:600,isCenterRipple:!0})),r.appendChild(e[u]),!this.weekNumber&&6===u&&e[6].classList.contains(o)&&t.addClass([r],f),this.weekNumber?41===u&&e[41].classList.contains(o)&&t.addClass([r],f):35===u&&e[35].classList.contains(o)&&t.addClass([r],f);h+=i,u+=0,this.tableBodyElement.appendChild(r)}this.table.querySelector("tbody").className=this.effect,this.iconHandler(),(l!==this.getViewNumber(this.currentView())||0===l&&l!==this.getViewNumber(this.currentView()))&&this.navigateHandler(a),this.setAriaActiveDescendant()},i.prototype.clickHandler=function(e,t){this.clickEventEmitter(e);var i=e.currentTarget,s=this.getViewNumber(this.currentView());i.classList.contains(o)?this.contentClick(e,0,null,t):s===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.contentClick(e,1,null,t):2===s?this.contentClick(e,1,null,t):i.classList.contains(o)||0!==s?this.contentClick(e,0,i,t):this.selectDate(e,this.getIdValue(e,null),null,t),"calendar"===this.getModuleName()&&this.table.focus()},i.prototype.clickEventEmitter=function(e){e.preventDefault()},i.prototype.contentClick=function(e,i,s,a){var n=this.getViewNumber(this.currentView()),r=this.getIdValue(e,s);switch(i){case 0:n===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(t.detach(this.tableBodyElement),this.currentDate=r,this.effect=y,this.renderMonths(e)):(this.currentDate.setMonth(r.getMonth()),r.getMonth()>0&&this.currentDate.getMonth()!==r.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(r.getFullYear()),this.effect=y,t.detach(this.tableBodyElement),this.renderMonths(e));break;case 1:n===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.selectDate(e,r,null,a):(this.currentDate.setFullYear(r.getFullYear()),this.effect=y,t.detach(this.tableBodyElement),this.renderYears(e))}},i.prototype.switchView=function(e,i){switch(e){case 0:t.detach(this.tableBodyElement),this.renderMonths(i);break;case 1:t.detach(this.tableBodyElement),this.renderYears(i);break;case 2:t.detach(this.tableBodyElement),this.renderDecades(i)}},i.prototype.getModuleName=function(){return"calendar"},i.prototype.getPersistData=function(){return this.addOnPersist(["value"])},i.prototype.onPropertyChanged=function(e,i){this.effect="";for(var s=0,a=Object.keys(e);s<a.length;s++){var n=a[s];switch(n){case"enableRtl":e.enableRtl?"calendar"===this.getModuleName()?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):"calendar"===this.getModuleName()?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"min":case"max":"min"===n?this.setProperties({min:this.checkDateValue(new Date(""+e.min))},!0):this.setProperties({max:this.checkDateValue(new Date(""+e.max))},!0),this.setProperties({start:this.currentView()},!0),t.detach(this.tableBodyElement),this.minMaxUpdate(),this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(t.detach(this.todayElement),t.detach(this.footer),this.todayElement=this.footer=void 0,this.createContentFooter()):this.todayElement.classList.contains("e-disabled")&&this.footer&&this.todayElement&&t.removeClass([this.todayElement],u);break;case"start":case"weekNumber":case"firstDayOfWeek":this.createContentHeader(),this.createContentBody();break;case"locale":this.globalize=new t.Internationalization(this.locale),this.createContentHeader(),this.createContentBody(),this.l10.setLocale(this.locale),this.updateFooter();break;case"showTodayButton":e.showTodayButton?this.createContentFooter():(t.detach(this.todayElement),t.detach(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:e.showTodayButton},!0)}}},i.prototype.setValueUpdate=function(){t.detach(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody()},i.prototype.titleUpdate=function(e,i){var s=new t.Internationalization(this.locale);switch(i){case"days":this.headerTitleElement.textContent=s.formatDate(e,{type:"dateTime",skeleton:"yMMMM"});break;case"months":this.headerTitleElement.textContent=s.formatDate(e,{type:"dateTime",skeleton:"y"})}},i.prototype.setActiveDescendant=function(){var e,t=this.tableBodyElement.querySelector("tr td.e-focused-date"),i=this.tableBodyElement.querySelector("tr td.e-selected"),s=this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"full"});return(i||t)&&((t||i).setAttribute("aria-selected","true"),(t||i).setAttribute("aria-label","The current focused date is "+s),e=(t||i).getAttribute("id")),e},i.prototype.iconHandler=function(){switch(new Date(""+this.currentDate).setDate(1),this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(""+this.currentDate),this.min)<1),this.nextIconHandler(this.compareMonth(new Date(""+this.currentDate),this.max)>-1);break;case"Year":this.previousIconHandler(this.compareYear(new Date(""+this.currentDate),this.min)<1),this.nextIconHandler(this.compareYear(new Date(""+this.currentDate),this.max)>-1);break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(""+this.currentDate),this.min)<1),this.nextIconHandler(this.compareDecade(new Date(""+this.currentDate),this.max)>-1)}},i.prototype.destroy=function(){"calendar"===this.getModuleName()?t.removeClass([this.element],[h]):this.calendarElement&&t.removeClass([this.element],[h]),"calendar"===this.getModuleName()&&(t.EventHandler.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&t.EventHandler.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role")),this.element.innerHTML="",e.prototype.destroy.call(this)},i.prototype.title=function(e){var t=this.getViewNumber(this.currentView());this.effect=y,this.switchView(++t,e)},i.prototype.getViewNumber=function(e){return"Month"===e?0:"Year"===e?1:2},i.prototype.navigateTitle=function(e){e.preventDefault(),this.title(e),"calendar"===this.getModuleName()&&this.table.focus()},i.prototype.previous=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(e)}},i.prototype.navigatePrevious=function(e){e.preventDefault(),this.previous(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()},i.prototype.next=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(e)}},i.prototype.navigateNext=function(e){e.preventDefault(),this.next(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()},i.prototype.navigateTo=function(e,t){+t>=+this.min&&+t<=+this.max&&(this.currentDate=t),+t<=+this.min&&(this.currentDate=new Date(""+this.min)),+t>=+this.max&&(this.currentDate=new Date(""+this.max)),"daterangepicker"===this.getModuleName()&&(this.currentDate=t),this.getViewNumber(this.depth)>=this.getViewNumber(e)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(e))&&(e=this.depth),this.switchView(this.getViewNumber(e))},i.prototype.currentView=function(){return this.contentElement.classList.contains(p)?"Year":this.contentElement.classList.contains("e-decade")?"Decade":"Month"},i.prototype.getDateVal=function(e,i){return!t.isNullOrUndefined(i)&&e.getDate()===i.getDate()&&e.getMonth()===i.getMonth()&&e.getFullYear()===i.getFullYear()},i.prototype.getCultureObjects=function(e,i){return t.getValue("main."+this.locale+".dates.calendars.gregorian.days.format.short",e)},i.prototype.getWeek=function(e){var t=new Date(""+e).valueOf(),i=new Date(e.getFullYear(),0,1).valueOf(),s=t-i;return Math.ceil((s/864e5+new Date(i).getDay()+1)/7)},i.prototype.setStartDate=function(e,t){var i=e.getTimezoneOffset(),s=new Date(e.getTime()+t),a=s.getTimezoneOffset()-i;e.setTime(s.getTime()+6e4*a)},i.prototype.addMonths=function(e,t){var i=e.getDate();e.setDate(1),e.setMonth(e.getMonth()+t),e.setDate(Math.min(i,this.getMaxDays(e)))},i.prototype.addYears=function(e,t){var i=e.getDate();e.setDate(1),e.setFullYear(e.getFullYear()+t),e.setDate(Math.min(i,this.getMaxDays(e)))},i.prototype.getIdValue=function(e,t){var i;i=e?e.currentTarget:t;var s={type:"dateTime",skeleton:"full"},a=this.globalize.formatDate(new Date(parseInt(""+i.getAttribute("id"),0)),s),n=this.globalize.parseDate(a,s),r=n.valueOf()-n.valueOf()%1e3;return new Date(r)},i.prototype.selectDate=function(e,i,s,a){var n=s||e.currentTarget;"Decade"===this.currentView()?this.setDateDecade(this.currentDate,i.getFullYear()):"Year"===this.currentView()?this.setDateYear(this.currentDate,i):(this.setProperties({value:new Date(""+i)},!0),this.currentDate=new Date(""+i));var r=t.closest(n,"."+h);t.isNullOrUndefined(r)&&(r=this.tableBodyElement),t.isNullOrUndefined(r.querySelector("."+m))||t.removeClass([r.querySelector("."+m)],m),t.isNullOrUndefined(r.querySelector("."+v))||t.removeClass([r.querySelector("."+v)],v),t.addClass([n],m)},i.prototype.setAriaActiveDescendant=function(){t.attributes(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})},i.prototype.previousIconHandler=function(e){e?(t.EventHandler.remove(this.previousIcon,"click",this.navigatePreviousHandler),t.addClass([this.previousIcon],""+u),t.addClass([this.previousIcon],""+d),this.previousIcon.setAttribute("aria-disabled","true")):(t.EventHandler.add(this.previousIcon,"click",this.navigatePreviousHandler),t.removeClass([this.previousIcon],""+u),t.removeClass([this.previousIcon],""+d),this.previousIcon.setAttribute("aria-disabled","false"))},i.prototype.renderDayCellEvent=function(e){t.extend(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)},i.prototype.navigatedEvent=function(e){t.extend(this.navigatedArgs,{name:"navigated",event:e}),this.trigger("navigated",this.navigatedArgs)},i.prototype.triggerNavigate=function(e){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(e)},i.prototype.nextIconHandler=function(e){e?(t.EventHandler.remove(this.nextIcon,"click",this.navigateNextHandler),t.addClass([this.nextIcon],u),t.addClass([this.nextIcon],d),this.nextIcon.setAttribute("aria-disabled","true")):(t.EventHandler.add(this.nextIcon,"click",this.navigateNextHandler),t.removeClass([this.nextIcon],u),t.removeClass([this.nextIcon],d),this.nextIcon.setAttribute("aria-disabled","false"))},i.prototype.compare=function(e,t,i){var s,a,n=t.getFullYear();return s=n,a=0,i&&(s=(n-=n%i)-n%i+i-1),e.getFullYear()>s?a=1:e.getFullYear()<n&&(a=-1),a},i.prototype.isMinMaxRange=function(e){return+e>=+this.min&&+e<=+this.max},i.prototype.compareYear=function(e,t){return this.compare(e,t,0)},i.prototype.compareDecade=function(e,t){return this.compare(e,t,10)},i.prototype.shiftArray=function(e,t){return e.slice(t).concat(e.slice(0,t))},i.prototype.addDay=function(e,i,s,a,n){var r=i,l=new Date(+e);if(!t.isNullOrUndefined(this.tableBodyElement)&&!t.isNullOrUndefined(s)){for(;this.findNextTD(new Date(+e),r,a,n);)r+=i;var o=new Date(l.setDate(l.getDate()+r));r=+o>+a||+o<+n?r===i?i-i:i:r}e.setDate(e.getDate()+r)},i.prototype.findNextTD=function(e,i,s,a){var n=new Date(e.setDate(e.getDate()+i)),r=[],l=!1;if((!t.isNullOrUndefined(n)&&n.getMonth())===(!t.isNullOrUndefined(this.currentDate)&&this.currentDate.getMonth())){r=this.renderDays(n,null).filter(function(e){return e.classList.contains(u)})}else r=this.tableBodyElement.querySelectorAll("td."+u);if(+n<=+s&&+n>=+a&&r.length)for(var o=0;o<r.length&&!(l=+n==+new Date(parseInt(r[o].id,0)));o++);return l},i.prototype.getMaxDays=function(e){var t,i,s=new Date(""+e);for(t=28,i=s.getMonth();s.getMonth()===i;)++t,s.setDate(t);return t-1},i.prototype.setDateDecade=function(e,t){e.setFullYear(t),this.setProperties({value:new Date(""+e)},!0)},i.prototype.setDateYear=function(e,t){e.setFullYear(t.getFullYear(),t.getMonth(),e.getDate()),t.getMonth()!==e.getMonth()&&e.setDate(0),this.setProperties({value:new Date(""+e)},!0),this.currentDate=new Date(""+t)},i.prototype.compareMonth=function(e,t){return e.getFullYear()>t.getFullYear()?1:e.getFullYear()<t.getFullYear()?-1:e.getMonth()===t.getMonth()?0:e.getMonth()>t.getMonth()?1:-1},l([t.Property(new Date(1900,0,1))],i.prototype,"min",void 0),l([t.Property(new Date(2099,11,31))],i.prototype,"max",void 0),l([t.Property(0)],i.prototype,"firstDayOfWeek",void 0),l([t.Property("Month")],i.prototype,"start",void 0),l([t.Property("Month")],i.prototype,"depth",void 0),l([t.Property(!1)],i.prototype,"weekNumber",void 0),l([t.Property(!0)],i.prototype,"showTodayButton",void 0),l([t.Event()],i.prototype,"created",void 0),l([t.Event()],i.prototype,"destroyed",void 0),l([t.Event()],i.prototype,"navigated",void 0),l([t.Event()],i.prototype,"renderDayCell",void 0),i=l([t.NotifyPropertyChanges],i)}(t.Component),D=function(e){function i(t,i){return e.call(this,t,i)||this}return r(i,e),i.prototype.render=function(){this.validateDate(),this.minMaxUpdate(),e.prototype.render.call(this)},i.prototype.validateDate=function(){"string"==typeof this.value&&this.setProperties({value:this.checkDateValue(new Date(""+this.value))},!0),e.prototype.validateDate.call(this,this.value),!t.isNullOrUndefined(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(""+this.value)),isNaN(+this.value)&&this.setProperties({value:null},!0)},i.prototype.minMaxUpdate=function(){"calendar"===this.getModuleName()&&(!t.isNullOrUndefined(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!t.isNullOrUndefined(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})),"calendar"!==this.getModuleName()?!t.isNullOrUndefined(this.value)&&this.value<this.min&&this.min<=this.max?e.prototype.minMaxUpdate.call(this,this.min):!t.isNullOrUndefined(this.value)&&this.value>this.max&&this.min<=this.max&&e.prototype.minMaxUpdate.call(this,this.max):e.prototype.minMaxUpdate.call(this,this.value)},i.prototype.todayButtonClick=function(){if(this.showTodayButton){var t=new Date;this.value?(t.setHours(this.value.getHours()),t.setMinutes(this.value.getMinutes()),t.setSeconds(this.value.getSeconds())):t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),this.setProperties({value:t},!0),e.prototype.todayButtonClick.call(this,new Date(+this.value))}},i.prototype.keyActionHandle=function(t){e.prototype.keyActionHandle.call(this,t,this.value)},i.prototype.preRender=function(){var t=this;this.changeHandler=function(e){t.triggerChange(e)},e.prototype.preRender.call(this,this.value)},i.prototype.createContent=function(){this.previousDate=this.value,e.prototype.createContent.call(this)},i.prototype.minMaxDate=function(t){return e.prototype.minMaxDate.call(this,t)},i.prototype.renderMonths=function(t){e.prototype.renderMonths.call(this,t,this.value)},i.prototype.renderDays=function(t,i){return e.prototype.renderDays.call(this,t,i,this.value)},i.prototype.renderYears=function(t){e.prototype.renderYears.call(this,t,this.value)},i.prototype.renderDecades=function(t){e.prototype.renderDecades.call(this,t,this.value)},i.prototype.renderTemplate=function(t,i,s,a){e.prototype.renderTemplate.call(this,t,i,s,a,this.value),this.changedArgs={value:this.value},this.changeHandler()},i.prototype.clickHandler=function(t){t.currentTarget.classList.contains(o)&&(this.value=this.getIdValue(t,null)),e.prototype.clickHandler.call(this,t,this.value)},i.prototype.switchView=function(t,i){e.prototype.switchView.call(this,t,i)},i.prototype.getModuleName=function(){return e.prototype.getModuleName.call(this),"calendar"},i.prototype.getPersistData=function(){e.prototype.getPersistData.call(this);return this.addOnPersist(["value"])},i.prototype.onPropertyChanged=function(t,i){this.effect="";for(var s=0,a=Object.keys(t);s<a.length;s++){switch(a[s]){case"value":"string"==typeof t.value?this.setProperties({value:new Date(""+t.value)},!0):t.value=new Date(""+t.value),isNaN(+this.value)&&this.setProperties({value:i.value},!0),this.validateDate(),this.minMaxUpdate(),e.prototype.setValueUpdate.call(this);break;default:e.prototype.onPropertyChanged.call(this,t,i)}}},i.prototype.destroy=function(){e.prototype.destroy.call(this)},i.prototype.navigateTo=function(t,i){this.minMaxUpdate(),e.prototype.navigateTo.call(this,t,i)},i.prototype.currentView=function(){return e.prototype.currentView.call(this)},i.prototype.selectDate=function(t,i,s){e.prototype.selectDate.call(this,t,i,s,this.value),this.changedArgs={value:this.value},this.changeHandler(t)},i.prototype.changeEvent=function(e){this.trigger("change",this.changedArgs),this.previousDate=new Date(+this.value)},i.prototype.triggerChange=function(e){this.changedArgs.event=this.changedArgs.e=e||null,this.changedArgs.isInteracted=!t.isNullOrUndefined(e),t.isNullOrUndefined(this.value)||this.setProperties({value:this.value},!0),+this.value!==Number.NaN&&+this.value!=+this.previousDate&&this.changeEvent(e)},l([t.Property(null)],i.prototype,"value",void 0),l([t.Event()],i.prototype,"change",void 0),i=l([t.NotifyPropertyChanges],i)}(g),b=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),E=function(e,t,i,s){var a,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},C="e-datepicker",w="e-popup-wrapper",N="e-input-focus",O="e-active",M="e-date-overflow",k=function(e){function a(t,i){var s=e.call(this,t,i)||this;return s.previousElementValue="",s.isDateIconClicked=!1,s.keyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",tab:"tab"},s.calendarKeyConfigs={escape:"escape",enter:"enter",tab:"tab"},s}return b(a,e),a.prototype.render=function(){this.initialize(),this.bindEvents()},a.prototype.initialize=function(){this.createInput(),this.updateInput(),this.previousElementValue=this.inputElement.value,this.previousDate=new Date(+this.value)},a.prototype.createInput=function(){var e={"aria-live":"assertive","aria-atomic":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"};if("datepicker"===this.getModuleName()){this.globalize=new t.Internationalization(this.locale),this.l10n=new t.L10n("datepicker",{placeholder:null},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0)}this.inputWrapper=s.Input.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-date-icon e-icons"]}),this.setWidth(this.width),""!==this.inputElement.name?this.inputElement.setAttribute("name",""+this.inputElement.getAttribute("name")):this.inputElement.setAttribute("name",""+this.element.id),t.attributes(this.inputElement,e),this.enabled?this.inputElement.setAttribute("aria-disabled","false"):this.inputElement.setAttribute("aria-disabled","true"),s.Input.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),t.addClass([this.inputWrapper.container],"e-date-wrapper")},a.prototype.updateInput=function(){if(this.value&&!this.isCalendar()&&this.disabledDates(),+new Date(""+this.value)){if("string"==typeof this.value){this.value=this.checkDateValue(new Date(""+this.value));var i=void 0;i="datetimepicker"===this.getModuleName()?{format:t.isNullOrUndefined(this.format)?this.dateTimeFormat:this.format,type:"dateTime",skeleton:"yMd"}:{format:this.format,type:"dateTime",skeleton:"yMd"};var a=this.globalize.formatDate(this.value,i);this.setProperties({value:this.globalize.parseDate(a,i)},!0)}}else this.setProperties({value:null},!0);if(this.strictMode&&(e.prototype.validateDate.call(this),this.minMaxUpdates(),e.prototype.minMaxUpdate.call(this)),!t.isNullOrUndefined(this.value)){var n=this.value,r=(a=void 0,t.isNullOrUndefined(this.format)?this.dateTimeFormat:this.format);if(a="datetimepicker"===this.getModuleName()?this.globalize.formatDate(this.value,{format:r,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(this.value,{format:this.format,type:"dateTime",skeleton:"yMd"}),+n<=+this.max&&+n>=+this.min)s.Input.setValue(a,this.inputElement,this.floatLabelType,this.showClearButton);else{var l=+n>=+this.max||!+this.value||!+this.value||+n<=+this.min;!this.strictMode&&l&&s.Input.setValue(a,this.inputElement,this.floatLabelType,this.showClearButton)}}t.isNullOrUndefined(this.value)&&this.strictMode&&s.Input.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.changedArgs={value:this.value},this.errorClass()},a.prototype.minMaxUpdates=function(){!t.isNullOrUndefined(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!t.isNullOrUndefined(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})},a.prototype.bindEvents=function(){this.enabled?(t.EventHandler.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler,this),t.EventHandler.add(this.inputElement,"focus",this.inputFocusHandler,this),t.EventHandler.add(this.inputElement,"blur",this.inputBlurHandler,this),t.EventHandler.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&t.EventHandler.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)):(t.EventHandler.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler),t.EventHandler.remove(this.inputElement,"focus",this.inputFocusHandler),t.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),t.EventHandler.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&t.EventHandler.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler)),this.keyboardModules=new t.KeyboardEvents(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.keyConfigs})},a.prototype.inputChangeHandler=function(e){e.stopPropagation()},a.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&t.EventHandler.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},a.prototype.resetHandler=function(e){e.preventDefault(),this.clear(e)},a.prototype.clear=function(e){this.setProperties({value:null},!0),s.Input.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.updateInput(),this.changeEvent(e)},a.prototype.dateIconHandler=function(e){e.preventDefault(),this.readonly||(this.isCalendar()?this.hide(e):(this.isDateIconClicked=!0,this.show(null,e),t.Browser.isDevice||("datetimepicker"===this.getModuleName()&&this.inputElement.focus(),this.inputElement.focus(),t.addClass([this.inputWrapper.container],[N])),t.addClass(this.inputWrapper.buttons,O)))},a.prototype.CalendarKeyActionHandle=function(e){switch(e.action){case"escape":this.isCalendar()?this.hide(e):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value==+this.currentDate||this.isCalendar()||this.inputWrapper.container.children[this.index].focus():this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus();break;case"tab":this.hide(e)}},a.prototype.inputFocusHandler=function(){var e={model:this};this.isDateIconClicked=!1,this.trigger("focus",e)},a.prototype.inputBlurHandler=function(e){if(this.strictModeUpdate(),this.updateInput(),this.changeTrigger(e),this.errorClass(),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),"datepicker"===this.getModuleName()){var i={model:this};this.trigger("blur",i)}this.isCalendar()&&(this.calendarKeyboardModules=new t.KeyboardEvents(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.CalendarKeyActionHandle.bind(this),keyConfigs:this.calendarKeyConfigs}))},a.prototype.documentHandler=function(e){t.Browser.isDevice||e.preventDefault();var i=e.target;t.closest(i,".e-datepicker.e-popup-wrapper")||t.closest(i,".e-input-group")===this.inputWrapper.container||i.classList.contains("e-day")||this.hide(e)},a.prototype.inputKeyActionHandle=function(i){switch(i.action){case"altUpArrow":this.hide(i),this.inputElement.focus();break;case"altDownArrow":this.strictModeUpdate(),this.updateInput(),"datepicker"===this.getModuleName()&&this.show(null,i);break;case"escape":this.hide(i);break;case"enter":this.strictModeUpdate(),this.updateInput(),this.changeTrigger(i),this.errorClass(),this.isCalendar()||document.activeElement!==this.inputElement||this.hide(i);break;case"tab":this.strictModeUpdate(),this.updateInput(),this.changeTrigger(i),this.errorClass(),this.hide(i);break;default:this.previousDate=!t.isNullOrUndefined(this.value)&&new Date(""+this.value)||null,this.isCalendar()&&e.prototype.keyActionHandle.call(this,i)}},a.prototype.strictModeUpdate=function(){var e;if(e="datetimepicker"===this.getModuleName()?t.isNullOrUndefined(this.format)?this.dateTimeFormat:this.format:t.isNullOrUndefined(this.format)?this.format:this.format.replace("dd","d"),!t.isNullOrUndefined(e)){e.split("M").length-1<3&&(e=e.replace("MM","M"))}var i;i="datetimepicker"===this.getModuleName()?{format:t.isNullOrUndefined(this.format)?this.dateTimeFormat:this.format,type:"dateTime",skeleton:"yMd"}:{format:e,type:"dateTime",skeleton:"yMd"};var a=this.globalize.parseDate(this.inputElement.value,i);this.strictMode&&a?(s.Input.setValue(this.globalize.formatDate(a,i),this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:a},!0)):this.strictMode||this.inputElement.value!==this.previousElementValue&&this.setProperties({value:a},!0),this.strictMode&&!a&&""===this.inputElement.value&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0),t.isNullOrUndefined(this.value)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)))},a.prototype.createCalendar=function(){var e=this;this.popupWrapper=t.createElement("div",{className:C+" "+w}),t.isNullOrUndefined(this.cssClass)||this.popupWrapper.classList.add(this.cssClass),document.body.appendChild(this.popupWrapper),t.Browser.isDevice&&(this.modelHeader(),this.modal=t.createElement("div"),this.modal.className=C+" e-date-modal",document.body.className+=" "+M,this.modal.style.display="block",document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new i.Popup(this.popupWrapper,{content:this.calendarElement,relateTo:t.Browser.isDevice?document.body:this.inputWrapper.container,position:t.Browser.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},offsetY:4,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:t.Browser.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},open:function(){"datetimepicker"!==e.getModuleName()&&(document.activeElement===e.inputElement||t.Browser.isDevice||(e.calendarElement.children[1].firstElementChild.focus(),e.calendarKeyboardModules=new t.KeyboardEvents(e.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:e.CalendarKeyActionHandle.bind(e),keyConfigs:e.calendarKeyConfigs}),e.calendarKeyboardModules=new t.KeyboardEvents(e.inputWrapper.container.children[e.index],{eventName:"keydown",keyAction:e.CalendarKeyActionHandle.bind(e),keyConfigs:e.calendarKeyConfigs})))},close:function(){t.Browser.isDevice||e.isDateIconClicked&&e.inputWrapper.container.children[e.index].focus(),e.value&&e.disabledDates(),e.popupObj&&e.popupObj.destroy(),t.detach(e.popupWrapper),e.popupObj=e.popupWrapper=null,e.setAriaAttributes()}}),this.popupObj.element.classList.add(this.cssClass),this.setAriaAttributes()},a.prototype.modelHeader=function(){var e=t.createElement("div",{className:"e-model-header"}),i=t.createElement("h1",{className:"e-model-year"}),s=t.createElement("div"),a=t.createElement("span",{className:"e-model-day"}),n=t.createElement("span",{className:"e-model-month"});i.textContent=""+this.globalize.formatDate(this.value||new Date,{format:"y",skeleton:"dateTime"}),a.textContent=this.globalize.formatDate(this.value||new Date,{format:"E",skeleton:"dateTime"})+", ",n.textContent=""+this.globalize.formatDate(this.value||new Date,{format:"MMM d",skeleton:"dateTime"}),e.appendChild(i),s.appendChild(a),s.appendChild(n),e.appendChild(s),this.calendarElement.insertBefore(e,this.calendarElement.firstElementChild)},a.prototype.changeTrigger=function(e){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.changedArgs.value=this.value,this.changedArgs.event=this.changedArgs.e=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!t.isNullOrUndefined(e),this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=new Date(""+this.value))},a.prototype.navigatedEvent=function(){this.trigger("navigated",this.navigatedArgs)},a.prototype.changeEvent=function(e){this.selectCalendar(e),this.changedArgs.e=this.changedArgs.event=e,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!t.isNullOrUndefined(e),this.trigger("change",this.changedArgs),this.previousDate=this.value&&new Date(+this.value),this.hide(e),this.previousElementValue=this.inputElement.value,this.errorClass()},a.prototype.selectCalendar=function(e){var i,a;a="datetimepicker"===this.getModuleName()&&t.isNullOrUndefined(this.format)?this.dateTimeFormat:this.format,this.value&&(i="datetimepicker"===this.getModuleName()?this.globalize.formatDate(this.changedArgs.value,{format:a,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(this.changedArgs.value,{format:this.format,type:"dateTime",skeleton:"yMd"})),t.isNullOrUndefined(i)||s.Input.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton)},a.prototype.isCalendar=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+w))},a.prototype.setWidth=function(e){this.inputWrapper.container.style.width="number"==typeof e?t.formatUnit(this.width):"string"==typeof e?e.match(/px|%|em/)?this.width:t.formatUnit(this.width):"100%"},a.prototype.show=function(i,s){if(!(this.enabled&&this.readonly||!this.enabled||this.popupObj)){var a=!0,n=void 0;if(t.isNullOrUndefined(this.value)||+this.value>=+this.min&&+this.value<=+this.max?n=this.value||null:(n=new Date(""+this.value),this.setProperties({value:null},!0)),this.isCalendar()||(e.prototype.render.call(this),this.setProperties({value:n||null},!0),this.previousDate=n,this.createCalendar()),this.preventArgs={preventDefault:function(){a=!1},popup:this.popupObj,e:s||null,cancel:!1},this.trigger("open",this.preventArgs),a&&!this.preventArgs.cancel){t.addClass(this.inputWrapper.buttons,O),document.body.appendChild(this.popupObj.element),this.popupObj.refreshPosition(this.inputElement);var r={name:"FadeIn",duration:t.Browser.isDevice?0:300};this.popupObj.show(new t.Animation(r)),this.setAriaAttributes()}else t.detach(this.popupWrapper),this.popupObj.destroy(),this.popupWrapper=this.popupObj=null;t.EventHandler.add(document,"mousedown touchstart",this.documentHandler,this)}},a.prototype.hide=function(e){if(!t.isNullOrUndefined(this.popupWrapper)){var i=!0;this.preventArgs={preventDefault:function(){i=!1},popup:this.popupObj,e:e||null,cancel:!1},t.removeClass(this.inputWrapper.buttons,O),t.removeClass([document.body],M),this.isCalendar()&&this.trigger("close",this.preventArgs),this.isCalendar()&&i&&!this.preventArgs.cancel&&(this.popupObj.hide(),this.keyboardModule.destroy(),t.removeClass(this.inputWrapper.buttons,O)),this.setAriaAttributes(),this.previousElementValue=this.inputElement.value,t.Browser.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),t.EventHandler.remove(document,"mousedown touchstart",this.documentHandler)}},a.prototype.focusIn=function(e){if(document.activeElement!==this.inputElement&&this.enabled){this.inputElement.focus(),t.addClass([this.inputWrapper.container],[N]);var i={model:this};this.trigger("focus",i)}},a.prototype.focusOut=function(){if(document.activeElement===this.inputElement){this.inputElement.blur(),t.removeClass([this.inputWrapper.container],[N]);var e={model:this};this.trigger("blur",e)}},a.prototype.currentView=function(){var t;return this.calendarElement&&(t=e.prototype.currentView.call(this)),t},a.prototype.navigateTo=function(t,i){this.calendarElement&&e.prototype.navigateTo.call(this,t,i)},a.prototype.destroy=function(){e.prototype.destroy.call(this),this.keyboardModules.destroy(),this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&e.prototype.destroy.call(this);var i={"aria-live":"assertive","aria-atomic":"true","aria-disabled":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"};this.inputElement&&(s.Input.removeAttributes(i,this.inputElement),t.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),t.EventHandler.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute()),this.isCalendar()&&(this.popupWrapper&&t.detach(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.keyboardModule.destroy()),null===this.ngTag&&(this.inputElement&&(this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),t.removeClass([this.inputElement],["e-input"])),t.removeClass([this.element],[C]),t.detach(this.inputWrapper.container))},a.prototype.ensureInputAttribute=function(){for(var e=0;e<this.inputElement.attributes.length;e++){var i=this.inputElement.attributes[e].name;t.isNullOrUndefined(this.inputEleCopy.getAttribute(i))&&(("value"===i.toLowerCase()||t.isNullOrUndefined(this.inputEleCopy.getAttribute("value")))&&(this.inputElement.value=""),this.inputElement.removeAttribute(i))}},a.prototype.preRender=function(){this.inputEleCopy=this.element.cloneNode(!0),this.inputElement=this.element,this.index=this.showClearButton?2:1,this.ngTag=null,"EJS-DATEPICKER"!==this.element.tagName&&"EJS-DATETIMEPICKER"!==this.element.tagName||(this.ngTag=this.element.tagName,this.inputElement=t.createElement("input"),this.element.appendChild(this.inputElement)),this.element.getAttribute("id")?null!==this.ngTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):"datetimepicker"===this.getModuleName()?(this.element.id=t.getUniqueID("ej2-datetimepicker"),null!==this.ngTag&&t.attributes(this.inputElement,{id:this.element.id+"_input"})):(this.element.id=t.getUniqueID("ej2-datepicker"),null!==this.ngTag&&t.attributes(this.inputElement,{id:this.element.id+"_input"})),this.checkHtmlAttributes(),e.prototype.preRender.call(this)},a.prototype.checkHtmlAttributes=function(){this.globalize=new t.Internationalization(this.locale);var e;e="datetimepicker"===this.getModuleName()?{format:t.isNullOrUndefined(this.format)?this.dateTimeFormat:this.format,type:"dateTime",skeleton:"yMd"}:{format:this.format,type:"dateTime",skeleton:"yMd"};for(var i=0,s=["value","min","max","disabled","readonly","style","name","placeholder","type"];i<s.length;i++){var a=s[i];if(!t.isNullOrUndefined(this.inputElement.getAttribute(a)))switch(a){case"disabled":var n="disabled"===this.inputElement.getAttribute(a)||""===this.inputElement.getAttribute(a);this.setProperties({enabled:!n},!0);break;case"readonly":var r="readonly"===this.inputElement.getAttribute(a)||""===this.inputElement.getAttribute(a);this.setProperties({readonly:r},!0);break;case"placeholder":if(null===this.placeholder){this.inputElement.getAttribute(a);this.setProperties({placeholder:this.inputElement.getAttribute(a)},!0)}break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(a));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(a));break;case"value":if(!this.value){var l=this.inputElement.getAttribute(a);this.setProperties(t.setValue(a,this.globalize.parseDate(l,e),{}),!0)}break;case"min":+this.min==+new Date(1900,0,1)&&this.setProperties(t.setValue(a,this.globalize.parseDate(this.inputElement.getAttribute(a)),{}),!0);break;case"max":+this.max==+new Date(2099,11,31)&&this.setProperties(t.setValue(a,this.globalize.parseDate(this.inputElement.getAttribute(a)),{}),!0);break;case"type":"text"!==this.inputElement.getAttribute(a)&&this.inputElement.setAttribute("type","text")}}},a.prototype.getModuleName=function(){return"datepicker"},a.prototype.disabledDates=function(){var i=new Date(""+this.value),a=this.previousDate;this.minMaxUpdates(),e.prototype.render.call(this),this.previousDate=a;var n='*[id^="/id"]'.replace("/id",""+(i&&+i));this.strictMode||("string"==typeof this.value||"object"==typeof this.value&&+this.value!=+i)&&this.setProperties({value:i},!0),t.isNullOrUndefined(this.calendarElement.querySelectorAll(n)[0])||this.calendarElement.querySelectorAll(n)[0].classList.contains("e-disabled")&&(this.strictMode||(this.currentDate=new Date((new Date).setHours(0,0,0,0))));var r;r="datetimepicker"===this.getModuleName()?this.globalize.formatDate(i,{format:t.isNullOrUndefined(this.format)?this.dateTimeFormat:this.format,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(i,{format:this.format,type:"dateTime",skeleton:"yMd"}),s.Input.setValue(r,this.inputElement,this.floatLabelType,this.showClearButton)},a.prototype.setAriaAttributes=function(){this.isCalendar()?(s.Input.addAttributes({"aria-expanded":"true"},this.inputElement),t.attributes(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(s.Input.addAttributes({"aria-expanded":"false"},this.inputElement),t.attributes(this.inputElement,{"aria-activedescendant":"null"}))},a.prototype.errorClass=function(){var e='*[id^="/id"]'.replace("/id",""+ +this.value),i=this.calendarElement&&this.calendarElement.querySelectorAll(e)[0]&&this.calendarElement.querySelectorAll(e)[0].classList.contains("e-disabled");!t.isNullOrUndefined(this.value)&&!(+this.value>=+this.min&&+this.value<=+this.max)||!this.strictMode&&""!==this.inputElement.value&&t.isNullOrUndefined(this.value)||i?t.addClass([this.inputWrapper.container],"e-error"):t.removeClass([this.inputWrapper.container],"e-error")},a.prototype.onPropertyChanged=function(i,a){for(var n={format:this.format,type:"dateTime",skeleton:"yMd"},r=0,l=Object.keys(i);r<l.length;r++){switch(l[r]){case"value":"string"==typeof i.value&&(i.value=this.globalize.parseDate(i.value,n),this.setProperties({value:i.value},!0)),this.previousElementValue=this.inputElement.value,t.isNullOrUndefined(this.value)&&(s.Input.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.updateInput(),this.changeTrigger(null);break;case"format":this.updateInput();break;case"placeholder":s.Input.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":s.Input.setReadonly(this.readonly,this.inputElement);break;case"enabled":s.Input.setEnabled(this.enabled,this.inputElement),this.enabled?this.inputElement.setAttribute("aria-disabled","false"):this.inputElement.setAttribute("aria-disabled","true"),this.bindEvents();break;case"locale":this.globalize=new t.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),s.Input.setPlaceholder(this.placeholder,this.inputElement),this.updateInput();break;case"enableRtl":s.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"zIndex":this.setProperties({zIndex:i.zIndex},!0);break;case"cssClass":s.Input.setCssClass(i.cssClass,[this.inputWrapper.container]),this.popupWrapper&&t.addClass([this.popupWrapper],[i.cssClass]);break;case"showClearButton":s.Input.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"strictMode":this.updateInput();break;case"width":this.setWidth(i.width);break;case"floatLabelType":this.floatLabelType=i.floatLabelType,s.Input.removeFloating(this.inputWrapper),s.Input.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;default:this.calendarElement&&e.prototype.onPropertyChanged.call(this,i,a)}this.hide(null)}},E([t.Property(null)],a.prototype,"width",void 0),E([t.Property(null)],a.prototype,"cssClass",void 0),E([t.Property(!1)],a.prototype,"strictMode",void 0),E([t.Property(null)],a.prototype,"format",void 0),E([t.Property(!0)],a.prototype,"enabled",void 0),E([t.Property(!0)],a.prototype,"showClearButton",void 0),E([t.Property(!1)],a.prototype,"enablePersistence",void 0),E([t.Property(1e3)],a.prototype,"zIndex",void 0),E([t.Property(!1)],a.prototype,"readonly",void 0),E([t.Property(null)],a.prototype,"placeholder",void 0),E([t.Property("Never")],a.prototype,"floatLabelType",void 0),E([t.Event()],a.prototype,"open",void 0),E([t.Event()],a.prototype,"close",void 0),E([t.Event()],a.prototype,"blur",void 0),E([t.Event()],a.prototype,"focus",void 0),E([t.Event()],a.prototype,"created",void 0),E([t.Event()],a.prototype,"destroyed",void 0),a=E([t.NotifyPropertyChanges],a)}(D),x=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),I=function(e,t,i,s){var a,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},P="e-left-calendar",U="e-right-calendar",T="e-daterangepicker",V="e-active",H="e-start-date",A="e-end-date",W="e-input-focus",S="e-range-hover",L="e-other-month",B="e-start-label",j="e-end-label",F="e-disabled",R="e-selected",q="e-calendar",z="e-next",Y="e-prev",K="e-header",_="e-title",X="e-icon-container",J="e-date-range-container",Z="e-presets",G="e-focused-date",$="e-content",Q="e-day-span",ee="e-week-number",te="e-date-disabled",ie="e-icon-disabled",se="e-overlay",ae=n.cssClass.li,ne="e-hover",re="e-range-overflow",le=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return x(i,e),I([t.Property()],i.prototype,"label",void 0),I([t.Property()],i.prototype,"start",void 0),I([t.Property()],i.prototype,"end",void 0),i}(t.ChildProperty),oe=function(e){function r(t,i){var s=e.call(this,t,i)||this;return s.isCustomRange=!1,s.isCustomWindow=!1,s.presetsItem=[],s.liCollections=[],s.previousEleValue="",s.isKeyPopup=!1,s.dateDisabled=!1,s.isRangeIconClicked=!1,s.isMaxDaysClicked=!1,s.disabledDays=[],s.preventBlur=!1,s.preventFocus=!1,s}return x(r,e),r.prototype.render=function(){this.initialize()},r.prototype.preRender=function(){this.presetKeyConfig={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",tab:"tab",spaceBar:"space"},this.keyInputConfigs={altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",tab:"tab"},this.defaultConstant={placeholder:"",startLabel:"Start Date",endLabel:"End Date",customRange:"Custom Range",applyText:"Apply",cancelText:"Cancel",selectedDays:"Selected Days",days:"days"},this.isMobile=window.matchMedia("(max-width:550px)").matches,this.inputElement=this.element,this.angularTag=null,"EJS-DATERANGEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=t.createElement("input"),this.element.appendChild(this.inputElement)),this.cloneElement=this.element.cloneNode(!0),this.element.getAttribute("id")?null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):(this.element.id=t.getUniqueID("ej2-datetimepicker"),null!==this.angularTag&&t.attributes(this.inputElement,{id:this.element.id+"_input"})),this.initProperty(),e.prototype.preRender.call(this),this.navNextFunction=this.navNextMonth.bind(this),this.navPrevFunction=this.navPrevMonth.bind(this),this.deviceNavNextFunction=this.deviceNavNext.bind(this),this.deviceNavPrevFunction=this.deviceNavPrevious.bind(this),this.initStartDate=this.checkDateValue(this.startDate),this.initEndDate=this.checkDateValue(this.endDate)},r.prototype.updateValue=function(){var e={format:this.format,type:"date",skeleton:"yMd"};this.value&&this.value.length>0?(this.value[0]instanceof Date&&!isNaN(+this.value[0])?this.setProperties({startDate:this.value[0]},!0):"string"==typeof this.value[0]?this.setProperties({startDate:this.globalize.parseDate(""+this.value[0],e)},!0):(this.setProperties({startDate:null},!0),this.setValue()),this.value[1]instanceof Date&&!isNaN(+this.value[1])?this.setProperties({endDate:this.value[1]},!0):"string"==typeof this.value[1]?(this.setProperties({endDate:this.globalize.parseDate(""+this.value[1],e)},!0),this.setValue()):(this.setProperties({endDate:null},!0),this.setValue())):t.isNullOrUndefined(this.value)&&t.isNullOrUndefined(this.startDate)&&t.isNullOrUndefined(this.endDate)&&(this.setProperties({endDate:null},!0),this.setProperties({startDate:null},!0),this.setValue())},r.prototype.initProperty=function(){this.globalize=new t.Internationalization(this.locale),this.updateValue(),this.setProperties({value:null},!0)},r.prototype.initialize=function(){t.merge(this.keyConfigs,{shiftTab:"shift+tab"}),this.setProperties({startDate:this.checkDateValue(new Date(""+this.startDate))},!0),this.setProperties({endDate:this.checkDateValue(new Date(""+this.endDate))},!0),this.setValue(),this.setProperties({min:this.checkDateValue(new Date(""+this.min))},!0),this.setProperties({max:this.checkDateValue(new Date(""+this.max))},!0),this.checkHtmlAttributes(),this.l10n=new t.L10n("daterangepicker",this.defaultConstant,this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.processPresets(),this.createInput(),this.bindEvents()},r.prototype.processPresets=function(){var e=0;if(!t.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){for(var i=0,s=this.presets;i<s.length;i++){var a=s[i],n=a.label.replace(/\s+/g,"")+"_"+ ++e;"string"==typeof a.end&&"string"==typeof a.end?this.presetsItem.push({id:n,text:a.label,end:new Date(""+a.end),start:new Date(""+a.start)}):this.presetsItem.push({id:n,text:a.label,start:a.start,end:a.end})}var r=t.isNullOrUndefined(this.startDate)?null:new Date(+this.startDate),l=t.isNullOrUndefined(this.endDate)?null:new Date(+this.endDate);this.presetsItem.push({id:"custom_range",text:this.l10n.getConstant("customRange"),start:r,end:l}),t.isNullOrUndefined(this.startDate)||t.isNullOrUndefined(this.endDate)||(this.isCustomRange=!0,this.activeIndex=this.presetsItem.length-1)}},r.prototype.bindEvents=function(){this.enabled?(t.EventHandler.add(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler,this),t.EventHandler.add(this.inputElement,"focus",this.inputFocusHandler,this),t.EventHandler.add(this.inputElement,"blur",this.inputBlurHandler,this),t.EventHandler.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&t.EventHandler.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.isMobile||(this.inputKeyboardModule=new t.KeyboardEvents(this.inputElement,{eventName:"keydown",keyAction:this.inputHandler.bind(this),keyConfigs:this.keyInputConfigs}))):(t.EventHandler.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),t.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),t.EventHandler.remove(this.inputElement,"focus",this.inputFocusHandler),t.EventHandler.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&t.EventHandler.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.isMobile||t.isNullOrUndefined(this.inputKeyboardModule)||this.inputKeyboardModule.destroy())},r.prototype.inputChangeHandler=function(e){e.stopPropagation()},r.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&t.EventHandler.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},r.prototype.resetHandler=function(e){e.preventDefault(),this.clear(),this.changeTrigger(e),this.clearRange(),this.hide(e)},r.prototype.clear=function(){null!==this.startDate&&this.setProperties({startDate:null},!0),null!==this.endDate&&this.setProperties({endDate:null},!0),null!==this.value&&this.setProperties({value:null},!0),s.Input.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),t.isNullOrUndefined(this.applyButton)||(this.applyButton.disabled=this.applyButton.element.disabled=!0)},r.prototype.rangeIconHandler=function(e){e.preventDefault(),this.targetElement=null,this.effect="",this.isPopupOpen()?this.applyFunction(e):(this.isRangeIconClicked=!0,this.isMobile||this.inputWrapper.container.children[0].focus(),this.show(null,e),this.isMobile||(t.isNullOrUndefined(this.leftCalendar)||(this.isRangeIconClicked=!1,this.calendarFocus(),this.isRangeIconClicked=!0),t.addClass([this.inputWrapper.container],[W])))},r.prototype.checkHtmlAttributes=function(){this.globalize=new t.Internationalization(this.locale);var e;e=["startDate","endDate","minDays","maxDays","min","max","disabled","readonly","style","name","placeholder","type"];for(var i={format:this.format,type:"date",skeleton:"yMd"},s=0,a=e;s<a.length;s++){var n=a[s];if(!t.isNullOrUndefined(this.inputElement.getAttribute(n)))switch(n){case"disabled":var r="disabled"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n);this.setProperties({enabled:!r},!0);break;case"readonly":var l="readonly"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n);this.setProperties({readonly:l},!0);break;case"placeholder":(t.isNullOrUndefined(this.placeholder)||""===this.placeholder.trim())&&this.setProperties({placeholder:this.inputElement.getAttribute(n)},!0);break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(n));break;case"min":if(t.isNullOrUndefined(this.min)||+this.min==+new Date(1900,0,1)){var o=this.globalize.parseDate(this.inputElement.getAttribute(n),i);this.setProperties(t.setValue(n,o,{}),!0)}break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(n));break;case"max":if(t.isNullOrUndefined(this.max)||+this.max==+new Date(2099,11,31)){o=this.globalize.parseDate(this.inputElement.getAttribute(n),i);this.setProperties(t.setValue(n,o,{}),!0)}break;case"startDate":if(t.isNullOrUndefined(this.startDate)){o=this.globalize.parseDate(this.inputElement.getAttribute(n),i);this.setProperties(t.setValue(n,o,{}),!0),this.setValue()}break;case"endDate":if(t.isNullOrUndefined(this.endDate)){o=this.globalize.parseDate(this.inputElement.getAttribute(n),i);this.setProperties(t.setValue(n,o,{}),!0),this.setValue()}break;case"minDays":t.isNullOrUndefined(this.minDays)&&this.setProperties(t.setValue(n,parseInt(this.inputElement.getAttribute(n),10),{}),!0);break;case"maxDays":t.isNullOrUndefined(this.maxDays)&&this.setProperties(t.setValue(n,parseInt(this.inputElement.getAttribute(n),10),{}),!0);break;case"type":"text"!==this.inputElement.getAttribute(n)&&this.inputElement.setAttribute("type","text")}}},r.prototype.createPopup=function(){for(var e=0;e<this.presetsItem.length;e++)e!==this.presetsItem.length-1&&"custom_range"===this.presetsItem[e].id&&this.presetsItem.splice(e,1);this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0;for(e=0;e<=this.presetsItem.length-2;e++){var i=this.presetsItem[e].start,s=this.presetsItem[e].end;this.startDate&&this.endDate&&+i.setMilliseconds(0)==+this.startDate.setMilliseconds(0)&&+s.setMilliseconds(0)==+this.endDate.setMilliseconds(0)&&(this.activeIndex=e,this.isCustomRange=!1)}this.popupWrapper=t.createElement("div",{id:this.element.id+"_popup",className:T+" e-popup"});var a=!this.isCustomRange||this.isMobile;!t.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&a?(this.isCustomWindow=!1,this.createPresets(),document.body.appendChild(this.popupWrapper),this.listRippleEffect(),this.renderPopup()):(this.isCustomWindow=!0,this.renderControl())},r.prototype.renderControl=function(){this.createControl(),this.bindCalendarEvents(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),t.isNullOrUndefined(this.endDate)||t.isNullOrUndefined(this.startDate)||this.disabledDateRender(),this.updateHeader()},r.prototype.clearCalendarEvents=function(){t.EventHandler.clearEvents(this.leftCalPrevIcon),t.EventHandler.clearEvents(this.leftCalNextIcon),t.EventHandler.clearEvents(this.rightCalPrevIcon),t.EventHandler.clearEvents(this.rightCalNextIcon)},r.prototype.updateNavIcons=function(){this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.leftCalNextIcon,this.nextIconHandler(this.compareMonths(new Date(""+this.leftCalCurrentDate),this.rightCalCurrentDate)<1),this.previousIconHandler(this.compareMonths(new Date(""+this.leftCalCurrentDate),this.rightCalCurrentDate)<1)},r.prototype.calendarIconEvent=function(){this.clearCalendarEvents(),this.leftCalPrevIcon&&!this.leftCalPrevIcon.classList.contains(F)&&t.EventHandler.add(this.leftCalPrevIcon,"mousedown",this.navPrevFunction),this.leftCalNextIcon&&!this.leftCalNextIcon.classList.contains(F)&&t.EventHandler.add(this.leftCalNextIcon,"mousedown",this.navNextFunction),this.rightCalPrevIcon&&!this.rightCalPrevIcon.classList.contains(F)&&t.EventHandler.add(this.rightCalPrevIcon,"mousedown",this.navPrevFunction),this.rightCalNextIcon&&!this.rightCalNextIcon.classList.contains(F)&&t.EventHandler.add(this.rightCalNextIcon,"mousedown",this.navNextFunction)},r.prototype.bindCalendarEvents=function(){this.isMobile?(this.deviceCalendarEvent(),t.EventHandler.add(this.startButton.element,"click",this.deviceHeaderClick,this),t.EventHandler.add(this.endButton.element,"click",this.deviceHeaderClick,this)):(this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.headerTitleElement=this.popupObj.element.querySelector("."+U+" ."+K+" ."+_),this.headerTitleElement=this.popupObj.element.querySelector("."+P+" ."+K+" ."+_),this.leftKeyboardModule=new t.KeyboardEvents(this.leftCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.keyConfigs}),this.rightKeyboardModule=new t.KeyboardEvents(this.rightCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.keyConfigs})),this.bindCalendarCellEvents(),this.removeFocusedDate()},r.prototype.calendarIconRipple=function(){t.rippleEffect(this.leftCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),t.rippleEffect(this.leftCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),t.rippleEffect(this.rightCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),t.rippleEffect(this.rightCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0})},r.prototype.deviceCalendarEvent=function(){t.EventHandler.clearEvents(this.nextIcon),t.EventHandler.clearEvents(this.previousIcon),t.rippleEffect(this.nextIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),t.rippleEffect(this.previousIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),this.nextIcon&&!this.nextIcon.classList.contains(F)&&t.EventHandler.add(this.nextIcon,"mousedown",this.deviceNavNextFunction),this.previousIcon&&!this.previousIcon.classList.contains(F)&&t.EventHandler.add(this.previousIcon,"mousedown",this.deviceNavPrevFunction)},r.prototype.deviceNavNext=function(e){var i=t.closest(e.target,"."+q);this.updateDeviceCalendar(i),this.navigateNext(e),this.deviceNavigation()},r.prototype.deviceNavPrevious=function(e){var i=t.closest(e.target,"."+q);this.updateDeviceCalendar(i),this.navigatePrevious(e),this.deviceNavigation()},r.prototype.updateDeviceCalendar=function(e){e&&(this.previousIcon=e.querySelector("."+Y),this.nextIcon=e.querySelector("."+z),this.calendarElement=e,this.deviceCalendar=e,this.contentElement=e.querySelector("."+$),this.tableBodyElement=t.select("."+$+" tbody",e),this.table=e.querySelector("."+$).getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector(".e-header ."+_),this.headerElement=e.querySelector("."+K))},r.prototype.deviceHeaderClick=function(e){if(e.currentTarget.classList.contains("e-start-btn")&&!t.isNullOrUndefined(this.startDate)){this.endButton.element.classList.remove(V),this.startButton.element.classList.add(V);var i=this.popupObj.element.querySelector("."+q);this.updateDeviceCalendar(i),t.isNullOrUndefined(this.calendarElement.querySelector("."+H+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.startDate),t.remove(this.tableBodyElement),this.renderMonths(),this.deviceNavigation()),this.removeClassDisabled()}else if(!t.isNullOrUndefined(this.startDate)&&!t.isNullOrUndefined(this.endDate)){this.startButton.element.classList.remove(V),this.endButton.element.classList.add(V);i=this.popupObj.element.querySelector("."+q);this.updateDeviceCalendar(i),t.isNullOrUndefined(this.calendarElement.querySelector("."+A+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.endDate),t.remove(this.tableBodyElement),this.renderMonths(),this.deviceNavigation()),this.updateMinMaxDays(this.popupObj.element.querySelector("."+q)),this.selectableDates()}},r.prototype.inputFocusHandler=function(){this.preventBlur=!1;var e={model:this};this.preventFocus||this.trigger("focus",e)},r.prototype.inputBlurHandler=function(e){if(!this.preventBlur){var i=this.inputElement.value;if(t.isNullOrUndefined(this.presetsItem)||this.presetsItem.length>0&&this.previousEleValue!==this.inputElement.value&&(this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0),!t.isNullOrUndefined(i)&&""!==i.trim()){var a=i.split(" "+this.separator+" ");if(a.length>1){var n={format:this.format,type:"date",skeleton:"yMd"},r=this.globalize.parseDate(a[0].trim(),n),l=this.globalize.parseDate(a[1].trim(),n);if(!(t.isNullOrUndefined(r)||isNaN(+r)||t.isNullOrUndefined(l)||isNaN(+l))){if(this.setProperties({startDate:r},!0),this.setProperties({endDate:l},!0),this.setValue(),this.refreshControl(),this.changeTrigger(e),!this.preventBlur&&document.activeElement!==this.inputElement){this.preventFocus=!1;var o={model:this};this.trigger("blur",o)}return}this.strictMode||(this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.setValue())}else this.strictMode||(this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.setValue())}if(this.strictMode?(s.Input.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.updateInput()):(this.clearRange(),this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.setValue()),this.errorClass(),this.changeTrigger(e),!this.preventBlur&&document.activeElement!==this.inputElement){this.preventFocus=!1;o={model:this};this.trigger("blur",o)}}},r.prototype.clearRange=function(){this.previousStartValue=this.previousEndValue=null,this.currentDate=null},r.prototype.errorClass=function(){var e=this.inputElement.value.trim();""!==e&&(t.isNullOrUndefined(this.endDate)&&t.isNullOrUndefined(this.startDate)&&""!==e||!t.isNullOrUndefined(this.startDate)&&+this.startDate<+this.min||!t.isNullOrUndefined(this.startDate)&&!t.isNullOrUndefined(this.endDate)&&+this.startDate>+this.endDate||!t.isNullOrUndefined(this.endDate)&&+this.endDate>+this.max||this.startDate&&this.isDateDisabled(this.startDate)||this.endDate&&this.isDateDisabled(this.endDate))?(t.addClass([this.inputWrapper.container],"e-error"),t.attributes(this.inputElement,{"aria-invalid":"true"})):this.inputWrapper&&(t.removeClass([this.inputWrapper.container],"e-error"),t.attributes(this.inputElement,{"aria-invalid":"false"}))},r.prototype.keyCalendarUpdate=function(e,t){return this.removeFocusedDate(),e?(this.leftCalCurrentDate=new Date(+this.currentDate),t=this.leftCalendar):(this.rightCalCurrentDate=new Date(+this.currentDate),t=this.rightCalendar),this.updateCalendarElement(t),this.table.focus(),t},r.prototype.navInCalendar=function(e,i,s,a,n){var r,l,o=this.min;switch(l=t.isNullOrUndefined(this.maxDays)||!this.isMaxDaysClicked||t.isNullOrUndefined(this.startDate)?this.max:new Date(new Date(+this.startDate).setDate(this.startDate.getDate()+(this.maxDays-1))),e.action){case"moveRight":r=new Date(+this.currentDate),this.addDay(r,1,e,l,o),i&&+r==+a&&(n=this.keyCalendarUpdate(!1,n)),this.KeyboardNavigate(1,0,e,l,o),this.keyNavigation(n,e);break;case"moveLeft":r=new Date(+this.currentDate),this.addDay(r,-1,e,l,o),i||+r!=+s||(n=this.keyCalendarUpdate(!0,n)),this.KeyboardNavigate(-1,0,e,l,o),this.keyNavigation(n,e);break;case"moveUp":r=new Date(+this.currentDate),this.addDay(r,-7,e,l,o),!i&&+r<=+s&&(n=this.keyCalendarUpdate(!0,n)),this.KeyboardNavigate(-7,0,e,l,o),this.keyNavigation(n,e);break;case"moveDown":r=new Date(+this.currentDate),this.addDay(r,7,e,l,o),i&&+r>=+a&&(n=this.keyCalendarUpdate(!1,n)),this.KeyboardNavigate(7,0,e,l,o),this.keyNavigation(n,e);break;case"home":this.currentDate=this.firstDay(this.currentDate),t.remove(this.tableBodyElement),this.renderMonths(),this.keyNavigation(n,e);break;case"end":this.currentDate=this.lastDay(this.currentDate),t.remove(this.tableBodyElement),this.renderMonths(),this.keyNavigation(n,e)}},r.prototype.keyInputHandler=function(e){var i,s=new Date(this.rightCalCurrentDate.getFullYear(),this.rightCalCurrentDate.getMonth(),1),a=new Date(this.leftCalCurrentDate.getFullYear(),this.leftCalCurrentDate.getMonth()+1,0),n=t.closest(e.target,"."+U),r=(n=t.isNullOrUndefined(n)?this.leftCalendar:n).classList.contains(P);this.updateCalendarElement(n);var l=n.querySelector("tr td."+G),o=n.querySelector("tr td."+H),h=n.querySelector("tr td."+A);switch(t.isNullOrUndefined(l)?t.isNullOrUndefined(h)||this.dateDisabled?t.isNullOrUndefined(o)||this.dateDisabled?this.dateDisabled||this.currentDate.setDate(1):this.currentDate=new Date(+this.startDate):this.currentDate=new Date(+this.endDate):this.currentDate=this.currentDate,this.effect="",e.action){case"altUpArrow":this.isPopupOpen()&&(this.hide(e),this.preventFocus=!0,this.isMobile||(this.inputElement.focus(),t.addClass([this.inputWrapper.container],[W])));break;case"select":var p=t.isNullOrUndefined(l)?o:l;t.isNullOrUndefined(p)||p.classList.contains(F)||this.selectRange(e,p),e.preventDefault();break;case"controlHome":var u=new Date(this.currentDate.getFullYear(),0,1);!r&&+u<+a&&(n=this.keyCalendarUpdate(!0,n)),this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),this.keyNavigation(n,e);break;case"controlEnd":u=new Date(this.currentDate.getFullYear(),11,31),r&&+u>+s&&(n=this.keyCalendarUpdate(!1,n)),this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),this.keyNavigation(n,e);break;case"pageUp":i=new Date(+this.currentDate),this.addMonths(i,-1),!r&&+i<=+a&&(n=this.keyCalendarUpdate(!0,n)),this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),this.keyNavigation(n,e);break;case"pageDown":i=new Date(+this.currentDate),this.addMonths(i,1),r&&+i>=+s&&(n=this.keyCalendarUpdate(!1,n)),this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),this.keyNavigation(n,e);break;case"shiftPageUp":i=new Date(+this.currentDate),this.addYears(i,-1),!r&&+i<=+a&&(n=this.keyCalendarUpdate(!0,n)),this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),this.keyNavigation(n,e);break;case"shiftPageDown":i=new Date(+this.currentDate),this.addYears(i,1),r&&+i>=+s&&(n=this.keyCalendarUpdate(!1,n)),this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),this.keyNavigation(n,e);break;case"shiftTab":t.isNullOrUndefined(this.presetElement)||(this.presetElement.setAttribute("tabindex","0"),this.presetElement.focus(),this.removeFocusedDate()),e.preventDefault();break;case"spaceBar":this.applyButton&&!this.applyButton.disabled&&this.applyFunction(e);break;default:this.navInCalendar(e,r,a,s,n),this.checkMinMaxDays()}this.presetHeight()},r.prototype.keyNavigation=function(e,t){this.bindCalendarCellEvents(e),e.classList.contains(P)?this.leftCalCurrentDate=new Date(+this.currentDate):this.rightCalCurrentDate=new Date(+this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),this.updateRange([e]),this.dateDisabled=this.isDateDisabled(this.currentDate),t.preventDefault()},r.prototype.inputHandler=function(e){switch(e.action){case"altDownArrow":this.isPopupOpen()||(this.show(null,e),this.isRangeIconClicked=!1,this.isMobile||t.isNullOrUndefined(this.leftCalendar)||this.calendarFocus(),this.isKeyPopup=!0);break;case"escape":this.isPopupOpen()&&this.hide(e);break;case"enter":document.activeElement===this.inputElement&&(this.inputBlurHandler(e),this.hide(e));break;case"tab":document.activeElement===this.inputElement&&this.isPopupOpen()&&(this.hide(e),e.preventDefault())}},r.prototype.bindCalendarCellEvents=function(e){for(var i=0,s=e?e.querySelectorAll("."+q+" td"):this.popupObj.element.querySelectorAll("."+q+" td");i<s.length;i++){var a=s[i];t.EventHandler.clearEvents(a);a.classList.contains(F)||a.classList.contains(te)||a.classList.contains(ee)||(t.EventHandler.add(a,"mousedown",this.selectRange,this),this.isMobile||t.EventHandler.add(a,"mouseover",this.hoverSelection,this))}},r.prototype.removeFocusedDate=function(){var e,i=!t.isNullOrUndefined(this.startDate)||!t.isNullOrUndefined(this.endDate);if(e=this.popupObj.element.querySelectorAll("."+q+" ."+G),this.leftCalendar&&this.leftCalendar.querySelector(".e-content").classList.contains("e-month")&&this.rightCalendar&&this.rightCalendar.querySelector(".e-content").classList.contains("e-month")||this.calendarElement&&this.calendarElement.querySelector(".e-content").classList.contains("e-month"))for(var s=0,a=e;s<a.length;s++){var n=a[s];(!n.classList.contains("e-today")||n.classList.contains("e-today")&&i)&&(n.classList.remove(G),n.classList.contains(H)||n.classList.contains(A)||n.removeAttribute("aria-label"))}},r.prototype.hoverSelection=function(e,i){var s=i||e.currentTarget,a=this.getIdValue(null,s);if((!t.isNullOrUndefined(this.startDate)&&+this.startDate>=+this.min&&+this.startDate<=+this.max||!t.isNullOrUndefined(this.endDate)&&+this.endDate>=+this.min&&+this.endDate<=+this.max)&&(!this.isDateDisabled(this.endDate)&&!this.isDateDisabled(this.startDate)&&t.isNullOrUndefined(this.startDate)&&t.isNullOrUndefined(this.endDate)||!t.isNullOrUndefined(this.startDate)&&t.isNullOrUndefined(this.endDate)))for(var n=0,r=this.popupObj.element.querySelectorAll("."+q+" td");n<r.length;n++){var l=r[n],o=!l.classList.contains(F)||l.classList.contains(te);if(!l.classList.contains(ee)&&o){var h=this.getIdValue(null,l),p=new Date(+this.startDate);new Date(+h).setHours(0,0,0,0)>=p.setHours(0,0,0,0)&&+h<=+a?t.addClass([l],S):t.removeClass([l],[S])}}},r.prototype.updateRange=function(e){if(!t.isNullOrUndefined(this.startDate))for(var i=0,s=e;i<s.length;i++)for(var a=0,n=s[i].querySelectorAll("."+q+" td");a<n.length;a++){var r=n[a];if(!r.classList.contains(ee)&&!r.classList.contains(F)){var l=this.getIdValue(null,r);if(t.isNullOrUndefined(this.endDate)?t.removeClass([r],[S]):+l>=+this.startDate&&+l<=+this.endDate&&+this.startDate!=+this.endDate&&+this.startDate>=+this.min&&+this.endDate<=+this.max&&!this.isDateDisabled(this.startDate)&&!this.isDateDisabled(this.endDate)&&t.addClass([r],S),!r.classList.contains(L)){var o=new Date(+this.startDate),h=new Date(+l);h.setHours(0,0,0,0)===o.setHours(0,0,0,0)&&h.setHours(0,0,0,0)>=o.setHours(0,0,0,0)&&+this.startDate>=+this.min&&(!this.inputWrapper.container.classList.contains("e-error")||this.startDate)&&!(this.startDate&&this.isDateDisabled(this.startDate)||this.endDate&&this.isDateDisabled(this.endDate))&&(t.addClass([r],[H,R,S]),this.addSelectedAttributes(r,this.startDate,!0)),!(!t.isNullOrUndefined(this.endDate)&&+l==+this.endDate&&+l<=+this.endDate&&+this.startDate>=+this.min)||this.inputWrapper.container.classList.contains("e-error")&&!this.endDate||this.isDateDisabled(this.startDate)||this.isDateDisabled(this.endDate)||(t.addClass([r],[A,R]),this.addSelectedAttributes(r,this.endDate,!1)),+l!=+this.startDate||t.isNullOrUndefined(this.endDate)||+l!=+this.endDate||this.addSelectedAttributes(r,this.endDate,!1,!0)}}}},r.prototype.checkMinMaxDays=function(){(!t.isNullOrUndefined(this.minDays)&&this.minDays>0||!t.isNullOrUndefined(this.maxDays)&&this.maxDays>0)&&(this.isMobile?this.updateMinMaxDays(this.popupObj.element.querySelector("."+q)):(this.updateMinMaxDays(this.popupObj.element.querySelector("."+P)),this.updateMinMaxDays(this.popupObj.element.querySelector("."+U))))},r.prototype.rangeArgs=function(e){var i,s,a=t.isNullOrUndefined(this.startDate)?null:this.globalize.formatDate(this.startDate,{format:this.format,type:"date",skeleton:"yMd"}),n=t.isNullOrUndefined(this.endDate)?null:this.globalize.formatDate(this.endDate,{format:this.format,type:"date",skeleton:"yMd"});t.isNullOrUndefined(this.endDate)||t.isNullOrUndefined(this.startDate)?(i="",s=0):(i=a+" "+this.separator+" "+n,s=Math.round(Math.abs((this.startDate.getTime()-this.endDate.getTime())/864e5))+1);return{value:this.value,startDate:this.startDate,endDate:this.endDate,daySpan:s,event:e||null,element:this.element,isInteracted:!t.isNullOrUndefined(e),text:i}},r.prototype.otherMonthSelect=function(e,i,s){var a=+this.getIdValue(null,e),n='*[id^="/id"]:not(.e-other-month)'.replace("/id",""+a),r=this.popupObj.element.querySelector(n);t.isNullOrUndefined(r)||(i?(t.addClass([r],[H,R]),this.addSelectedAttributes(r,this.startDate,!0)):(t.addClass([r],[A,R]),this.addSelectedAttributes(r,this.endDate,!0)),s&&this.addSelectedAttributes(e,this.endDate,!1,!0))},r.prototype.selectRange=function(e,i){e.preventDefault();var s;s=e instanceof MouseEvent?this.getIdValue(e,null):this.getIdValue(null,i),t.isNullOrUndefined(this.endDate)||t.isNullOrUndefined(this.startDate)?this.isMobile&&this.startButton.element.classList.contains(V)&&this.removeSelection():(!this.isMobile||this.isMobile&&!this.endButton.element.classList.contains(V))&&this.removeSelection();var a=i||e.currentTarget;if(t.isNullOrUndefined(this.startDate))t.isNullOrUndefined(this.previousStartValue)||(s.setHours(this.previousStartValue.getHours()),s.setMinutes(this.previousStartValue.getMinutes()),s.setSeconds(this.previousStartValue.getSeconds())),this.setProperties({startDate:new Date(""+s)},!0),this.setProperties({endDate:null},!0),this.setValue(),t.addClass([a],H),this.addSelectedAttributes(a,this.startDate,!0),a.classList.contains(L)&&this.otherMonthSelect(a,!0),this.checkMinMaxDays(),this.applyButton.disabled=!0,this.applyButton.element.disabled=!0,this.isMobile&&(this.endButton.element.classList.add(V),this.startButton.element.classList.remove(V),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),this.trigger("select",this.rangeArgs(e));else if(+s==+this.startDate||+s>+this.startDate){if(+s==+this.startDate&&!t.isNullOrUndefined(this.minDays)&&this.minDays>1)return;this.setProperties({endDate:null},!0),this.setValue(),(this.isMobile||i)&&this.hoverSelection(e,i),t.isNullOrUndefined(this.previousEndValue)||(s.setHours(this.previousEndValue.getHours()),s.setMinutes(this.previousEndValue.getMinutes()),s.setSeconds(this.previousEndValue.getSeconds())),this.setProperties({endDate:new Date(""+s)},!0),this.setValue();var n=this.popupObj.element.querySelectorAll("."+A);if(this.isMobile){this.startButton.element.classList.remove(V),this.endButton.element.classList.add(V);for(var r=0,l=n;r<l.length;r++){var o=l[r];o.removeAttribute("aria-label"),o.classList.contains(H)?(this.addSelectedAttributes(o,this.startDate,!0),t.removeClass([o],[A])):(o.setAttribute("aria-selected","false"),t.removeClass([o],[A,R]))}}t.addClass([a],A),+this.endDate==+this.startDate?this.addSelectedAttributes(a,this.endDate,!1,!0):this.addSelectedAttributes(a,this.endDate,!1),a.classList.contains(L)&&(+this.endDate==+this.startDate?this.otherMonthSelect(a,!1,!0):this.otherMonthSelect(a,!1));for(var h=0,p=n=this.popupObj.element.querySelectorAll("."+A);h<p.length;h++){var u=p[h];u.classList.contains(H)&&t.removeClass([u],[S])}this.applyButton.disabled=!1,this.applyButton.element.disabled=!1,this.isMobile||this.removeClassDisabled(),this.disabledDateRender(),this.trigger("select",this.rangeArgs(e))}else+s<+this.startDate&&(this.removeClassDisabled(),this.setProperties({startDate:new Date(""+s)},!0),this.setValue(),this.removeSelectedAttributes(),t.removeClass(this.popupObj.element.querySelectorAll("."+H),[H,R]),t.addClass([a],H),this.addSelectedAttributes(a,this.startDate,!0),a.classList.contains(L)&&this.otherMonthSelect(a,!0),this.checkMinMaxDays());t.addClass([a],R),this.updateHeader(),this.removeFocusedDate()},r.prototype.selectableDates=function(){if(!t.isNullOrUndefined(this.startDate)){var e=this.calendarElement.querySelectorAll("."+q+" td"),i=!1;if("Month"===this.currentView()){for(var s=0,a=e;s<a.length;s++){if(!(l=a[s]).classList.contains(H)&&!l.classList.contains(ee)&&!l.classList.contains(F)){if(+this.getIdValue(null,l)<+this.startDate){t.addClass([l],[te,F,se]),t.EventHandler.clearEvents(l);continue}break}if(l.classList.contains(H)&&!l.classList.contains(L)){i=!0;break}}i&&(this.previousIcon.classList.contains(F)||t.addClass([this.previousIcon],[ie,F,se]))}else{for(var n=0,r=e;n<r.length;n++){var l=r[n],o=this.startDate.getMonth(),h=this.startDate.getFullYear(),p=this.getIdValue(null,l);if(this.startButton.element.classList.contains(V)||!("Year"===this.currentView()&&p.getMonth()<o||"Decade"===this.currentView()&&p.getFullYear()<h))break;t.addClass([l],[F])}e[0].classList.contains(F)?this.previousIconHandler(!0):e[e.length-1].classList.contains(F)&&this.nextIconHandler(!0)}}},r.prototype.updateMinMaxDays=function(e){if(t.isNullOrUndefined(this.startDate)||!t.isNullOrUndefined(this.endDate)&&!this.isMobile)this.isMaxDaysClicked=!1;else if(!t.isNullOrUndefined(this.minDays)&&this.minDays>0||!t.isNullOrUndefined(this.maxDays)&&this.maxDays>0){var i=new Date(new Date(+this.startDate).setDate(this.startDate.getDate()+(this.minDays-1))),s=new Date(new Date(+this.startDate).setDate(this.startDate.getDate()+(this.maxDays-1)));i=!t.isNullOrUndefined(this.minDays)&&this.minDays>0?i:null,s=!t.isNullOrUndefined(this.maxDays)&&this.maxDays>0?s:null;for(var a=void 0,n=0,r=e.querySelectorAll("."+q+" td");n<r.length;n++){var l=r[n];if(!l.classList.contains(H)&&!l.classList.contains(ee)){var o=this.getIdValue(null,l);if(!t.isNullOrUndefined(i)&&+o==+i&&l.classList.contains(F)&&i.setDate(i.getDate()+1),!l.classList.contains(F)){if(+o<=+this.startDate)continue;!t.isNullOrUndefined(i)&&+o<+i&&(t.addClass([l],[te,F,se]),t.EventHandler.clearEvents(l)),!t.isNullOrUndefined(s)&&+o>+s&&(t.addClass([l],[te,F,se]),this.isMaxDaysClicked=!0,t.EventHandler.clearEvents(l),t.isNullOrUndefined(a)&&!l.classList.contains(L)&&(a=l))}}}if(!t.isNullOrUndefined(a))if(this.isMobile)this.nextIcon.classList.contains(F)||t.addClass([this.nextIcon],[ie,F,se]);else{var h=t.closest(a,"."+U);(h=t.isNullOrUndefined(h)?this.leftCalendar:h).classList.contains(P)?(this.rightCalNextIcon.classList.contains(F)||t.addClass([this.rightCalNextIcon],[ie,F,se]),this.leftCalNextIcon.classList.contains(F)||t.addClass([this.leftCalNextIcon],[ie,F,se]),this.rightCalPrevIcon.classList.contains(F)||t.addClass([this.rightCalPrevIcon],[ie,F,se])):this.rightCalNextIcon.classList.contains(F)||t.addClass([this.rightCalNextIcon],[ie,F,se])}}},r.prototype.removeClassDisabled=function(){for(var e=0,i=this.popupObj.element.querySelectorAll("."+q+" td."+te);e<i.length;e++){var s=i[e];s.classList.contains(te)&&(t.removeClass([s],[te,F,se]),t.EventHandler.add(s,"click",this.selectRange,this),this.isMobile||t.EventHandler.add(s,"mouseover",this.hoverSelection,this))}this.isMobile?(this.nextIcon.classList.contains(ie)&&t.removeClass([this.nextIcon],[ie,F,se]),this.previousIcon.classList.contains(ie)&&t.removeClass([this.previousIcon],[ie,F,se])):(this.rightCalNextIcon.classList.contains(ie)&&t.removeClass([this.rightCalNextIcon],[ie,F,se]),this.rightCalPrevIcon.classList.contains(ie)&&t.removeClass([this.rightCalPrevIcon],[ie,F,se]),this.leftCalNextIcon.classList.contains(ie)&&t.removeClass([this.leftCalNextIcon],[ie,F,se]))},r.prototype.updateHeader=function(){var e={type:"date",skeleton:"yMMMd"};if(t.isNullOrUndefined(this.endDate)||t.isNullOrUndefined(this.startDate))this.popupObj.element.querySelector("."+Q).textContent=this.l10n.getConstant("selectedDays");else{var i=Math.round(Math.abs((this.startDate.getTime()-this.endDate.getTime())/864e5))+1;t.isNullOrUndefined(this.disabledDayCnt)||(i-=this.disabledDayCnt,this.disabledDayCnt=null),this.popupObj.element.querySelector("."+Q).textContent=i.toString()+" "+this.l10n.getConstant("days")}this.isMobile?(t.isNullOrUndefined(this.startDate)?this.startButton.element.textContent=this.l10n.getConstant("startLabel"):this.startButton.element.textContent=this.globalize.formatDate(this.startDate,e),t.isNullOrUndefined(this.endDate)||t.isNullOrUndefined(this.startDate)?this.endButton.element.textContent=this.l10n.getConstant("endLabel"):this.endButton.element.textContent=this.globalize.formatDate(this.endDate,e)):(t.isNullOrUndefined(this.endDate)||t.isNullOrUndefined(this.startDate)?this.popupObj.element.querySelector("."+j).textContent=this.l10n.getConstant("endLabel"):this.popupObj.element.querySelector("."+j).textContent=this.globalize.formatDate(this.endDate,e),t.isNullOrUndefined(this.startDate)?this.popupObj.element.querySelector("."+B).textContent=this.l10n.getConstant("startLabel"):this.popupObj.element.querySelector("."+B).textContent=this.globalize.formatDate(this.startDate,e)),(!t.isNullOrUndefined(this.startDate)&&+this.startDate<+this.min||!t.isNullOrUndefined(this.startDate)&&!t.isNullOrUndefined(this.endDate)&&+this.startDate>+this.endDate||!t.isNullOrUndefined(this.endDate)&&+this.endDate>+this.max||this.isDateDisabled(this.startDate)||this.isDateDisabled(this.endDate))&&(this.isMobile?(this.startButton.element.textContent=this.l10n.getConstant("startLabel"),this.endButton.element.textContent=this.l10n.getConstant("endLabel"),this.popupObj.element.querySelector("."+Q).textContent=this.l10n.getConstant("selectedDays")):(this.popupObj.element.querySelector("."+Q).textContent=this.l10n.getConstant("selectedDays"),this.popupObj.element.querySelector("."+B).textContent=this.l10n.getConstant("startLabel"),this.popupObj.element.querySelector("."+j).textContent=this.l10n.getConstant("endLabel")))},r.prototype.removeSelection=function(){this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.setValue(),this.removeSelectedAttributes(),this.popupObj.element.querySelectorAll("."+R).length>0&&t.removeClass(this.popupObj.element.querySelectorAll("."+R),[H,A,R]),this.popupObj.element.querySelectorAll("."+G).length>0&&t.removeClass(this.popupObj.element.querySelectorAll("."+G),G),this.popupObj.element.querySelectorAll("."+S).length>0&&t.removeClass(this.popupObj.element.querySelectorAll("."+S),[S])},r.prototype.addSelectedAttributes=function(e,i,s,a){if(e){var n=this.globalize.formatDate(i,{type:"date",skeleton:"full"});!t.isNullOrUndefined(a)&&a?e.setAttribute("aria-label","The current start and end date is "+n):e.setAttribute("aria-label","The current "+(s?"start":"end")+" date is "+n),e.setAttribute("aria-selected","true")}},r.prototype.removeSelectedAttributes=function(){for(var e=0,t=this.popupObj.element.querySelectorAll("."+H);e<t.length;e++){(a=t[e]).setAttribute("aria-selected","false"),a.removeAttribute("aria-label")}for(var i=0,s=this.popupObj.element.querySelectorAll("."+A);i<s.length;i++){var a;(a=s[i]).setAttribute("aria-selected","false"),a.removeAttribute("aria-label")}},r.prototype.updateCalendarElement=function(e){e.classList.contains(P)?(this.calendarElement=this.leftCalendar,this.currentDate=this.leftCalCurrentDate,this.previousIcon=this.leftCalPrevIcon,this.nextIcon=this.leftCalNextIcon):(this.calendarElement=this.rightCalendar,this.currentDate=this.rightCalCurrentDate,this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.rightCalNextIcon),this.contentElement=e.querySelector("."+$),this.tableBodyElement=t.select("."+$+" tbody",e),this.table=e.querySelector("."+$).getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector(".e-header ."+_),this.headerElement=e.querySelector("."+K)},r.prototype.navPrevMonth=function(e){e.preventDefault();var i=t.closest(e.target,"."+P);i=t.isNullOrUndefined(i)?t.closest(e.target,"."+U):i,this.updateCalendarElement(i),this.navigatePrevious(e),!t.isNullOrUndefined(this.startDate)&&t.isNullOrUndefined(this.endDate)&&this.updateMinMaxDays(i),this.updateControl(i)},r.prototype.deviceNavigation=function(e){this.deviceCalendarEvent(),this.updateRange([this.popupObj.element.querySelector("."+q)]),!t.isNullOrUndefined(this.endDate)&&this.endButton.element.classList.contains(V)&&this.updateMinMaxDays(this.popupObj.element.querySelector("."+q)),this.endButton.element.classList.contains(V)&&this.selectableDates(),"Month"===this.currentView()&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.popupObj.refreshPosition(this.inputElement),this.popupObj.show()},r.prototype.updateControl=function(e){e.classList.contains(U)?this.rightCalCurrentDate=new Date(+this.currentDate):this.leftCalCurrentDate=new Date(+this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),(this.leftCalendar.querySelector(".e-content").classList.contains("e-month")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-month")||this.isMobile)&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange([e]),this.presetHeight(),this.isMobile||this.enableRtl||(this.popupObj.offsetX=-this.popupWrapper.getBoundingClientRect().width,this.popupObj.show())},r.prototype.navNextMonth=function(e){e.preventDefault();var i=t.closest(e.target,"."+P);i=t.isNullOrUndefined(i)?t.closest(e.target,"."+U):i,this.updateCalendarElement(i),this.navigateNext(e),!t.isNullOrUndefined(this.startDate)&&t.isNullOrUndefined(this.endDate)&&this.updateMinMaxDays(i),this.updateControl(i)},r.prototype.compareMonths=function(e,t){return"Year"!==this.currentView()&&"Decade"!==this.currentView()||e.getFullYear()!==t.getFullYear()?e.getFullYear()>t.getFullYear()?-1:e.getFullYear()<t.getFullYear()?e.getFullYear()+1===t.getFullYear()&&11===e.getMonth()&&0===t.getMonth()?-1:1:e.getMonth()===t.getMonth()?0:e.getMonth()+1===t.getMonth()?-1:1:-1},r.prototype.isPopupOpen=function(){return!(t.isNullOrUndefined(this.popupObj)||!this.popupObj.element.classList.contains("e-popup"))},r.prototype.createRangeHeader=function(){var e=t.createElement("div",{className:"e-start-end"});if(this.isMobile){var i=t.createElement("button",{className:"e-end-btn"}),s=t.createElement("button",{className:"e-start-btn"});this.startButton=new a.Button({content:this.l10n.getConstant("startLabel")},s),this.endButton=new a.Button({content:this.l10n.getConstant("endLabel")},i),e.appendChild(s),e.appendChild(i)}else{var n=t.createElement("a",{className:B}),r=t.createElement("a",{className:j}),l=t.createElement("span",{className:"e-change-icon e-icons"});t.attributes(n,{"aria-atomic":"true","aria-live":"assertive","aria-label":"Start Date",role:"button"}),t.attributes(r,{"aria-atomic":"true","aria-live":"assertive","aria-label":"End Date",role:"button"}),e.appendChild(n),e.appendChild(l),e.appendChild(r),n.textContent=this.l10n.getConstant("startLabel"),r.textContent=this.l10n.getConstant("endLabel")}return e},r.prototype.disableInput=function(){this.strictMode?t.isNullOrUndefined(this.previousStartValue)||t.isNullOrUndefined(this.previousEndValue)||(this.setProperties({startDate:this.previousStartValue},!0),this.setProperties({endDate:this.previousEndValue},!0),this.setValue(),this.updateInput()):(this.updateInput(),this.clearRange(),this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.setValue(),this.errorClass()),this.setProperties({enabled:!1},!0),s.Input.setEnabled(this.enabled,this.inputElement),this.bindEvents()},r.prototype.validateMinMax=function(){this.min=t.isNullOrUndefined(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=t.isNullOrUndefined(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,this.min<=this.max?(t.isNullOrUndefined(this.minDays)||t.isNullOrUndefined(this.maxDays)||this.maxDays>0&&this.minDays>0&&this.minDays>this.maxDays&&(this.maxDays=null),!t.isNullOrUndefined(this.minDays)&&this.minDays<0&&(this.minDays=null),!t.isNullOrUndefined(this.maxDays)&&this.maxDays<0&&(this.maxDays=null)):this.disableInput()},r.prototype.validateRangeStrict=function(){t.isNullOrUndefined(this.startDate)||(+this.startDate<+this.min?(this.setProperties({startDate:this.min},!0),this.setValue()):+this.startDate>+this.max&&this.setProperties({startDate:this.max},!0)),t.isNullOrUndefined(this.endDate)||(+this.endDate>+this.max?(this.setProperties({endDate:this.max},!0),this.setValue()):+this.endDate<+this.min&&(this.setProperties({endDate:this.min},!0),this.setValue())),!t.isNullOrUndefined(this.startDate)&&!t.isNullOrUndefined(this.endDate)&&+this.startDate>+this.endDate&&(this.setProperties({endDate:this.max},!0),this.setValue()),this.validateMinMaxDays()},r.prototype.validateRange=function(){this.validateMinMaxDays()},r.prototype.validateMinMaxDays=function(){if(!t.isNullOrUndefined(this.startDate)&&!t.isNullOrUndefined(this.endDate)){var e=Math.round(Math.abs((this.startDate.getTime()-this.endDate.getTime())/864e5))+1;if(!t.isNullOrUndefined(this.minDays)&&this.minDays>0&&!(e>=this.minDays))if(this.strictMode){var i=new Date(+this.startDate);i.setDate(i.getDate()+(this.minDays-1)),+i>+this.max?(this.setProperties({endDate:this.max},!0),this.setValue()):(this.setProperties({endDate:i},!0),this.setValue())}else this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.setValue();t.isNullOrUndefined(this.maxDays)||!(this.maxDays>0)||e<=this.maxDays||(this.strictMode?(this.endDate=new Date(+this.startDate),this.endDate.setDate(this.endDate.getDate()+(this.maxDays-1)),this.setProperties({endDate:this.endDate},!0),this.setValue()):(this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.setValue()))}},r.prototype.renderCalendar=function(){this.calendarElement=t.createElement("div"),this.calendarElement.classList.add(q),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),t.attributes(this.calendarElement,{role:"calendar"}),e.prototype.createHeader.call(this),e.prototype.createContent.call(this)},r.prototype.isSameMonth=function(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},r.prototype.startMonthCurrentDate=function(){this.isSameMonth(this.min,this.max)||+this.currentDate>+this.max||this.isSameMonth(this.currentDate,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate<this.min&&(this.currentDate=new Date(""+this.min))},r.prototype.selectNextMonth=function(){if(t.isNullOrUndefined(this.endDate)||t.isNullOrUndefined(this.startDate)||this.isSameMonth(this.endDate,this.currentDate)||this.isDateDisabled(this.endDate)||this.isDateDisabled(this.startDate))return this.currentDate.setDate(1),void this.currentDate.setMonth(this.currentDate.getMonth()+1);this.currentDate=new Date(+this.endDate),(!t.isNullOrUndefined(this.startDate)&&+this.startDate<+this.min||!t.isNullOrUndefined(this.endDate)&&+this.endDate>+this.max||!t.isNullOrUndefined(this.startDate)&&!t.isNullOrUndefined(this.endDate)&&+this.startDate>+this.endDate)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()+1))},r.prototype.selectStartMonth=function(){t.isNullOrUndefined(this.startDate)?(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.startMonthCurrentDate()):!t.isNullOrUndefined(this.max)&&this.isSameMonth(this.startDate,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.startDate>=this.min&&this.startDate<=this.max&&!this.isDateDisabled(this.startDate)?this.currentDate=new Date(+this.startDate):this.currentDate=new Date((new Date).setHours(0,0,0,0)),(!t.isNullOrUndefined(this.endDate)&&+this.endDate>+this.max||!t.isNullOrUndefined(this.startDate)&&+this.startDate<+this.min||!t.isNullOrUndefined(this.startDate)&&!t.isNullOrUndefined(this.endDate)&&+this.startDate>+this.endDate)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.startMonthCurrentDate()},r.prototype.createCalendar=function(){var i=t.createElement("div",{className:"e-calendar-container"});if(this.isMobile){t.isNullOrUndefined(this.startDate)||(this.currentDate=new Date(+this.startDate)),e.prototype.validateDate.call(this),e.prototype.minMaxUpdate.call(this),e.prototype.render.call(this);var s=this.calendarElement.querySelector("."+q+" ."+Y),a=this.calendarElement.querySelector("."+q+" ."+z);t.remove(this.calendarElement.querySelector("."+q+" ."+X)),this.calendarElement.querySelector("."+q+" ."+K).appendChild(a),this.calendarElement.querySelector("."+q+" ."+K).appendChild(s),t.prepend([s],this.calendarElement.querySelector("."+q+" ."+K)),this.deviceCalendar=this.calendarElement,i.appendChild(this.calendarElement),this.headerTitleElement=this.calendarElement.querySelector("."+q+" ."+K+" ."+_)}else{this.selectStartMonth(),this.renderCalendar(),this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarElement.classList.add(P),this.leftCalPrevIcon=this.calendarElement.querySelector("."+P+" ."+Y),this.leftCalNextIcon=this.calendarElement.querySelector("."+P+" ."+z),this.leftTitle=this.calendarElement.querySelector("."+P+" ."+_),t.remove(this.calendarElement.querySelector("."+P+" ."+X)),this.calendarElement.querySelector("."+P+" ."+K).appendChild(this.leftCalNextIcon),this.calendarElement.querySelector("."+P+" ."+K).appendChild(this.leftCalPrevIcon),t.prepend([this.leftCalPrevIcon],this.calendarElement.querySelector("."+P+" ."+K)),this.leftCalendar=this.calendarElement;var n=t.createElement("div",{className:"e-left-container"}),r=t.createElement("div",{className:"e-right-container"});n.appendChild(this.leftCalendar),i.appendChild(n),this.isMobile||t.EventHandler.add(this.leftTitle,"click",this.leftNavTitle,this),this.selectNextMonth(),this.renderCalendar(),this.rightCalCurrentDate=new Date(+this.currentDate),t.addClass([this.calendarElement],U),this.rightCalendar=this.calendarElement,t.removeClass([this.leftCalendar&&this.leftCalendar.querySelector(".e-content tbody")],"e-zoomin"),t.removeClass([this.rightCalendar&&this.rightCalendar.querySelector(".e-content tbody")],"e-zoomin"),this.rightCalPrevIcon=this.calendarElement.querySelector("."+U+" ."+Y),this.rightCalNextIcon=this.calendarElement.querySelector("."+U+" ."+z),this.rightTitle=this.calendarElement.querySelector("."+U+" ."+_),t.remove(this.calendarElement.querySelector("."+U+" ."+X)),this.calendarElement.querySelector("table").setAttribute("tabindex","-1"),this.calendarElement.querySelector("."+U+" ."+K).appendChild(this.rightCalNextIcon),this.calendarElement.querySelector("."+U+" ."+K).appendChild(this.rightCalPrevIcon),t.prepend([this.rightCalPrevIcon],this.calendarElement.querySelector("."+U+" ."+K)),r.appendChild(this.rightCalendar),i.appendChild(r),this.isMobile||t.EventHandler.add(this.rightTitle,"click",this.rightNavTitle,this)}return i},r.prototype.leftNavTitle=function(t){this.isPopupOpen()&&(this.calendarElement=this.leftCalendar,this.table=this.leftCalendar.querySelector("table"),this.headerTitleElement=this.leftCalendar.querySelector(".e-title"),this.tableBodyElement=this.leftCalendar.querySelector("tbody"),this.tableHeadElement=this.leftCalendar.querySelector("thead"),this.contentElement=this.leftCalendar.querySelector(".e-content"),this.updateCalendarElement(this.leftCalendar),e.prototype.navigateTitle.call(this,t),this.updateNavIcons())},r.prototype.rightNavTitle=function(t){this.isPopupOpen()&&(this.calendarElement=this.rightCalendar,this.table=this.rightCalendar.querySelector("table"),this.headerTitleElement=this.rightCalendar.querySelector(".e-title"),this.tableBodyElement=this.rightCalendar.querySelector("tbody"),this.tableHeadElement=this.rightCalendar.querySelector("thead"),this.contentElement=this.rightCalendar.querySelector(".e-content"),this.updateCalendarElement(this.rightCalendar),e.prototype.navigateTitle.call(this,t),this.updateNavIcons())},r.prototype.clickEventEmitter=function(e){this.isMobile||(t.closest(e.target,".e-calendar.e-left-calendar")?(this.calendarElement=this.leftCalendar,this.updateCalendarElement(this.leftCalendar)):(this.calendarElement=this.rightCalendar,this.updateCalendarElement(this.rightCalendar)))},r.prototype.currentView=function(){return e.prototype.currentView.call(this)},r.prototype.navigatedEvent=function(e){this.isMobile&&"Month"===this.currentView()?(this.bindCalendarCellEvents(),this.deviceNavigation(),this.removeFocusedDate()):!this.isMobile||"Decade"!==this.currentView()&&"Year"!==this.currentView()?this.isMobile||"Month"!==this.currentView()?this.isMobile||"Decade"!==this.currentView()&&"Year"!==this.currentView()||(this.updateNavIcons(),this.calendarIconEvent()):(this.calendarElement.classList.contains("e-left-calendar")?this.leftCalendar:this.rightCalendar)===this.leftCalendar&&e&&!e.target.classList.contains("e-icons")?(this.leftCalCurrentDate=new Date(+this.currentDate),this.rightCalCurrentDate=new Date(new Date(+this.currentDate).setMonth(new Date(+this.currentDate).getMonth()+1)),this.currentDate=this.leftCalCurrentDate,this.updateCalendarElement(this.leftCalendar),this.updateControl(this.leftCalendar),this.updateCalendarElement(this.rightCalendar),this.navigateTo("Month",this.rightCalCurrentDate),this.updateControl(this.rightCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple()):e&&!e.target.classList.contains("e-icons")&&(this.rightCalCurrentDate=new Date(+this.currentDate),this.leftCalCurrentDate=new Date(this.currentDate.setMonth(this.currentDate.getMonth()-1)),this.currentDate=this.rightCalCurrentDate,this.updateCalendarElement(this.rightCalendar),this.updateControl(this.rightCalendar),this.updateCalendarElement(this.leftCalendar),this.startDate&&+this.startDate<+this.rightCalCurrentDate&&t.isNullOrUndefined(this.endDate)?(this.effect="",this.navigateTo("Month",new Date(+this.startDate))):this.navigateTo("Month",this.leftCalCurrentDate),this.updateControl(this.leftCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple()):this.selectableDates()},r.prototype.createControl=function(){var e=t.createElement("div",{className:J}),i=t.createElement("div",{className:"e-range-header"}),s=this.createRangeHeader();i.appendChild(s);var n=t.createElement("div",{className:Q});t.attributes(n,{"aria-label":"Selected Days"}),n.textContent=this.l10n.getConstant("selectedDays"),i.appendChild(n);var r=t.createElement("div",{className:"e-separator"}),l=this.createCalendar();e.appendChild(i),e.appendChild(r),e.appendChild(l);var o=t.createElement("div",{className:"e-footer"}),h=t.createElement("button",{className:"e-cancel e-flat"}),p=t.createElement("button",{className:"e-apply e-flat e-primary"});o.appendChild(p),o.appendChild(h);var u=!t.isNullOrUndefined(this.startDate)&&!t.isNullOrUndefined(this.endDate);if(this.cancelButton=new a.Button({content:this.l10n.getConstant("cancelText")},h),this.applyButton=new a.Button({content:this.l10n.getConstant("applyText"),disabled:!u},p),t.EventHandler.add(p,"click",this.applyFunction,this),t.EventHandler.add(h,"click",this.cancelFunction,this),this.popupWrapper.appendChild(e),document.body.appendChild(this.popupWrapper),!this.isMobile&&!t.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){this.createPresets(),this.listRippleEffect(),t.addClass([e],"e-range-border"),t.addClass([this.popupWrapper],"e-preset-wrapper");this.popupWrapper.querySelector("."+Z).style.height=this.popupWrapper.querySelector("."+J).getBoundingClientRect().height+"px"}this.popupWrapper.appendChild(o),this.isMobile&&this.deviceHeaderUpdate(),this.renderPopup()},r.prototype.cancelFunction=function(e){document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.isMobile||(this.inputElement.focus(),t.addClass([this.inputWrapper.container],[W]))),e.preventDefault(),!this.isMobile&&this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.hide(e||null)},r.prototype.deviceHeaderUpdate=function(){t.isNullOrUndefined(this.startDate)&&t.isNullOrUndefined(this.endDate)?(this.endButton.element.setAttribute("disabled",""),this.startButton.element.classList.add(V)):t.isNullOrUndefined(this.startDate)||this.startButton.element.classList.add(V)},r.prototype.applyFunction=function(e){document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.isMobile||(this.inputElement.focus(),t.addClass([this.inputWrapper.container],[W]))),e.preventDefault(),t.isNullOrUndefined(this.startDate)||t.isNullOrUndefined(this.endDate)?this.hide(e||null):(this.previousStartValue=new Date(+this.startDate),this.previousEndValue=new Date(+this.endDate),this.previousEleValue=this.inputElement.value,s.Input.setValue(this.rangeArgs(e).text,this.inputElement,this.floatLabelType,this.showClearButton),this.changeTrigger(e),this.hide(e||null),this.errorClass()),this.isMobile||(this.isKeyPopup=!1,this.isRangeIconClicked&&(this.inputWrapper.container.children[1].focus(),this.popupKeyboardModule=new t.KeyboardEvents(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})))},r.prototype.onMouseClick=function(e,i){var s=i||e.target,a=t.closest(s,"."+ae),n=a&&a.classList.contains(V);a&&a.classList.contains(ae)&&this.setListSelection(a,e),this.isMobile||(this.preventFocus=!0,a&&a.classList.contains(ae)&&"custom_range"===a.getAttribute("id")?this.leftCalendar.children[1].firstElementChild.focus():n||"keydown"!==e.type||this.inputElement.focus())},r.prototype.onMouseOver=function(e){var i=t.closest(e.target,"."+ae);i&&i.classList.contains(ae)&&!i.classList.contains(ne)&&t.addClass([i],ne)},r.prototype.onMouseLeave=function(e){var i=t.closest(e.target,"."+ne);t.isNullOrUndefined(i)||t.removeClass([i],ne)},r.prototype.setListSelection=function(e,i){if(e&&(!e.classList.contains(V)||this.isMobile&&e.classList.contains(V))){if(this.isMobile&&e.classList.contains(V)){this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e);if("custom_range"===this.presetsItem[this.activeIndex].id)return void this.renderCustomPopup();return}this.removeListSelection(),this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),t.addClass([e],V),e.setAttribute("aria-selected","true");var s=this.presetsItem[this.activeIndex];"custom_range"===s.id?this.renderCustomPopup():this.applyPresetRange(s)}},r.prototype.removeListSelection=function(){var e=this.presetElement.querySelector("."+V);t.isNullOrUndefined(e)||(t.removeClass([e],V),e.removeAttribute("aria-selected"))},r.prototype.setValue=function(){t.isNullOrUndefined(this.startDate)&&t.isNullOrUndefined(this.endDate)?this.setProperties({value:null},!0):this.setProperties({value:[this.startDate,this.endDate]},!0)},r.prototype.applyPresetRange=function(e){this.hide(null),this.presetsItem[this.presetsItem.length-1].start=null,this.presetsItem[this.presetsItem.length-1].end=null,this.setProperties({startDate:e.start},!0),this.setProperties({endDate:e.end},!0),this.setValue(),this.refreshControl(),this.trigger("select",this.rangeArgs(null)),this.changeTrigger(),this.previousEleValue=this.inputElement.value,this.isCustomRange=!1,this.leftCalendar=this.rightCalendar=null,this.isKeyPopup&&(this.isRangeIconClicked=!1,this.inputElement.focus())},r.prototype.renderCustomPopup=function(){this.isCustomWindow=!0,this.popupObj.hide(),this.popupWrapper=t.createElement("div",{id:this.element.id+"_popup",className:T+" e-popup"}),this.renderControl(),this.isCustomRange=!0,this.isMobile||this.calendarFocus()},r.prototype.listRippleEffect=function(){for(var e=0,i=this.liCollections;e<i.length;e++){var s=i[e];t.rippleEffect(s)}},r.prototype.createPresets=function(){if(!t.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){this.presetElement=t.createElement("div",{className:Z,attrs:{tabindex:"0"}});var e=n.ListBase.createList(this.presetsItem,null,!0);t.attributes(e,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),this.presetElement.appendChild(e),this.popupWrapper.appendChild(this.presetElement),this.liCollections=this.presetElement.querySelectorAll("."+ae),this.wireListEvents(),this.isMobile&&(this.presetElement.style.width=this.inputWrapper.container.getBoundingClientRect().width+"px"),!t.isNullOrUndefined(this.activeIndex)&&this.activeIndex>-1&&t.addClass([this.liCollections[this.activeIndex]],V)}},r.prototype.wireListEvents=function(){t.EventHandler.add(this.presetElement,"click",this.onMouseClick,this),this.isMobile||(t.EventHandler.add(this.presetElement,"mouseover",this.onMouseOver,this),t.EventHandler.add(this.presetElement,"mouseout",this.onMouseLeave,this))},r.prototype.unWireListEvents=function(){t.isNullOrUndefined(this.presetElement)||(t.EventHandler.remove(this.presetElement,"click",this.onMouseClick),this.isMobile||(t.EventHandler.remove(this.presetElement,"mouseover",this.onMouseOver),t.EventHandler.remove(this.presetElement,"mouseout",this.onMouseLeave)))},r.prototype.renderPopup=function(){var e=this;this.popupWrapper.classList.add("e-control");var s=this.popupWrapper.getBoundingClientRect().width;t.isNullOrUndefined(this.cssClass)||""===this.cssClass.trim()||this.popupWrapper.classList.add(this.cssClass),this.isMobile&&this.isCustomWindow&&(this.modal=t.createElement("div"),document.body.appendChild(this.modal)),this.popupObj=new i.Popup(this.popupWrapper,{relateTo:this.isMobile&&this.isCustomWindow?document.body:t.isNullOrUndefined(this.targetElement)?this.inputWrapper.container:this.targetElement,position:this.isMobile?t.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"center",Y:"center"}:{X:"left",Y:"bottom"}:this.enableRtl?{X:"left",Y:"bottom"}:{X:"right",Y:"bottom"},offsetX:this.isMobile||this.enableRtl?0:-s,offsetY:4,collision:this.isMobile&&(t.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow)?{X:"fit",Y:"fit"}:{X:"fit"},targetType:this.isMobile&&this.isCustomWindow?"container":"relative",enableRtl:this.enableRtl,zIndex:this.zIndex,open:function(){t.attributes(e.inputElement,{"aria-expanded":"true"}),t.addClass([e.inputWrapper.buttons[0]],V),e.isMobile||(e.cancelButton&&(e.btnKeyboardModule=new t.KeyboardEvents(e.cancelButton.element,{eventName:"keydown",keyAction:e.hide.bind(e),keyConfigs:{tab:"tab"}})),t.isNullOrUndefined(e.leftCalendar)||e.isRangeIconClicked||e.calendarFocus(),t.isNullOrUndefined(e.presetElement)||(e.presetKeyboardModule=new t.KeyboardEvents(e.presetElement,{eventName:"keydown",keyAction:e.presetKeyActionHandler.bind(e),keyConfigs:e.presetKeyConfig}),t.isNullOrUndefined(e.leftCalendar)?(e.preventBlur=!0,e.presetElement.focus()):e.presetElement.setAttribute("tabindex","-1")),e.popupKeyBoardHandler()),e.isMobile&&!t.Browser.isDevice&&t.EventHandler.add(document,"keydown",e.popupCloseHandler,e)},close:function(){t.attributes(e.inputElement,{"aria-expanded":"false"}),t.removeClass([e.inputWrapper.buttons[0]],V),e.isMobile||e.isRangeIconClicked&&e.inputWrapper.container.children[1].focus(),t.isUndefined(e.presets[0].start&&e.presets[0].end&&e.presets[0].label)||e.unWireListEvents(),t.isNullOrUndefined(e.popupObj)||(t.remove(e.popupObj.element),e.popupObj.destroy(),e.popupObj=null),e.isMobile&&!t.Browser.isDevice&&t.EventHandler.remove(document,"keydown",e.popupCloseHandler)}}),document.body.appendChild(this.popupObj.element),this.isMobile&&(this.popupObj.element.classList.add("e-device"),this.isMobile||this.popupObj.element.classList.add("e-bigger")),this.isMobile&&this.isCustomWindow&&(t.addClass([this.modal],["e-device",T,"e-range-modal"]),document.body.className+=" "+re,this.modal.style.display="block"),this.presetHeight(),this.isMobile||this.enableRtl||(this.popupObj.offsetX=-this.popupWrapper.getBoundingClientRect().width),this.popupObj.refreshPosition(this.inputElement),this.popupObj.show(),t.EventHandler.add(document,"mousedown touchstart",this.documentHandler,this)},r.prototype.popupCloseHandler=function(e){switch(e.keyCode){case 27:this.hide(e)}},r.prototype.calendarFocus=function(){var e=this.popupObj&&this.popupObj.element.querySelector("."+H);if(e){var i=t.closest(e,"."+U);i=t.isNullOrUndefined(i)?this.leftCalendar:i,this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,i.children[1].firstElementChild.focus()),t.addClass([e],G)}else this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,this.leftCalendar.children[1].firstElementChild.focus())},r.prototype.presetHeight=function(){var e=this.popupObj&&this.popupObj.element.querySelector("."+Z),i=this.popupObj&&this.popupObj.element.querySelector("."+J);t.isNullOrUndefined(e)||t.isNullOrUndefined(i)||(e.style.height=i.getBoundingClientRect().height+"px")},r.prototype.presetKeyActionHandler=function(e){switch(e.action){case"moveDown":this.listMoveDown(e),this.setScrollPosition(),e.preventDefault();break;case"moveUp":this.listMoveUp(e),this.setScrollPosition(),e.preventDefault();break;case"enter":var i=this.getHoverLI(),s=this.getActiveLI();if(!t.isNullOrUndefined(this.leftCalendar)&&!t.isNullOrUndefined(s)&&(t.isNullOrUndefined(i)||!t.isNullOrUndefined(s)&&s===i)){this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(s);if("custom_range"===this.presetsItem[this.activeIndex].id)return this.calendarFocus(),s.classList.remove(ne),void e.preventDefault()}t.isNullOrUndefined(i)&&t.isNullOrUndefined(s)||this.onMouseClick(e,i||s),e.preventDefault();break;case"tab":if(this.leftCalendar){var a=this.getHoverLI();t.isNullOrUndefined(a)||a.classList.remove(ne)}else this.hide(e),e.preventDefault()}},r.prototype.listMoveDown=function(e){var i=this.getHoverLI(),s=this.getActiveLI();if(t.isNullOrUndefined(i))if(t.isNullOrUndefined(s))t.addClass([this.liCollections[0]],ne);else{a=s.nextElementSibling;!t.isNullOrUndefined(a)&&a.classList.contains(ae)&&t.addClass([a],ne)}else{var a=i.nextElementSibling;!t.isNullOrUndefined(a)&&a.classList.contains(ae)&&(t.removeClass([i],ne),t.addClass([a],ne))}},r.prototype.listMoveUp=function(e){var i=this.getHoverLI(),s=this.getActiveLI();if(t.isNullOrUndefined(i)){if(!t.isNullOrUndefined(s)){a=s.previousElementSibling;!t.isNullOrUndefined(a)&&a.classList.contains(ae)&&t.addClass([a],ne)}}else{var a=i.previousElementSibling;!t.isNullOrUndefined(a)&&a.classList.contains(ae)&&(t.removeClass([i],ne),t.addClass([a],ne))}},r.prototype.getHoverLI=function(){return this.presetElement.querySelector("."+ne)},r.prototype.getActiveLI=function(){return this.presetElement.querySelector("."+V)},r.prototype.popupKeyBoardHandler=function(){this.popupKeyboardModule=new t.KeyboardEvents(this.popupWrapper,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{escape:"escape"}}),this.popupKeyboardModule=new t.KeyboardEvents(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})},r.prototype.setScrollPosition=function(){var e=this.presetElement.getBoundingClientRect().height,i=this.presetElement.querySelector("."+ne),s=this.presetElement.querySelector("."+V),a=t.isNullOrUndefined(i)?s:i;if(!t.isNullOrUndefined(a)){var n=a.nextElementSibling,r=n?n.offsetTop:a.offsetTop,l=a.getBoundingClientRect().height;r+a.offsetTop>e?this.presetElement.scrollTop=n?r-(e/2+l/2):r:this.presetElement.scrollTop=0}},r.prototype.popupKeyActionHandle=function(e){switch(e.action){case"escape":this.isPopupOpen()?(this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.hide(e)):this.inputWrapper.container.children[1].blur();break;case"enter":this.isPopupOpen()?this.inputWrapper.container.children[1].focus():this.show(null,e);break;case"tab":this.hide(e)}},r.prototype.documentHandler=function(e){if(!t.isNullOrUndefined(this.popupObj)){var i=e.target;this.inputWrapper.container.contains(i)&&(t.isNullOrUndefined(this.popupObj)||t.closest(i,this.popupWrapper.id))||e.preventDefault(),!t.isNullOrUndefined(this.targetElement)&&(t.isNullOrUndefined(this.targetElement)||i===this.targetElement)||t.closest(i,"#"+this.popupObj.element.id)||t.closest(i,".e-input-group")===this.inputWrapper.container||t.closest(i,".e-daterangepicker.e-popup")&&!i.classList.contains("e-day")||(this.preventBlur=!1,this.isPopupOpen()&&(this.isMobile||(this.isRangeIconClicked=!1),this.applyFunction(e),(t.isNullOrUndefined(this.startDate)||t.isNullOrUndefined(this.endDate))&&(this.clear(),this.clearRange())))}},r.prototype.createInput=function(){this.inputWrapper=s.Input.createInput({floatLabelType:this.floatLabelType,element:this.inputElement,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-range-icon e-icons"]}),t.attributes(this.inputElement,{"aria-readonly":this.readonly?"true":"false",tabindex:"1","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"daterangepicker",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),s.Input.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),t.isNullOrUndefined(this.placeholder)||""===this.placeholder.trim()||s.Input.addAttributes({"aria-placeholder":this.placeholder},this.inputElement),this.setEleWidth(this.width),t.addClass([this.inputWrapper.container],"e-date-range-wrapper"),t.isNullOrUndefined(this.element.getAttribute("name"))&&t.attributes(this.inputElement,{name:this.element.id}),"hidden"===this.inputElement.type&&(this.inputWrapper.container.style.display="none"),this.refreshControl(),this.previousEleValue=this.inputElement.value},r.prototype.setEleWidth=function(e){this.inputWrapper.container.style.width="string"==typeof e?this.width:"number"==typeof e?t.formatUnit(this.width):"100%"},r.prototype.refreshControl=function(){this.validateMinMax(),this.strictMode&&this.validateRangeStrict();var e=this.disabledDates();this.strictMode&&e&&(this.setProperties({startDate:this.previousStartValue},!0),this.setProperties({endDate:this.previousEndValue},!0),this.setValue()),this.updateInput(),this.strictMode||this.validateRange(),!this.strictMode&&e&&this.clearRange(),t.isNullOrUndefined(this.endDate)||t.isNullOrUndefined(this.startDate)||e||this.disabledDateRender(),this.errorClass(),this.previousStartValue=t.isNullOrUndefined(this.startDate)||isNaN(+this.startDate)?null:new Date(+this.startDate),this.previousEndValue=t.isNullOrUndefined(this.endDate)||isNaN(+this.endDate)?null:new Date(+this.endDate)},r.prototype.updateInput=function(){if(!t.isNullOrUndefined(this.endDate)&&!t.isNullOrUndefined(this.startDate)){var e=this.globalize.formatDate(this.startDate,{format:this.format,type:"date",skeleton:"yMd"}),i=this.globalize.formatDate(this.endDate,{format:this.format,type:"date",skeleton:"yMd"});s.Input.setValue(e+" "+this.separator+" "+i,this.inputElement,this.floatLabelType,this.showClearButton),this.previousStartValue=new Date(+this.startDate),this.previousEndValue=new Date(+this.endDate)}},r.prototype.isDateDisabled=function(e){var t=new Date(+e);if(+t<+this.min||+t>+this.max)return!0;this.virtualRenderCellArgs={date:t,isDisabled:!1};var i=this.virtualRenderCellArgs;return this.virtualRenderCellEvent(i),!!i.isDisabled},r.prototype.disabledDateRender=function(){this.disabledDays=[],this.disabledDayCnt=null;for(var e=new Date(+this.startDate),t=0;+e<=+this.endDate;){this.virtualRenderCellArgs={date:e,isDisabled:!1};var i=this.virtualRenderCellArgs;this.virtualRenderCellEvent(i),i.isDisabled&&(this.disabledDays.push(new Date(+i.date)),+e>+this.startDate&&+e<+this.endDate&&t++),this.addDay(e,1,null,this.max,this.min)}this.disabledDayCnt=t},r.prototype.virtualRenderCellEvent=function(e){t.extend(this.virtualRenderCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)},r.prototype.disabledDates=function(){var e=!1,i=!1;return t.isNullOrUndefined(this.endDate)||t.isNullOrUndefined(this.startDate)||(this.setProperties({value:null},!0),e=this.isDateDisabled(this.startDate),i=this.isDateDisabled(this.endDate),this.currentDate=null,this.setProperties({value:null},!0),this.setValue()),e||i},r.prototype.changeTrigger=function(e){this.previousEleValue!==this.inputElement.value&&(+this.initStartDate==+this.startDate&&+this.initEndDate==+this.endDate||this.trigger("change",this.rangeArgs(e))),this.previousEleValue=this.inputElement.value,this.initStartDate=this.checkDateValue(this.startDate),this.initEndDate=this.checkDateValue(this.endDate)},r.prototype.navigateTo=function(t,i){e.prototype.navigateTo.call(this,t,i)},r.prototype.focusIn=function(){if(document.activeElement!==this.inputElement&&this.enabled){t.addClass([this.inputWrapper.container],[W]),this.inputElement.focus();var e={model:this};this.trigger("focus",e)}},r.prototype.focusOut=function(){var e=this.preventBlur;document.activeElement===this.inputElement&&(t.removeClass([this.inputWrapper.container],[W]),this.preventBlur=!1,this.inputElement.blur(),this.preventBlur=e)},r.prototype.destroy=function(){this.hide(null);var i={"aria-readonly":this.readonly?"true":"false",tabindex:"1","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"daterangepicker",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off","aria-invalid":"false",spellcheck:"false"};this.inputElement&&(t.removeClass([this.inputElement],[T]),t.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),s.Input.removeAttributes(i,this.inputElement),this.ensureInputAttribute(),this.inputElement.classList.remove("e-input"),t.isNullOrUndefined(this.inputWrapper)||(t.EventHandler.remove(this.inputWrapper.buttons[0],"click",this.rangeIconHandler),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),t.detach(this.inputWrapper.container))),t.isNullOrUndefined(this.inputKeyboardModule)||this.isMobile||this.inputKeyboardModule.destroy(),this.popupObj&&(this.isMobile||this.clearCalendarEvents()),e.prototype.destroy.call(this),this.inputWrapper=this.popupWrapper=this.popupObj=this.cloneElement=this.presetElement=null},r.prototype.ensureInputAttribute=function(){for(var e=0;e<this.inputElement.attributes.length;e++){var i=this.inputElement.attributes[e].name;t.isNullOrUndefined(this.cloneElement.getAttribute(i))&&(("value"===i.toLowerCase()||t.isNullOrUndefined(this.cloneElement.getAttribute("value")))&&(this.inputElement.value=""),this.inputElement.removeAttribute(i))}},r.prototype.getModuleName=function(){return"daterangepicker"},r.prototype.getPersistData=function(){return this.addOnPersist(["startDate","endDate","value"])},r.prototype.getSelectedRange=function(){var e;return t.isNullOrUndefined(this.startDate)||t.isNullOrUndefined(this.endDate)?e=0:(e=Math.round(Math.abs((this.startDate.getTime()-this.endDate.getTime())/864e5))+1,this.disabledDateRender(),t.isNullOrUndefined(this.disabledDayCnt)||(e-=this.disabledDayCnt,this.disabledDayCnt=null)),{startDate:this.startDate,endDate:this.endDate,daySpan:e}},r.prototype.show=function(e,i){if(!(this.enabled&&this.readonly||!this.enabled||this.popupObj||this.isPopupOpen())){e&&(this.targetElement=e);var s={popup:this.popupObj||null,cancel:!1,date:this.inputElement.value,model:this,event:i||null};if(this.trigger("open",s),!s.cancel){this.createPopup();var a=!this.isCustomRange||this.isMobile&&this.isCustomRange;!t.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&a&&this.setScrollPosition()}}},r.prototype.hide=function(e){if(this.popupObj&&(t.isNullOrUndefined(this.previousEndValue)&&t.isNullOrUndefined(this.previousStartValue)?this.clearRange():(t.isNullOrUndefined(this.previousStartValue)?(this.setProperties({startDate:null},!0),this.setValue()):(this.setProperties({startDate:new Date(""+this.previousStartValue)},!0),this.setValue(),this.currentDate=new Date(""+this.startDate)),t.isNullOrUndefined(this.previousEndValue)?(this.setProperties({endDate:null},!0),this.setValue()):(this.setProperties({endDate:new Date(""+this.previousEndValue)},!0),this.setValue())),this.isPopupOpen())){var i={cancel:!1,popup:this.popupObj,date:this.inputElement.value,model:this,event:e||null};this.trigger("close",i),i.cancel||(this.isMobile&&(t.isNullOrUndefined(this.startButton)||t.isNullOrUndefined(this.endButton)||(t.EventHandler.remove(this.startButton.element,"click",this.deviceHeaderClick),t.EventHandler.remove(this.endButton.element,"click",this.deviceHeaderClick))),this.popupObj&&this.popupObj.hide(),this.isMobile||(t.isNullOrUndefined(this.leftKeyboardModule)||t.isNullOrUndefined(this.rightKeyboardModule)||(this.leftKeyboardModule.destroy(),this.rightKeyboardModule.destroy()),t.isNullOrUndefined(this.presetElement)||this.presetKeyboardModule.destroy(),t.isNullOrUndefined(this.cancelButton)||this.btnKeyboardModule.destroy()),this.targetElement=null,t.removeClass([document.body],re),t.EventHandler.remove(document,"mousedown touchstart",this.documentHandler),this.isMobile&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),this.isKeyPopup=this.dateDisabled=!1)}},r.prototype.setLocale=function(){this.globalize=new t.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),s.Input.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.changeTrigger()},r.prototype.refreshChange=function(){this.refreshControl(),this.changeTrigger()},r.prototype.setDate=function(){s.Input.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.refreshChange()},r.prototype.onPropertyChanged=function(e,i){for(var a={format:this.format,type:"date",skeleton:"yMd"},n=0,r=Object.keys(e);n<r.length;n++){var l=r[n];switch(this.hide(null),l){case"width":this.setEleWidth(this.width);break;case"separator":this.previousEleValue=this.inputElement.value,this.setProperties({separator:e.separator},!0),this.updateInput(),this.changeTrigger();break;case"placeholder":s.Input.setPlaceholder(e.placeholder,this.inputElement),this.setProperties({placeholder:e.placeholder},!0);break;case"readonly":s.Input.setReadonly(this.readonly,this.inputElement),this.inputElement.setAttribute("aria-readonly",""+this.readonly);break;case"cssClass":this.popupWrapper&&t.addClass([this.popupWrapper],[e.cssClass]),t.addClass([this.inputWrapper.container],[e.cssClass]),this.setProperties({cssClass:e.cssClass},!0);break;case"enabled":this.setProperties({enabled:e.enabled},!0),s.Input.setEnabled(this.enabled,this.inputElement),this.bindEvents();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),s.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"format":this.setProperties({format:e.format},!0),this.updateInput(),this.changeTrigger();break;case"locale":this.setProperties({locale:e.locale},!0),this.setLocale();break;case"showClearButton":s.Input.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"startDate":"string"==typeof e.startDate&&(e.startDate=this.globalize.parseDate(e.startDate,a)),this.setProperties({startDate:e.startDate},!0),this.setValue(),this.setDate();break;case"endDate":"string"==typeof e.endDate&&(e.endDate=this.globalize.parseDate(e.endDate,a)),this.setProperties({endDate:this.checkDateValue(new Date(""+e.endDate))},!0),this.setValue(),this.setDate();break;case"value":this.setProperties({value:e.value},!0),t.isNullOrUndefined(this.value)&&(this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.setProperties({value:null},!0)),this.updateValue(),this.setValue(),this.setDate();break;case"minDays":this.setProperties({minDays:e.minDays},!0),this.refreshChange();break;case"maxDays":this.setProperties({maxDays:e.maxDays},!0),this.refreshChange();break;case"min":this.setProperties({min:this.checkDateValue(new Date(""+e.min))},!0),this.previousEleValue=this.inputElement.value,this.refreshChange();break;case"max":this.setProperties({max:this.checkDateValue(new Date(""+e.max))},!0),this.refreshChange();break;case"strictMode":this.setProperties({strictMode:e.strictMode},!0),this.refreshChange();break;case"presets":this.setProperties({presets:e.presets},!0),this.processPresets();break;case"floatLabelType":this.floatLabelType=e.floatLabelType,s.Input.removeFloating(this.inputWrapper),s.Input.addFloating(this.inputElement,this.floatLabelType,this.placeholder)}}},I([t.Property(null)],r.prototype,"value",void 0),I([t.Property(!1)],r.prototype,"enablePersistence",void 0),I([t.Property(!1)],r.prototype,"enableRtl",void 0),I([t.Property(new Date(1900,0,1))],r.prototype,"min",void 0),I([t.Property(new Date(2099,11,31))],r.prototype,"max",void 0),I([t.Property("en-US")],r.prototype,"locale",void 0),I([t.Property(0)],r.prototype,"firstDayOfWeek",void 0),I([t.Property(!1)],r.prototype,"weekNumber",void 0),I([t.Event()],r.prototype,"created",void 0),I([t.Event()],r.prototype,"destroyed",void 0),I([t.Event()],r.prototype,"change",void 0),I([t.Event()],r.prototype,"navigated",void 0),I([t.Event()],r.prototype,"renderDayCell",void 0),I([t.Property(null)],r.prototype,"startDate",void 0),I([t.Property(null)],r.prototype,"endDate",void 0),I([t.Collection([{}],le)],r.prototype,"presets",void 0),I([t.Property("")],r.prototype,"width",void 0),I([t.Property(1e3)],r.prototype,"zIndex",void 0),I([t.Property(!0)],r.prototype,"showClearButton",void 0),I([t.Property(!0)],r.prototype,"showTodayButton",void 0),I([t.Property("Month")],r.prototype,"start",void 0),I([t.Property("Month")],r.prototype,"depth",void 0),I([t.Property("")],r.prototype,"cssClass",void 0),I([t.Property("-")],r.prototype,"separator",void 0),I([t.Property(null)],r.prototype,"minDays",void 0),I([t.Property(null)],r.prototype,"maxDays",void 0),I([t.Property(!1)],r.prototype,"strictMode",void 0),I([t.Property(null)],r.prototype,"format",void 0),I([t.Property(!0)],r.prototype,"enabled",void 0),I([t.Property(!1)],r.prototype,"readonly",void 0),I([t.Property("Never")],r.prototype,"floatLabelType",void 0),I([t.Property(null)],r.prototype,"placeholder",void 0),I([t.Event()],r.prototype,"open",void 0),I([t.Event()],r.prototype,"close",void 0),I([t.Event()],r.prototype,"select",void 0),I([t.Event()],r.prototype,"focus",void 0),I([t.Event()],r.prototype,"blur",void 0),r=I([t.NotifyPropertyChanges],r)}(g),he=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),pe=function(e,t,i,s){var a,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},ue=(new Date).getDate(),de=(new Date).getMonth(),ce=(new Date).getFullYear(),me="e-active",ve="e-navigation",fe="e-disabled",ye="e-input-focus",ge=n.cssClass.li;!function(t){(e.TimePickerBase||(e.TimePickerBase={})).createListItems=function(e,t,i,s,a){var r,l,o=6e4*a,h=[],p=[];for(r=+e.setMilliseconds(0),l=+t.setMilliseconds(0);l>=r;)p.push(r),h.push(i.formatDate(new Date(r),{format:s,type:"time"})),r+=o;return{collection:p,list:n.ListBase.createList(h,null,!0)}}}();var De=function(e){function a(t,i){var s=e.call(this,t,i)||this;return s.liCollections=[],s.timeCollections=[],s.disableItemCollection=[],s}return he(a,e),a.prototype.preRender=function(){this.keyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.cloneElement=this.element.cloneNode(!0),this.inputElement=this.element,this.angularTag=null,"EJS-TIMEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=t.createElement("input"),this.element.appendChild(this.inputElement))},a.prototype.render=function(){this.initialize(),this.createInputElement(),this.setEnable(),this.validateInterval(),this.bindEvents(),this.validateDisable(),this.setValue(this.getFormattedValue(this.value))},a.prototype.validateDisable=function(){this.setMinMax(this.initMin,this.initMax),this.popupCreation(),this.popupObj.hide(),isNaN(+this.value)||null===this.value||this.valueIsDisable(this.value)||(this.strictMode&&this.resetState(),this.initValue=null,this.initMax=this.getDateObject(this.initMax),this.initMin=this.getDateObject(this.initMin),this.timeCollections=this.liCollections=[],this.setMinMax(this.initMin,this.initMax))},a.prototype.initialize=function(){this.globalize=new t.Internationalization(this.locale),this.defaultCulture=new t.Internationalization("en"),this.setProperties({value:this.checkDateValue(new Date(""+this.value))},!0),this.setProperties({min:this.checkDateValue(new Date(""+this.min))},!0),this.setProperties({max:this.checkDateValue(new Date(""+this.max))},!0),this.checkAttributes();var e={placeholder:this.placeholder};this.l10n=new t.L10n("timepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.initValue=this.checkDateValue(this.value),this.initMin=this.checkDateValue(this.min),this.initMax=this.checkDateValue(this.max),this.isNavigate=this.isPreventBlur=this.isTextSelected=!1,this.activeIndex=this.valueWithMinutes=this.prevDate=null,t.isNullOrUndefined(this.element.getAttribute("id"))?(this.element.id=t.getUniqueID("ej2_timepicker"),null!==this.angularTag&&t.attributes(this.inputElement,{id:this.element.id+"_input"})):null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"),t.isNullOrUndefined(this.inputElement.getAttribute("name"))&&t.attributes(this.inputElement,{name:this.element.id})},a.prototype.checkDateValue=function(e){return!t.isNullOrUndefined(e)&&e instanceof Date&&!isNaN(+e)?e:null},a.prototype.createInputElement=function(){this.inputWrapper=s.Input.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[" e-input-group-icon e-time-icon e-icons"]}),this.inputWrapper.container.style.width=this.setWidth(this.width),t.attributes(this.inputElement,{"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"false","aria-invalid":"false"}),this.isNullOrEmpty(this.inputStyle)||s.Input.addAttributes({style:this.inputStyle},this.inputElement),t.addClass([this.inputWrapper.container],"e-time-wrapper")},a.prototype.destroy=function(){this.hide(),this.unBindEvents();var i={"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"true","aria-invalid":"false"};this.inputElement&&(s.Input.removeAttributes(i,this.inputElement),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),this.ensureInputAttribute(),this.enableElement([this.inputElement]),this.inputElement.classList.remove("e-input"),t.isNullOrUndefined(this.cloneElement.getAttribute("disabled"))&&s.Input.setEnabled(!0,this.inputElement,this.floatLabelType)),this.inputWrapper.container&&t.remove(this.inputWrapper.container),this.inputWrapper=this.popupWrapper=this.cloneElement=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],t.isNullOrUndefined(this.rippleFn)||this.rippleFn(),e.prototype.destroy.call(this)},a.prototype.ensureInputAttribute=function(){for(var e=0;e<this.inputElement.attributes.length;e++){var i=this.inputElement.attributes[e].name;t.isNullOrUndefined(this.cloneElement.getAttribute(i))&&(("value"===i.toLowerCase()||t.isNullOrUndefined(this.cloneElement.getAttribute("value")))&&(this.inputElement.value=""),this.inputElement.removeAttribute(i))}},a.prototype.popupCreation=function(){this.popupWrapper=t.createElement("div",{className:"e-timepicker e-popup",attrs:{id:this.element.id+"_popup",style:"visibility:hidden"}}),t.isNullOrUndefined(this.cssClass)||this.popupWrapper.classList.add(this.cssClass),!t.isNullOrUndefined(this.step)&&this.step>0&&(this.generateList(),t.append([this.listWrapper],this.popupWrapper)),document.body.appendChild(this.popupWrapper),this.addSelection(),this.renderPopup(),this.setScrollPosition()},a.prototype.getPopupHeight=function(){var e=parseInt("240px",10),t=this.popupWrapper.getBoundingClientRect().height;return t>e?e:t},a.prototype.generateList=function(){this.createListItems(),this.wireListEvents();var e={duration:300,selector:"."+ge};this.rippleFn=t.rippleEffect(this.listWrapper,e),this.liCollections=this.listWrapper.querySelectorAll("."+ge)},a.prototype.popupCalculation=function(){var e=0;if(t.Browser.isDevice){var i=this.isEmptyList()?this.listTag:this.liCollections[0];e=-(parseInt(getComputedStyle(i).textIndent,10)-(this.enableRtl?parseInt(getComputedStyle(this.inputElement).paddingRight,10):parseInt(getComputedStyle(this.inputElement).paddingLeft,10)))}return e},a.prototype.isEmptyList=function(){return!t.isNullOrUndefined(this.liCollections)&&0===this.liCollections.length||t.isNullOrUndefined(this.liCollections)},a.prototype.renderPopup=function(){var e=this;this.containerStyle=this.inputWrapper.container.getBoundingClientRect();var s=t.Browser.isDevice?this.setPopupPosition():2;this.popupObj=new i.Popup(this.popupWrapper,{width:this.setPopupWidth(this.width),zIndex:this.zIndex,targetType:"relative",collision:{X:"flip",Y:"flip"},relateTo:this.inputWrapper.container,position:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:s,offsetX:this.popupCalculation(),open:function(){e.popupWrapper.style.visibility="visible",t.addClass([e.inputWrapper.buttons[0]],me)},close:function(){t.removeClass([e.inputWrapper.buttons[0]],me),e.unWireListEvents(),e.inputElement.setAttribute("aria-activedescendant","null"),t.remove(e.popupObj.element),e.popupObj.destroy(),e.popupWrapper.innerHTML="",e.listWrapper=e.popupWrapper=e.listTag=void 0}}),t.Browser.isDevice||(this.popupObj.collision={X:"none",Y:"flip"}),this.popupObj.element.style.maxHeight="240px"},a.prototype.getFormattedValue=function(e){return t.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{skeleton:"medium",type:"time"})},a.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var t=this.createDateObj(e),i=!this.isNullOrEmpty(this.initValue);if(this.checkDateValue(t)){var s=i?this.initValue.getDate():ue,a=i?this.initValue.getMonth():de,n=i?this.initValue.getFullYear():ce;return new Date(n,a,s,t.getHours(),t.getMinutes(),t.getSeconds())}}return null},a.prototype.checkErrorState=function(e){var i=this.getDateObject(e);this.validateState(i)?(t.removeClass([this.inputWrapper.container],"e-error"),t.attributes(this.inputElement,{"aria-invalid":"false"})):(t.addClass([this.inputWrapper.container],"e-error"),t.attributes(this.inputElement,{"aria-invalid":"true"}))},a.prototype.validateInterval=function(){!t.isNullOrUndefined(this.step)&&this.step>0?this.enableElement([this.inputWrapper.buttons[0]]):this.disableTimeIcon()},a.prototype.disableTimeIcon=function(){this.disableElement([this.inputWrapper.buttons[0]]),this.hide()},a.prototype.disableElement=function(e){t.addClass(e,fe)},a.prototype.enableElement=function(e){t.removeClass(e,fe)},a.prototype.selectInputText=function(){this.inputElement.setSelectionRange(0,this.inputElement.value.length)},a.prototype.getMeridianText=function(){return"en"===this.locale||"en-US"===this.locale?t.getValue("dayPeriods.format.wide",t.getDefaultDateObject()):t.getValue("main."+this.locale+".dates.calendars.gregorian.dayPeriods.format.abbreviated",t.cldrData)},a.prototype.getCursorSelection=function(){var e=this.inputElement,t=0,i=0;return isNaN(e.selectionStart)||(t=e.selectionStart,i=e.selectionEnd),{start:Math.abs(t),end:Math.abs(i)}},a.prototype.getActiveElement=function(){return t.isNullOrUndefined(this.popupWrapper)?null:this.popupWrapper.querySelectorAll("."+me)},a.prototype.isNullOrEmpty=function(e){return!!(t.isNullOrUndefined(e)||"string"==typeof e&&""===e.trim())},a.prototype.setWidth=function(e){return e="number"==typeof e?t.formatUnit(e):"string"==typeof e?e.match(/px|%|em/)?e:t.formatUnit(e):"100%"},a.prototype.setPopupWidth=function(e){if((e=this.setWidth(e)).indexOf("%")>-1){e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"}if(t.Browser.isDevice){var i=this.isEmptyList()?this.listTag:this.liCollections[0];e=parseInt(e,10)+2*(parseInt(getComputedStyle(i).textIndent,10)-parseInt(getComputedStyle(this.inputElement).textIndent,10)+parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth,10))+"px"}return e},a.prototype.setScrollPosition=function(){var e;this.getPopupHeight();e=this.selectedElement,t.isNullOrUndefined(e)?this.popupWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)},a.prototype.findScrollTop=function(e){var t=this.getPopupHeight(),i=e.nextElementSibling,s=i?i.offsetTop:e.offsetTop,a=e.getBoundingClientRect().height;s+e.offsetTop>t?this.popupWrapper.scrollTop=i?s-(t/2+a/2):s:this.popupWrapper.scrollTop=0},a.prototype.setScrollTo=function(){var e;if(t.isNullOrUndefined(this.popupWrapper))this.popupWrapper.scrollTop=0;else{var i=this.popupWrapper.querySelectorAll("."+ge);if(i.length){var s=this.timeCollections[0],a=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=i[Math.round((a-s)/(6e4*this.step))]}}t.isNullOrUndefined(e)?this.popupWrapper.scrollTop=0:this.findScrollTop(e)},a.prototype.getText=function(){return t.isNullOrUndefined(this.checkDateValue(this.value))?"":this.getValue(this.value)},a.prototype.getValue=function(e){return t.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},a.prototype.cldrDateFormat=function(){return"en"===this.locale||"en-US"===this.locale?t.getValue("dateFormats.short",t.getDefaultDateObject()):this.getCultureDateObject(t.cldrData,""+this.locale)},a.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.format)?"en"===this.locale||"en-US"===this.locale?t.getValue("timeFormats.short",t.getDefaultDateObject()):this.getCultureTimeObject(t.cldrData,""+this.locale):this.format},a.prototype.dateToNumeric=function(){return"en"===this.locale||"en-US"===this.locale?t.getValue("timeFormats.medium",t.getDefaultDateObject()):t.getValue("main."+this.locale+".dates.calendars.gregorian.timeFormats.medium",t.cldrData)},a.prototype.getExactDateTime=function(e){return t.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.dateToNumeric(),type:"time"})},a.prototype.setValue=function(e){var t=this.checkValue(e);this.strictMode||this.validateState(t)?this.isNullOrEmpty(t)?(this.initValue=null,this.validateMinMax(this.value,this.min,this.max)):this.initValue=this.compareFormatChange(t):(this.initValue=this.valueWithMinutes=null,this.validateMinMax(this.value,this.min,this.max)),this.updateInput(!0,this.initValue)},a.prototype.compareFormatChange=function(e){return t.isNullOrUndefined(e)?null:e!==this.getText()?this.getDateObject(e):this.getDateObject(this.value)},a.prototype.updatePlaceHolder=function(){s.Input.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)},a.prototype.popupHandler=function(e){this.isPopupOpen()?this.closePopup(0,e):(t.Browser.isDevice||this.inputElement.focus(),this.show(e),t.addClass([this.inputWrapper.container],ye))},a.prototype.mouseDownHandler=function(){if(!this.readonly){this.getCursorSelection();this.inputElement.setSelectionRange(0,0),t.EventHandler.add(this.inputElement,"mouseup",this.mouseUpHandler,this)}},a.prototype.mouseUpHandler=function(e){if(!this.readonly){e.preventDefault(),t.EventHandler.remove(this.inputElement,"mouseup",this.mouseUpHandler);var i=this.getCursorSelection();0===i.start&&i.end===this.inputElement.value.length||(this.inputElement.value.length>0&&(this.cursorDetails=this.focusSelection()),this.inputElement.setSelectionRange(this.cursorDetails.start,this.cursorDetails.end))}},a.prototype.focusSelection=function(){var e=new RegExp("^[a-zA-Z0-9]+$"),t=this.inputElement.value.split("");t.push(" ");var i=this.getCursorSelection(),s=0,a=0,n=!1;if(this.isTextSelected)s=i.start,a=i.end,this.isTextSelected=!1;else for(var r=0;r<t.length;r++)if(e.test(t[r])||(a=r,n=!0),n){if(i.start>=s&&i.end<=a){a=a,this.isTextSelected=!0;break}s=r+1,n=!1}return{start:s,end:a}},a.prototype.inputHandler=function(e){if(!this.readonly&&this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"home":case"end":case"up":case"down":this.keyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.updateValue(this.valueWithMinutes,e)):this.updateValue(this.inputElement.value,e),this.hide(),t.addClass([this.inputWrapper.container],ye),this.isNavigate=!1;break;case"open":this.show(e);break;case"escape":s.Input.setValue(this.objToString(this.value),this.inputElement,this.floatLabelType,this.showClearButton),this.previousState(this.value),this.hide();break;case"close":this.hide();break;default:this.isNavigate=!1}},a.prototype.onMouseClick=function(e){var i=e.target,s=this.selectedElement=t.closest(i,"."+ge);this.setSelection(s,e),s&&s.classList.contains(ge)&&(this.hide(),t.Browser.isDevice||t.addClass([this.inputWrapper.container],ye))},a.prototype.closePopup=function(e,i){if(this.isPopupOpen()&&this.popupWrapper){var s={popup:this.popupObj,event:i||null,cancel:!1,name:"open"};if(this.trigger("close",s),!s.cancel){var a={name:"FadeOut",duration:50,delay:e||0};this.popupObj.hide(new t.Animation(a)),t.removeClass([this.inputWrapper.container],["e-icon-anim"]),t.attributes(this.inputElement,{"aria-expanded":"false"}),t.EventHandler.remove(document,"mousedown touchstart",this.documentClickHandler)}}},a.prototype.checkValueChange=function(e,i){if(this.strictMode||this.validateState(this.valueWithMinutes))if(i){var s=this.getDateObject(new Date(this.timeCollections[this.activeIndex]));+this.prevDate!=+s&&this.valueProcess(e,s)}else(this.prevValue!==this.inputElement.value||t.isNullOrUndefined(this.checkDateValue(this.value)))&&this.valueProcess(e,this.compareFormatChange(this.inputElement.value));else this.initValue=this.valueWithMinutes=null,this.setProperties({value:this.compareFormatChange(this.inputElement.value)},!0),this.prevValue=this.inputElement.value,+this.prevDate!=+this.value&&this.changeEvent(e)},a.prototype.onMouseOver=function(e){var i=t.closest(e.target,"."+ge);this.setHover(i,"e-hover")},a.prototype.setHover=function(e,i){this.enabled&&this.isValidLI(e)&&!e.classList.contains(i)&&(this.removeHover(i),t.addClass([e],i),i===ve&&e.setAttribute("aria-selected","true"))},a.prototype.setSelection=function(e,i){this.isValidLI(e)&&!e.classList.contains(me)&&(this.checkValue(e.getAttribute("data-value")),this.selectedElement=e,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),t.addClass([this.selectedElement],me),this.selectedElement.setAttribute("aria-selected","true"),this.checkValueChange(i,!0))},a.prototype.onMouseLeave=function(){this.removeHover("e-hover")},a.prototype.scrollHandler=function(){"timepicker"===this.getModuleName()&&t.Browser.isDevice||this.hide()},a.prototype.setMinMax=function(e,i){t.isNullOrUndefined(this.checkDateValue(e))&&(this.initMin=this.getDateObject("12:00:00 AM")),t.isNullOrUndefined(this.checkDateValue(i))&&(this.initMax=this.getDateObject("11:59:59 PM"))},a.prototype.validateMinMax=function(e,i,s){var a=e instanceof Date?e:this.getDateObject(e);return t.isNullOrUndefined(this.checkDateValue(a))?+this.createDateObj(this.getFormattedValue(this.initMin))>+this.createDateObj(this.getFormattedValue(this.initMax))&&this.disableTimeIcon():e=this.strictOperation(this.initMin,this.initMax,e,a),this.strictMode&&(e=this.valueIsDisable(e)?e:null),this.checkErrorState(e),e},a.prototype.valueIsDisable=function(e){if(this.disableItemCollection.length>0){if(this.disableItemCollection.length===this.timeCollections.length)return!1;for(var t=e instanceof Date?this.objToString(e):e,i=0;i<this.disableItemCollection.length;i++)if(t===this.disableItemCollection[i])return!1}return!0},a.prototype.validateState=function(e){if(!this.strictMode){if(!this.valueIsDisable(e))return!1;var i=this.setCurrentDate(this.getDateObject(e)),s=this.setCurrentDate(this.getDateObject(this.initMax)),a=this.setCurrentDate(this.getDateObject(this.initMin));if(t.isNullOrUndefined(this.checkDateValue(i))){if(+s<+a||""!==this.inputElement.value)return!1}else if(+i>+s||+i<+a)return!1}return!0},a.prototype.strictOperation=function(e,t,i,a){var n=this.createDateObj(this.getFormattedValue(t)),r=this.createDateObj(this.getFormattedValue(e)),l=this.createDateObj(this.getFormattedValue(a));if(this.strictMode){if(+r>+n)return this.disableTimeIcon(),this.initValue=this.getDateObject(n),s.Input.setValue(this.getValue(this.initValue),this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.value;if(+r>=+l)return this.getDateObject(r);if(+l>=+n||+r==+n)return this.getDateObject(n)}else if(+r>+n&&(this.disableTimeIcon(),!isNaN(+this.createDateObj(i))))return i;return i},a.prototype.bindEvents=function(){t.EventHandler.add(this.inputWrapper.buttons[0],"click",this.popupHandler,this),t.EventHandler.add(this.inputElement,"blur",this.inputBlurHandler,this),t.EventHandler.add(this.inputElement,"focus",this.inputFocusHandler,this),t.EventHandler.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&t.EventHandler.add(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler,this),t.Browser.isDevice||(this.inputEvent=new t.KeyboardEvents(this.inputWrapper.container,{keyAction:this.inputHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.showClearButton&&t.EventHandler.add(this.inputElement,"mousedown touchstart",this.mouseDownHandler,this))},a.prototype.inputChangeHandler=function(e){e.stopPropagation()},a.prototype.unBindEvents=function(){t.EventHandler.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.popupHandler),t.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),t.EventHandler.remove(this.inputElement,"focus",this.inputFocusHandler),t.EventHandler.remove(this.inputElement,"change",this.inputChangeHandler),this.inputEvent&&this.inputEvent.destroy(),t.EventHandler.remove(this.inputElement,"mousedown touchstart",this.mouseDownHandler),t.EventHandler.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler)},a.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&t.EventHandler.add(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler,this)},a.prototype.clearHandler=function(e){e.preventDefault(),this.clear(e),this.popupWrapper&&(this.popupWrapper.scrollTop=0)},a.prototype.clear=function(e){this.setProperties({value:null},!0),this.initValue=null,this.resetState(),this.changeEvent(e)},a.prototype.setZIndex=function(){this.popupObj&&(this.popupObj.zIndex=this.zIndex,this.popupObj.dataBind())},a.prototype.checkAttributes=function(){for(var e,i=0,s=["step","disabled","readonly","style","name","value","min","max","placeholder"];i<s.length;i++){var a=s[i];if(!t.isNullOrUndefined(this.inputElement.getAttribute(a)))switch(a){case"disabled":var n=t.isNullOrUndefined(this.inputElement.getAttribute(a));this.setProperties({enabled:n},!0);break;case"readonly":var r=!t.isNullOrUndefined(this.inputElement.getAttribute(a));this.setProperties({readonly:r},!0);break;case"style":this.inputStyle=this.inputElement.getAttribute(a);break;case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(a));break;case"step":this.step=parseInt(this.inputElement.getAttribute(a),10);break;case"placeholder":this.placeholder=this.inputElement.getAttribute(a);break;case"min":e=new Date(this.inputElement.getAttribute(a)),t.isNullOrUndefined(this.checkDateValue(e))||this.setProperties({min:e},!0);break;case"max":e=new Date(this.inputElement.getAttribute(a)),t.isNullOrUndefined(this.checkDateValue(e))||this.setProperties({max:e},!0);break;case"value":e=new Date(this.inputElement.getAttribute(a)),t.isNullOrUndefined(this.checkDateValue(e))||(this.initValue=e,this.updateInput(!1,this.initValue))}}},a.prototype.setCurrentDate=function(e){return t.isNullOrUndefined(this.checkDateValue(e))?null:new Date(ce,de,ue,e.getHours(),e.getMinutes(),e.getSeconds())},a.prototype.getTextFormat=function(){var e=0;if("a"===this.cldrTimeFormat().split(" ")[0]||0===this.cldrTimeFormat().indexOf("a"))e=1;else if(this.cldrTimeFormat().indexOf("a")<0)for(var t=this.cldrTimeFormat().split(" "),i=0;i<t.length;i++)if(t[i].toLowerCase().indexOf("h")>=0){e=i;break}return e},a.prototype.updateValue=function(e,t){var i;if(this.isNullOrEmpty(e))this.resetState();else if(i=this.checkValue(e),this.strictMode){var a=null===i&&e.trim().length>0?this.previousState(this.prevDate):this.inputElement.value;s.Input.setValue(a,this.inputElement,this.floatLabelType,this.showClearButton)}this.checkValueChange(t,"string"!=typeof e)},a.prototype.previousState=function(e){for(var t=this.getDateObject(e),i=0;i<this.timeCollections.length;i++)if(+t===this.timeCollections[i]){this.activeIndex=i,this.selectedElement=this.liCollections[i],this.valueWithMinutes=new Date(this.timeCollections[i]);break}return this.prevValue},a.prototype.resetState=function(){this.removeSelection(),s.Input.setValue("",this.inputElement,this.floatLabelType,!1),this.valueWithMinutes=this.activeIndex=null,this.strictMode||this.checkErrorState(null)},a.prototype.objToString=function(e){return t.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},a.prototype.checkValue=function(e){if(!this.isNullOrEmpty(e)){var t=e instanceof Date?e:this.getDateObject(e);return this.validateValue(t,e)}return this.resetState(),this.valueWithMinutes=null},a.prototype.validateValue=function(e,i){var a,n=this.validateMinMax(i,this.min,this.max),r=this.createDateObj(n);if(this.getFormattedValue(r)!==this.getFormattedValue(this.value)?(this.valueWithMinutes=t.isNullOrUndefined(r)?null:r,a=this.objToString(this.valueWithMinutes)):(this.strictMode&&(e=r),this.valueWithMinutes=this.checkDateValue(e),a=this.objToString(this.valueWithMinutes)),!this.strictMode&&t.isNullOrUndefined(a)){var l=n.trim().length>0?n:"";s.Input.setValue(l,this.inputElement,this.floatLabelType,this.showClearButton)}else s.Input.setValue(a,this.inputElement,this.floatLabelType,this.showClearButton);return a},a.prototype.findNextElement=function(e){var i=this.inputElement.value,s=t.isNullOrUndefined(this.valueWithMinutes)?this.createDateObj(i):this.getDateObject(this.valueWithMinutes),a=null,n=this.liCollections.length;if(t.isNullOrUndefined(this.checkDateValue(s))&&t.isNullOrUndefined(this.activeIndex)){r=this.validLiElement(0,"down"!==e.action);this.activeIndex=r,this.selectedElement=this.liCollections[r],this.elementValue(new Date(this.timeCollections[r]))}else{if("home"===e.action){var r=this.validLiElement(0);a=+this.createDateObj(new Date(this.timeCollections[r])),this.activeIndex=r}else if("end"===e.action){var r=this.validLiElement(this.timeCollections.length-1,!0);a=+this.createDateObj(new Date(this.timeCollections[r])),this.activeIndex=r}else if("down"===e.action)for(var l=0;l<n;l++){if(+s<this.timeCollections[l]){r=this.validLiElement(l);a=+this.createDateObj(new Date(this.timeCollections[r])),this.activeIndex=r;break}if(l===n-1){r=this.validLiElement(0);a=+this.createDateObj(new Date(this.timeCollections[r])),this.activeIndex=r;break}}else for(l=n-1;l>=0;l--){if(+s>this.timeCollections[l]){r=this.validLiElement(l,!0);a=+this.createDateObj(new Date(this.timeCollections[r])),this.activeIndex=r;break}if(0===l){r=this.validLiElement(n-1);a=+this.createDateObj(new Date(this.timeCollections[r])),this.activeIndex=r;break}}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(t.isNullOrUndefined(a)?null:new Date(a))}},a.prototype.elementValue=function(e){t.isNullOrUndefined(this.checkDateValue(e))||this.checkValue(e)},a.prototype.validLiElement=function(e,i){var s=null,a=t.isNullOrUndefined(this.popupWrapper)?this.liCollections:this.popupWrapper.querySelectorAll("."+ge),n=!0;if(a.length)if(i)for(var r=e;r>=0;r--){if(!a[r].classList.contains(fe)){s=r;break}0===r&&n&&(e=r=a.length,n=!1)}else for(r=e;r<=a.length-1;r++){if(!a[r].classList.contains(fe)){s=r;break}r===a.length-1&&n&&(e=r=-1,n=!1)}return s},a.prototype.keyHandler=function(e){if(!(t.isNullOrUndefined(this.step)||this.step<=0||this.inputWrapper.buttons[0].classList.contains(fe))){var i=this.timeCollections.length;if(t.isNullOrUndefined(this.getActiveElement())||0===this.getActiveElement().length)if(this.liCollections.length>0)if(t.isNullOrUndefined(this.value)&&t.isNullOrUndefined(this.activeIndex)){var s=this.validLiElement(0,"down"!==e.action);this.activeIndex=s,this.selectedElement=this.liCollections[s],this.elementValue(new Date(this.timeCollections[s]))}else this.findNextElement(e);else this.findNextElement(e);else{var a=void 0;if(e.keyCode>=37&&e.keyCode<=40){s=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=s=this.activeIndex===i?0:this.activeIndex,this.activeIndex=s=this.activeIndex<0?i-1:this.activeIndex,this.activeIndex=s=this.validLiElement(this.activeIndex,40!==e.keyCode&&39!==e.keyCode),a=t.isNullOrUndefined(this.timeCollections[s])?this.timeCollections[0]:this.timeCollections[s]}else if("home"===e.action){s=this.validLiElement(0);this.activeIndex=s,a=this.timeCollections[s]}else if("end"===e.action){s=this.validLiElement(i-1,!0);this.activeIndex=s,a=this.timeCollections[s]}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(new Date(a))}this.isNavigate=!0,this.setHover(this.selectedElement,ve),this.setActiveDescendant(),this.selectInputText(),!this.isPopupOpen()||null===this.selectedElement||e&&"click"===e.type||this.setScrollPosition()}},a.prototype.setPopupPosition=function(){var e,t=this.getPopupHeight(),i=this.getActiveElement(),s=this.liCollections[0].getBoundingClientRect().height,a=t/2,n=0===i.length?this.liCollections[0].offsetTop:i[0].offsetTop,r=this.liCollections[this.liCollections.length-1].offsetTop,l=parseInt(getComputedStyle(this.listTag).paddingTop,10);if(r-a<n){e=(t/s-(this.liCollections.length-this.activeIndex))*s-l-2}else e=n+s>a?a-s/2:n;return-(e=e+2+(s-this.containerStyle.height)/2)},a.prototype.getCultureTimeObject=function(e,i){return t.getValue("main."+i+".dates.calendars.gregorian.timeFormats.short",e)},a.prototype.getCultureDateObject=function(e,i){return t.getValue("main."+i+".dates.calendars.gregorian.dateFormats.short",e)},a.prototype.wireListEvents=function(){t.EventHandler.add(this.listWrapper,"click",this.onMouseClick,this),t.Browser.isDevice||(t.EventHandler.add(this.listWrapper,"mouseover",this.onMouseOver,this),t.EventHandler.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},a.prototype.unWireListEvents=function(){this.listWrapper&&(t.EventHandler.remove(this.listWrapper,"click",this.onMouseClick),t.Browser.isDevice||(t.EventHandler.remove(this.listWrapper,"mouseover",this.onMouseOver),t.EventHandler.remove(this.listWrapper,"mouseout",this.onMouseLeave)))},a.prototype.valueProcess=function(e,i){var s=t.isNullOrUndefined(this.checkDateValue(i))?null:i;+this.prevDate!=+s&&(this.initValue=s,this.changeEvent(e))},a.prototype.changeEvent=function(e){this.addSelection(),this.updateInput(!0,this.initValue);var i={e:e||null,event:e||null,value:this.value,text:this.inputElement.value,isInteracted:!t.isNullOrUndefined(e),element:this.element};i.value=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.prevDate=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.trigger("change",i)},a.prototype.updateInput=function(e,t){e&&(this.prevValue=this.getValue(t)),this.prevDate=this.valueWithMinutes=t,this.setProperties({value:t},!0)},a.prototype.setActiveDescendant=function(){t.isNullOrUndefined(this.selectedElement)?t.attributes(this.inputElement,{"aria-activedescendant":"null"}):t.attributes(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})},a.prototype.removeSelection=function(){if(this.removeHover("e-hover"),!t.isNullOrUndefined(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll("."+me);e.length&&(t.removeClass(e,me),e[0].removeAttribute("aria-selected"))}},a.prototype.removeHover=function(e){var i=this.getHoverItem(e);i&&i.length&&(t.removeClass(i,e),e===ve&&i[0].removeAttribute("aria-selected"))},a.prototype.getHoverItem=function(e){var i;return t.isNullOrUndefined(this.popupWrapper)||(i=this.popupWrapper.querySelectorAll("."+e)),i},a.prototype.setActiveClass=function(){if(!t.isNullOrUndefined(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll("."+ge);if(e.length)for(var i=0;i<e.length;i++)if(this.timeCollections[i]===+this.getDateObject(this.valueWithMinutes)){e[i].setAttribute("aria-selected","true"),this.selectedElement=e[i],this.activeIndex=i;break}}},a.prototype.addSelection=function(){this.selectedElement=null,this.removeSelection(),this.setActiveClass(),t.isNullOrUndefined(this.selectedElement)||(t.addClass([this.selectedElement],me),this.selectedElement.setAttribute("aria-selected","true"))},a.prototype.isValidLI=function(e){return e&&e.classList.contains(ge)&&!e.classList.contains(fe)},a.prototype.createDateObj=function(e){var i=this.globalize.formatDate(new Date,{skeleton:"short",type:"date"}),s=null;return"string"==typeof e?e.toUpperCase().indexOf("AM")>-1||e.toUpperCase().indexOf("PM")>-1?(i=this.defaultCulture.formatDate(new Date,{skeleton:"short",type:"date"}),s=isNaN(+new Date(i+" "+e))?null:new Date(new Date(i+" "+e).setMilliseconds(0)),t.isNullOrUndefined(s)&&(s=this.TimeParse(i,e))):s=this.TimeParse(i,e):e instanceof Date&&(s=e),s},a.prototype.TimeParse=function(e,i){var s;return s=this.globalize.parseDate(e+" "+i,{format:this.cldrDateFormat()+" "+this.cldrTimeFormat(),type:"datetime"}),s=t.isNullOrUndefined(s)?this.globalize.parseDate(e+" "+i,{format:this.cldrDateFormat()+" "+this.dateToNumeric(),type:"datetime"}):s,s=t.isNullOrUndefined(s)?s:new Date(s.setMilliseconds(0))},a.prototype.createListItems=function(){var e=this;this.listWrapper=t.createElement("div",{className:"e-content",attrs:{tabindex:"0"}});var i,s,a=6e4*this.step,r=[];for(this.timeCollections=[],this.disableItemCollection=[],i=+this.getDateObject(this.initMin).setMilliseconds(0),s=+this.getDateObject(this.initMax).setMilliseconds(0);s>=i;)this.timeCollections.push(i),r.push(this.globalize.formatDate(new Date(i),{format:this.cldrTimeFormat(),type:"time"})),i+=a;var l={itemCreated:function(t){var i={element:t.item,text:t.text,value:e.getDateObject(t.text),isDisabled:!1};e.trigger("itemRender",i),i.isDisabled&&i.element.classList.add(fe),i.element.classList.contains(fe)&&e.disableItemCollection.push(i.element.getAttribute("data-value"))}};this.listTag=n.ListBase.createList(r,l,!0),t.attributes(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),t.append([this.listTag],this.listWrapper)},a.prototype.documentClickHandler=function(e){t.Browser.isDevice||e.preventDefault();var i=e.target;t.closest(i,"#"+this.popupObj.element.id)||i===this.inputElement||i===(this.inputWrapper&&this.inputWrapper.buttons[0])||i===(this.inputWrapper&&this.inputWrapper.clearButton)||i===(this.inputWrapper&&this.inputWrapper.container)?i!==this.inputElement&&(t.Browser.isDevice||(this.isPreventBlur=(t.Browser.isIE||"edge"===t.Browser.info.name)&&document.activeElement===this.inputElement,e.preventDefault())):this.isPopupOpen()&&this.hide()},a.prototype.setEnableRtl=function(){s.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},a.prototype.setEnable=function(){s.Input.setEnabled(this.enabled,this.inputElement,this.floatLabelType),this.enabled?(t.removeClass([this.inputWrapper.container],fe),t.attributes(this.inputElement,{"aria-disabled":"false"})):(this.hide(),t.addClass([this.inputWrapper.container],fe),t.attributes(this.inputElement,{"aria-disabled":"true"}))},a.prototype.getProperty=function(e,t){"min"===t?(this.initMin=this.checkDateValue(new Date(""+e.min)),this.setProperties({min:this.initMin},!0)):(this.initMax=this.checkDateValue(new Date(""+e.max)),this.setProperties({max:this.initMax},!0)),""===this.inputElement.value?this.validateMinMax(this.value,this.min,this.max):this.checkValue(this.inputElement.value),this.checkValueChange(null,!1)},a.prototype.inputBlurHandler=function(e){if(this.isPreventBlur&&this.isPopupOpen())this.inputElement.focus();else{this.closePopup(0,e),t.removeClass([this.inputWrapper.container],[ye]);var i={model:this};this.trigger("blur",i),this.getText()!==this.inputElement.value?this.updateValue(this.inputElement.value,e):0===this.inputElement.value.trim().length&&this.resetState(),this.cursorDetails=null,this.isNavigate=!1}},a.prototype.focusOut=function(){if(document.activeElement===this.inputElement){this.inputElement.blur();var e={model:this};this.trigger("blur",e)}},a.prototype.isPopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-timepicker"))},a.prototype.inputFocusHandler=function(){var e={model:this};this.readonly||t.Browser.isDevice||this.selectInputText(),this.trigger("focus",e)},a.prototype.focusIn=function(){if(document.activeElement!==this.inputElement&&this.enabled){this.inputElement.focus();var e={model:this};this.trigger("focus",e)}},a.prototype.hide=function(){this.closePopup(100,null)},a.prototype.show=function(e){if(!(this.enabled&&this.readonly||!this.enabled||this.popupWrapper)){var i={popup:this.popupObj||null,cancel:!1,event:e||null,name:"open"};if(this.trigger("open",i),!i.cancel&&!this.isPopupOpen()&&!this.inputWrapper.buttons[0].classList.contains(fe)){if(this.popupCreation(),!i.cancel){var s={name:"FadeIn",duration:50};this.popupObj.refreshPosition(this.inputElement),this.popupObj.show(new t.Animation(s)),this.setActiveDescendant(),t.attributes(this.inputElement,{"aria-expanded":"true"})}t.EventHandler.add(document,"mousedown touchstart",this.documentClickHandler,this)}}},a.prototype.getPersistData=function(){return this.addOnPersist(["value"])},a.prototype.getModuleName=function(){return"timepicker"},a.prototype.onPropertyChanged=function(e,i){for(var a=0,n=Object.keys(e);a<n.length;a++){var r=n[a];switch(r){case"placeholder":s.Input.setPlaceholder(e.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",e.placeholder);break;case"readonly":s.Input.setReadonly(this.readonly,this.inputElement,this.floatLabelType),this.readonly&&this.hide();break;case"cssClass":t.addClass([this.inputWrapper.container],[e.cssClass]),this.popupWrapper&&t.addClass([this.popupWrapper],[e.cssClass]),this.setProperties({cssClass:e.cssClass},!0);break;case"enabled":this.setProperties({enabled:e.enabled},!0),this.setEnable();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),this.setEnableRtl();break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex();break;case"min":case"max":this.getProperty(e,r);break;case"showClearButton":s.Input.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"locale":this.setProperties({locale:e.locale},!0),this.globalize=new t.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.updatePlaceHolder(),this.setValue(this.value);break;case"width":t.setStyleAttribute(this.inputWrapper.container,{width:this.setWidth(e.width)}),this.containerStyle=this.inputWrapper.container.getBoundingClientRect();break;case"format":this.setProperties({format:e.format},!0),this.setValue(this.value);break;case"value":"string"==typeof e.value?(this.setProperties({value:this.checkDateValue(new Date(e.value))},!0),e.value=this.value):e.value=this.checkDateValue(new Date(""+e.value)),this.initValue=e.value,e.value=this.compareFormatChange(this.checkValue(e.value)),this.checkValueChange(null,!1);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,s.Input.removeFloating(this.inputWrapper),s.Input.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"strictMode":e.strictMode&&this.checkErrorState(null),this.setProperties({strictMode:e.strictMode},!0),this.checkValue(this.inputElement.value),this.checkValueChange(null,!1);break;case"scrollTo":this.checkDateValue(new Date(""+e.scrollTo))?(this.popupWrapper&&this.setScrollTo(),this.setProperties({scrollTo:e.scrollTo},!0)):this.setProperties({scrollTo:null},!0)}}},pe([t.Property(null)],a.prototype,"width",void 0),pe([t.Property(null)],a.prototype,"cssClass",void 0),pe([t.Property(!1)],a.prototype,"strictMode",void 0),pe([t.Property(null)],a.prototype,"format",void 0),pe([t.Property(!0)],a.prototype,"enabled",void 0),pe([t.Property(!1)],a.prototype,"readonly",void 0),pe([t.Property("Never")],a.prototype,"floatLabelType",void 0),pe([t.Property(null)],a.prototype,"placeholder",void 0),pe([t.Property(1e3)],a.prototype,"zIndex",void 0),pe([t.Property(!1)],a.prototype,"enablePersistence",void 0),pe([t.Property(!0)],a.prototype,"showClearButton",void 0),pe([t.Property(30)],a.prototype,"step",void 0),pe([t.Property(null)],a.prototype,"scrollTo",void 0),pe([t.Property(null)],a.prototype,"value",void 0),pe([t.Property(null)],a.prototype,"min",void 0),pe([t.Property(null)],a.prototype,"max",void 0),pe([t.Property(!1)],a.prototype,"enableRtl",void 0),pe([t.Event()],a.prototype,"change",void 0),pe([t.Event()],a.prototype,"created",void 0),pe([t.Event()],a.prototype,"destroyed",void 0),pe([t.Event()],a.prototype,"open",void 0),pe([t.Event()],a.prototype,"itemRender",void 0),pe([t.Event()],a.prototype,"close",void 0),pe([t.Event()],a.prototype,"blur",void 0),pe([t.Event()],a.prototype,"focus",void 0),a=pe([t.NotifyPropertyChanges],a)}(t.Component),be=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ee=function(e,t,i,s){var a,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Ce=(new Date).getDate(),we=(new Date).getMonth(),Ne=(new Date).getFullYear(),Oe=(new Date).getHours(),Me=(new Date).getMinutes(),ke=(new Date).getSeconds(),xe=(new Date).getMilliseconds(),Ie="e-datetimepicker",Pe="e-datetimepopup-wrapper",Ue="e-input-focus",Te="e-disabled",Ve="e-active",He=n.cssClass.li,Ae=function(a){function n(e,t){var i=a.call(this,e,t)||this;return i.valueWithMinutes=null,i.previousDateTime=null,i}return be(n,a),n.prototype.focusHandler=function(){t.addClass([this.inputWrapper.container],Ue)},n.prototype.focusIn=function(){a.prototype.focusIn.call(this)},n.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),t.removeClass([this.inputWrapper.container],[Ue]))},n.prototype.blurHandler=function(e){if(this.isTimePopupOpen()&&this.isPreventBlur)this.inputElement.focus();else{t.removeClass([this.inputWrapper.container],Ue);var i={model:this};this.isTimePopupOpen()&&this.hide(e),this.trigger("blur",i)}},n.prototype.destroy=function(){this.popupObject&&this.popupObject.element.classList.contains("e-popup")&&(this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],t.isNullOrUndefined(this.rippleFn)||this.rippleFn());var e={"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false","aria-haspopup":"true","aria-activedescendant":"null",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off"};this.inputElement&&(s.Input.removeAttributes(e,this.inputElement),this.inputElement.removeAttribute("aria-placeholder")),this.isCalendar()&&(this.popupWrapper&&t.detach(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),a.prototype.destroy.call(this)},n.prototype.render=function(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,this.checkAttributes();var e={placeholder:this.placeholder};this.l10n=new t.L10n("datetimepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),a.prototype.render.call(this),this.createInputElement(),this.bindInputEvents(),this.setValue()},n.prototype.setValue=function(){if(this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){var e=this.validateMinMaxRange(this.initValue);s.Input.setValue(this.getFormattedValue(e),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:e},!0)}else t.isNullOrUndefined(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value,a.prototype.updateInput.call(this)},n.prototype.validateMinMaxRange=function(e){var t=e;return this.isDateObject(e)?t=this.validateValue(e):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(t),t},n.prototype.checkValidState=function(e){this.isValidState=!0,this.strictMode||(+e>+this.max||+e<+this.min)&&(this.isValidState=!1),this.checkErrorState()},n.prototype.checkErrorState=function(){this.isValidState?t.removeClass([this.inputWrapper.container],"e-error"):t.addClass([this.inputWrapper.container],"e-error"),t.attributes(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})},n.prototype.validateValue=function(e){var t=e;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),t=this.max):+e<+this.min?t=this.min:+e>+this.max&&(t=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),t=e),t},n.prototype.disablePopupButton=function(e){e?(t.addClass([this.inputWrapper.buttons[0],this.timeIcon],Te),this.hide()):t.removeClass([this.inputWrapper.buttons[0],this.timeIcon],Te)},n.prototype.getFormattedValue=function(e){if(t.isNullOrUndefined(e))return null;var i={format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"};return this.globalize.formatDate(e,i)},n.prototype.isDateObject=function(e){return!t.isNullOrUndefined(e)&&!isNaN(+e)},n.prototype.createInputElement=function(){t.removeClass([this.inputElement],"e-datepicker"),t.removeClass([this.inputWrapper.container],"e-date-wrapper"),t.addClass([this.inputWrapper.container],"e-datetime-wrapper"),t.addClass([this.inputElement],Ie),this.renderTimeIcon()},n.prototype.renderTimeIcon=function(){this.timeIcon=s.Input.appendSpan("e-input-group-icon e-time-icon e-icons",this.inputWrapper.container)},n.prototype.bindInputEvents=function(){t.EventHandler.add(this.timeIcon,"mousedown touchstart",this.timeHandler,this),t.EventHandler.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler,this),t.EventHandler.add(this.inputElement,"blur",this.blurHandler,this),t.EventHandler.add(this.inputElement,"focus",this.focusHandler,this),this.keyboardHandler=new t.KeyboardEvents(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.keyConfigs})},n.prototype.unBindInputEvents=function(){t.EventHandler.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),t.EventHandler.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&(t.EventHandler.remove(this.inputElement,"blur",this.blurHandler),t.EventHandler.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()},n.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?t.getValue("timeFormats.short",t.getDefaultDateObject()):this.getCultureTimeObject(t.cldrData,""+this.locale):this.timeFormat},n.prototype.cldrDateTimeFormat=function(){var e=new t.Internationalization(this.locale).getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.format)?e+" "+this.getCldrFormat("time"):this.format},n.prototype.getCldrFormat=function(e){return"en"===this.locale||"en-US"===this.locale?t.getValue("timeFormats.short",t.getDefaultDateObject()):this.getCultureTimeObject(t.cldrData,""+this.locale)},n.prototype.isNullOrEmpty=function(e){return!!(t.isNullOrUndefined(e)||"string"==typeof e&&""===e.trim())},n.prototype.getCultureTimeObject=function(e,i){return t.getValue("main."+this.locale+".dates.calendars.gregorian.timeFormats.short",e)},n.prototype.timeHandler=function(e){e.currentTarget===this.timeIcon&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&a.prototype.hide.call(this,e),this.isTimePopupOpen()?this.closePopup(e):(t.Browser.isDevice||this.inputElement.focus(),this.popupCreation("time",e))),t.addClass([this.inputWrapper.container],[Ue])},n.prototype.dateHandler=function(e){e.currentTarget===this.inputWrapper.buttons[0]&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(e),t.isNullOrUndefined(this.popupWrapper)||this.popupCreation("date",e))},n.prototype.show=function(e,t){this.enabled&&this.readonly||!this.enabled||("time"!==e||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(t),a.prototype.show.call(this),this.popupCreation("date",t)):(this.isDatePopupOpen()&&this.hide(t),this.popupCreation("time",t)))},n.prototype.toggle=function(e){this.isDatePopupOpen()?(a.prototype.hide.call(this,e),this.show("time",null)):this.isTimePopupOpen()?(this.hide(e),a.prototype.show.call(this,null,e),this.popupCreation("date",null)):this.show(null,e)},n.prototype.listCreation=function(){var i=t.isNullOrUndefined(this.value)?""!==this.inputElement.value?this.globalize.parseDate(this.inputElement.value,{format:this.cldrDateTimeFormat(),type:"datetime"}):new Date:this.value;this.valueWithMinutes=i,this.listWrapper=t.createElement("div",{className:"e-content",attrs:{tabindex:"0"}});var s=this.startTime(i),a=this.endTime(i),n=e.TimePickerBase.createListItems(s,a,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=n.collection,this.listTag=n.list,t.attributes(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),t.append([n.list],this.listWrapper),this.wireTimeListEvents();var r={duration:300,selector:"."+He};this.rippleFn=t.rippleEffect(this.listWrapper,r),this.liCollections=this.listWrapper.querySelectorAll("."+He)},n.prototype.popupCreation=function(e,i){"date"===e?!this.readonly&&this.popupWrapper&&(t.addClass([this.popupWrapper],Pe),t.attributes(this.popupWrapper,{id:this.element.id+"_datepopup"})):this.readonly||(this.dateTimeWrapper=t.createElement("div",{className:Ie+" e-popup",attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),t.isNullOrUndefined(this.cssClass)||this.dateTimeWrapper.classList.add(this.cssClass),!t.isNullOrUndefined(this.step)&&this.step>0&&(this.listCreation(),t.append([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(i),this.popupObject.refreshPosition(this.inputElement))},n.prototype.openPopup=function(e){if(this.preventArgs={cancel:!1,popup:this.popupObject,e:e||null},this.trigger("open",this.preventArgs),!this.preventArgs.cancel&&!this.readonly){var i={name:"FadeIn",duration:100};this.popupObject.show(new t.Animation(i)),t.addClass([this.inputWrapper.container],["e-icon-anim"]),t.attributes(this.inputElement,{"aria-expanded":"true"}),t.EventHandler.add(document,"mousedown touchstart",this.documentClickHandler,this)}},n.prototype.documentClickHandler=function(e){t.Browser.isDevice||e.preventDefault();var i=e.target;t.closest(i,"#"+(this.popupObject&&this.popupObject.element.id))||i===this.inputElement||i===this.timeIcon||i===this.inputWrapper.container?i!==this.inputElement&&(t.Browser.isDevice||(this.isPreventBlur=(t.Browser.isIE||"edge"===t.Browser.info.name)&&document.activeElement===this.inputElement,e.preventDefault())):this.isTimePopupOpen()&&this.hide(e)},n.prototype.isTimePopupOpen=function(){return!(!this.dateTimeWrapper||!this.dateTimeWrapper.classList.contains(""+Ie))},n.prototype.isDatePopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+Pe))},n.prototype.renderPopup=function(){var e=this;this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),t.Browser.isDevice&&(this.timeModal=t.createElement("div"),this.timeModal.className=Ie+" e-time-modal",document.body.className+=" e-time-overflow",this.timeModal.style.display="block",document.body.appendChild(this.timeModal));this.popupObject=new i.Popup(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:t.Browser.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:t.Browser.isDevice?document.body:this.inputWrapper.container,position:t.Browser.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:4,open:function(){e.dateTimeWrapper.style.visibility="visible",t.addClass([e.timeIcon],Ve),t.Browser.isDevice||(e.inputEvent=new t.KeyboardEvents(e.inputWrapper.container,{keyAction:e.TimeKeyActionHandle.bind(e),keyConfigs:e.timekeyConfigure,eventName:"keydown"}))},close:function(){t.removeClass([e.timeIcon],Ve),e.unWireTimeListEvents(),e.inputElement.setAttribute("aria-activedescendant","null"),t.remove(e.popupObject.element),e.popupObject.destroy(),e.dateTimeWrapper.innerHTML="",e.listWrapper=e.dateTimeWrapper=void 0,e.inputEvent&&e.inputEvent.destroy()}}),this.popupObject.element.style.maxHeight="250px"},n.prototype.setDimension=function(e){return e="number"==typeof e?t.formatUnit(e):"string"==typeof e?e:"100%"},n.prototype.setPopupWidth=function(){var e=this.setDimension(this.width);if(e.indexOf("%")>-1){e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"}return e},n.prototype.wireTimeListEvents=function(){t.EventHandler.add(this.listWrapper,"click",this.onMouseClick,this),t.Browser.isDevice||(t.EventHandler.add(this.listWrapper,"mouseover",this.onMouseOver,this),t.EventHandler.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},n.prototype.unWireTimeListEvents=function(){this.listWrapper&&(t.EventHandler.remove(this.listWrapper,"click",this.onMouseClick),t.EventHandler.remove(document,"mousedown touchstart",this.documentClickHandler),t.Browser.isDevice||(t.EventHandler.add(this.listWrapper,"mouseover",this.onMouseOver,this),t.EventHandler.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))},n.prototype.onMouseOver=function(e){var i=t.closest(e.target,"."+He);this.setTimeHover(i,"e-hover")},n.prototype.onMouseLeave=function(){this.removeTimeHover("e-hover")},n.prototype.setTimeHover=function(e,i){this.enabled&&this.isValidLI(e)&&!e.classList.contains(i)&&(this.removeTimeHover(i),t.addClass([e],i))},n.prototype.getPopupHeight=function(){var e=parseInt("250px",10),t=this.dateTimeWrapper.getBoundingClientRect().height;return t>e?e:t},n.prototype.changeEvent=function(e){+this.previousDateTime!=+this.value&&(a.prototype.changeEvent.call(this,e),t.Browser.isDevice||this.inputElement.focus(),this.valueWithMinutes=this.value,this.setInputValue("date"))},n.prototype.updateValue=function(e){this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,e:e||null,isInteracted:!t.isNullOrUndefined(e),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.value)},n.prototype.setTimeScrollPosition=function(){var e,i=this.getPopupHeight();if(e=this.selectedElement,!t.isNullOrUndefined(e)){var s=e.nextElementSibling,a=s?s.offsetTop:e.offsetTop,n=e.getBoundingClientRect().height;a+e.offsetTop>i?this.dateTimeWrapper.scrollTop=s?a-(i/2+n/2):a:this.dateTimeWrapper.scrollTop=0}},n.prototype.setInputValue=function(e){if("date"===e)this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{var t=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));s.Input.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0)}},n.prototype.getFullDateTime=function(){var e=null;return e=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate,this.validateMinMaxRange(e)},n.prototype.combineDateTime=function(e){if(this.isDateObject(e)){var t=this.previousDate.getDate(),i=this.previousDate.getMonth(),s=this.previousDate.getFullYear(),a=e.getHours(),n=e.getMinutes(),r=e.getSeconds();return new Date(s,i,t,a,n,r)}return this.previousDate},n.prototype.onMouseClick=function(e){var i=e.target,s=this.selectedElement=t.closest(i,"."+He);s&&s.classList.contains(He)&&(this.timeValue=s.getAttribute("data-value"),this.hide(e)),this.setSelection(s,e)},n.prototype.setSelection=function(e,i){if(this.isValidLI(e)&&!e.classList.contains(Ve)){e.getAttribute("data-value");this.selectedElement=e;var s=Array.prototype.slice.call(this.liCollections).indexOf(e);this.activeIndex=s,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),t.addClass([this.selectedElement],Ve),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(i)}},n.prototype.setTimeActiveClass=function(){var e=t.isNullOrUndefined(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!t.isNullOrUndefined(e)){var i=e.querySelectorAll("."+He);if(i.length)for(var s=0;s<i.length;s++)if(this.timeCollections[s]===+this.valueWithMinutes){i[s].setAttribute("aria-selected","true"),this.selectedElement=i[s],this.activeIndex=s,this.setTimeActiveDescendant();break}}},n.prototype.setTimeActiveDescendant=function(){t.isNullOrUndefined(this.selectedElement)?t.attributes(this.inputElement,{"aria-activedescendant":"null"}):t.attributes(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})},n.prototype.addTimeSelection=function(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),t.isNullOrUndefined(this.selectedElement)||(t.addClass([this.selectedElement],Ve),this.selectedElement.setAttribute("aria-selected","true"))},n.prototype.removeTimeSelection=function(){if(this.removeTimeHover("e-hover"),!t.isNullOrUndefined(this.dateTimeWrapper)){var e=this.dateTimeWrapper.querySelectorAll("."+Ve);e.length&&(t.removeClass(e,Ve),e[0].removeAttribute("aria-selected"))}},n.prototype.removeTimeHover=function(e){var i=this.getTimeHoverItem(e);i&&i.length&&t.removeClass(i,e)},n.prototype.getTimeHoverItem=function(e){var i,s=t.isNullOrUndefined(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;return t.isNullOrUndefined(s)||(i=s.querySelectorAll("."+e)),i},n.prototype.isValidLI=function(e){return e&&e.classList.contains(He)&&!e.classList.contains(Te)},n.prototype.calculateStartEnd=function(e,t,i){var s=e.getDate(),a=e.getMonth(),n=e.getFullYear(),r=e.getHours(),l=e.getMinutes(),o=e.getSeconds(),h=e.getMilliseconds();return t?"starttime"===i?new Date(n,a,s,0,0,0):new Date(n,a,s,23,59,59):new Date(n,a,s,r,l,o,h)},n.prototype.startTime=function(e){var t,i,s,a=this.min;return+(s=null===e?new Date:e).getDate()==+a.getDate()&&+s.getMonth()==+a.getMonth()&&+s.getFullYear()==+a.getFullYear()||+new Date(s.getFullYear(),s.getMonth(),s.getDate())<=+new Date(a.getFullYear(),a.getMonth(),a.getDate())?(i=!1,t=this.min):+s<+this.max&&+s>+this.min?(i=!0,t=s):+s>=+this.max&&(i=!0,t=this.max),this.calculateStartEnd(t,i,"starttime")},n.prototype.endTime=function(e){var t,i,s,a=this.max;return+(s=null===e?new Date:e).getDate()==+a.getDate()&&+s.getMonth()==+a.getMonth()&&+s.getFullYear()==+a.getFullYear()||+new Date(s.getUTCFullYear(),s.getMonth(),s.getDate())>=+new Date(a.getFullYear(),a.getMonth(),a.getDate())?(i=!1,t=this.max):+s<+this.max&&+s>+this.min?(i=!0,t=s):+s<=+this.min&&(i=!0,t=this.min),this.calculateStartEnd(t,i,"endtime")},n.prototype.hide=function(e){(this.popupObj||this.dateTimeWrapper)&&(this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,e:e||null},t.isNullOrUndefined(this.popupObj)&&this.trigger("close",this.preventArgs),this.preventArgs.cancel||(this.isDatePopupOpen()?a.prototype.hide.call(this,e):this.isTimePopupOpen()&&(this.closePopup(e),t.removeClass([document.body],"e-time-overflow"),t.Browser.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant())))},n.prototype.closePopup=function(e){if(this.isTimePopupOpen()&&this.popupObject){var i={name:"FadeOut",duration:100,delay:0};this.popupObject.hide(new t.Animation(i)),this.inputWrapper.container.classList.remove("e-icon-anim"),t.attributes(this.inputElement,{"aria-expanded":"false"}),t.EventHandler.remove(document,"mousedown touchstart",this.documentClickHandler)}t.Browser.isDevice&&t.removeClass([this.inputWrapper.container],Ue)},n.prototype.preRender=function(){a.prototype.preRender.call(this)},n.prototype.getProperty=function(e,t){"min"===t?this.setProperties({min:this.validateValue(e.min)},!0):this.setProperties({max:this.validateValue(e.max)},!0)},n.prototype.checkAttributes=function(){for(var e,i=0,s=["style","name","step","disabled","readonly","value","min","max","placeholder","type"];i<s.length;i++){var a=s[i];if(!t.isNullOrUndefined(this.inputElement.getAttribute(a)))switch(a){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(a));break;case"step":this.step=parseInt(this.inputElement.getAttribute(a),10);break;case"readonly":var n=!t.isNullOrUndefined(this.inputElement.getAttribute(a));this.setProperties({readonly:n},!0);break;case"placeholder":this.placeholder=this.inputElement.getAttribute(a);break;case"min":e=new Date(this.inputElement.getAttribute(a)),this.isNullOrEmpty(e)||isNaN(+e)||this.setProperties({min:e},!0);break;case"disabled":var r=t.isNullOrUndefined(this.inputElement.getAttribute(a));this.setProperties({enabled:r},!0);break;case"max":e=new Date(this.inputElement.getAttribute(a)),this.isNullOrEmpty(e)||isNaN(+e)||this.setProperties({max:e},!0)}}},n.prototype.getTimeActiveElement=function(){return t.isNullOrUndefined(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll("."+Ve)},n.prototype.createDateObj=function(e){return e instanceof Date?e:null},n.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var i=this.createDateObj(e),s=this.valueWithMinutes,a=!t.isNullOrUndefined(s);if(this.checkDateValue(i)){var n=a?s.getDate():Ce,r=a?s.getMonth():we,l=a?s.getFullYear():Ne,o=a?s.getHours():Oe,h=a?s.getMinutes():Me,p=a?s.getSeconds():ke,u=a?s.getMilliseconds():xe;return new Date(l,r,n,o,h,p,u)}}return null},n.prototype.findNextTimeElement=function(e){var i=this.inputElement.value,s=t.isNullOrUndefined(this.valueWithMinutes)?this.createDateObj(i):this.getDateObject(this.valueWithMinutes),a=null,n=this.liCollections.length;if(!t.isNullOrUndefined(this.checkDateValue(s))||!t.isNullOrUndefined(this.activeIndex)){if("home"===e.action)a=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===e.action)a=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===e.action){for(var r=0;r<n;r++)if(+s<this.timeCollections[r]){a=+this.createDateObj(new Date(this.timeCollections[r])),this.activeIndex=r;break}}else for(r=n-1;r>=0;r--)if(+s>this.timeCollections[r]){a=+this.createDateObj(new Date(this.timeCollections[r])),this.activeIndex=r;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(t.isNullOrUndefined(a)?null:new Date(a))}},n.prototype.setTimeValue=function(e,i){var a,n=this.validateMinMaxRange(i),r=this.createDateObj(n);this.getFormattedValue(r)!==(t.isNullOrUndefined(this.value)?null:this.getFormattedValue(this.value))?(this.valueWithMinutes=t.isNullOrUndefined(r)?null:r,a=new Date(+this.valueWithMinutes)):(this.strictMode&&(e=r),this.valueWithMinutes=this.checkDateValue(e),a=new Date(+this.valueWithMinutes));var l=this.globalize.formatDate(a,{format:t.isNullOrUndefined(this.format)?this.cldrDateTimeFormat():this.format,type:"dateTime",skeleton:"yMd"});return!this.strictMode&&t.isNullOrUndefined(a),s.Input.setValue(l,this.inputElement,this.floatLabelType,this.showClearButton),a},n.prototype.timeElementValue=function(e){if(!t.isNullOrUndefined(this.checkDateValue(e))&&!this.isNullOrEmpty(e)){var i=e instanceof Date?e:this.getDateObject(e);return this.setTimeValue(i,e)}return null},n.prototype.timeKeyHandler=function(e){if(!(t.isNullOrUndefined(this.step)||this.step<=0)){var i=this.timeCollections.length;if(t.isNullOrUndefined(this.getTimeActiveElement())||0===this.getTimeActiveElement().length)this.liCollections.length>0&&(t.isNullOrUndefined(this.value)&&t.isNullOrUndefined(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(e));else{var s=void 0;if(e.keyCode>=37&&e.keyCode<=40){var a=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=a=this.activeIndex===i?0:this.activeIndex,this.activeIndex=a=this.activeIndex<0?i-1:this.activeIndex,s=t.isNullOrUndefined(this.timeCollections[a])?this.timeCollections[0]:this.timeCollections[a]}else"home"===e.action?(this.activeIndex=0,s=this.timeCollections[0]):"end"===e.action&&(this.activeIndex=i-1,s=this.timeCollections[i-1]);this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(s))}this.isNavigate=!0,this.setTimeHover(this.selectedElement,"e-navigation"),this.setTimeActiveDescendant(),!this.isTimePopupOpen()||null===this.selectedElement||e&&"click"===e.type||this.setTimeScrollPosition()}},n.prototype.TimeKeyActionHandle=function(e){if(this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(e),this.hide(e),t.addClass([this.inputWrapper.container],Ue),this.isNavigate=!1;break;case"escape":this.hide(e);break;default:this.isNavigate=!1}},n.prototype.inputKeyAction=function(e){switch(e.action){case"altDownArrow":this.strictModeUpdate(),this.updateInput(),this.toggle(e)}},n.prototype.onPropertyChanged=function(e,i){for(var n=0,r=Object.keys(e);n<r.length;n++){var l=r[n];switch(l){case"value":var o={format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"};"string"==typeof e.value&&(this.setProperties({value:this.globalize.parseDate(e.value,o)},!0),e.value=this.globalize.parseDate(e.value,o)),e.value=this.validateValue(e.value),s.Input.setValue(this.getFormattedValue(e.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=e.value,this.setProperties({value:e.value},!0),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null);break;case"min":case"max":this.getProperty(e,l),this.updateInput();break;case"enableRtl":s.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":s.Input.setCssClass(e.cssClass,[this.inputWrapper.container]),this.dateTimeWrapper&&t.addClass([this.dateTimeWrapper],[e.cssClass]);break;case"locale":this.globalize=new t.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),s.Input.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement),this.dateTimeFormat=this.cldrDateTimeFormat(),a.prototype.updateInput.call(this);break;case"format":this.setProperties({format:e.format},!0),this.setValue();break;case"placeholder":s.Input.setPlaceholder(e.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",e.placeholder);break;case"enabled":s.Input.setEnabled(this.enabled,this.inputElement),this.bindEvents();break;case"strictMode":this.updateInput();break;case"width":this.setWidth(e.width);break;case"readonly":s.Input.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,s.Input.removeFloating(this.inputWrapper),s.Input.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;default:a.prototype.onPropertyChanged.call(this,e,i)}this.hide(null)}},n.prototype.getModuleName=function(){return"datetimepicker"},Ee([t.Property(null)],n.prototype,"timeFormat",void 0),Ee([t.Property(30)],n.prototype,"step",void 0),Ee([t.Property(1e3)],n.prototype,"zIndex",void 0),Ee([t.Property(!1)],n.prototype,"enablePersistence",void 0),Ee([t.Property(!0)],n.prototype,"showClearButton",void 0),Ee([t.Property(null)],n.prototype,"placeholder",void 0),Ee([t.Property(!1)],n.prototype,"strictMode",void 0),Ee([t.Event()],n.prototype,"open",void 0),Ee([t.Event()],n.prototype,"close",void 0),Ee([t.Event()],n.prototype,"blur",void 0),Ee([t.Event()],n.prototype,"focus",void 0),Ee([t.Event()],n.prototype,"created",void 0),Ee([t.Event()],n.prototype,"destroyed",void 0),n=Ee([t.NotifyPropertyChanges],n)}(k);e.CalendarBase=g,e.Calendar=D,e.DatePicker=k,e.Presets=le,e.DateRangePicker=oe,e.TimePicker=De,e.DateTimePicker=Ae,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ej2-calendars.umd.min.js.map
