/*!
*  filename: ej2-file-utils.umd.min.js
*  version : 16.1.37
*  Copyright Syncfusion Inc. 2001 - 2018. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
/*!
*  filename: ej2-file-utils.umd.min.js
*  version : 16.1.32
*  Copyright Syncfusion Inc. 2001 - 2018. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.ej={})}(this,function(e){"use strict";function t(e,t){if(null===e||void 0===e)throw new Error("ArgumentException: "+t+" cannot be null or undefined")}var n=function(){function e(e){this.emitBOM=!0,this.encodingType="Ansi",this.initBOM(e)}return Object.defineProperty(e.prototype,"includeBom",{get:function(){return this.emitBOM},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.encodingType},set:function(e){this.encodingType=e},enumerable:!0,configurable:!0}),e.prototype.initBOM=function(e){this.emitBOM=void 0===e||null===e||e},e.prototype.getByteCount=function(e){if(t(e,"string"),""===e){return this.utf8Len(e.charCodeAt(0))}return null!==this.type&&void 0!==this.type||(this.type="Ansi"),this.getByteCountInternal(e,0,e.length)},e.prototype.utf8Len=function(e){return e<=127?1:e<=2047?2:e<=65535?3:e<=2097151?4:0},e.prototype.isHighSurrogate=function(e){return e>=55296&&e<=56319},e.prototype.toCodepoint=function(e,t){return((e=(1023&e)<<10)|1023&t)+65536},e.prototype.getByteCountInternal=function(e,t,n){var r=0;if("Utf8"===this.encodingType||"Unicode"===this.encodingType){for(var i="Utf8"===this.encodingType,o=0;o<n;o++){var f=e.charCodeAt(i?t:t++);if(this.isHighSurrogate(f))if(i){var s=f,u=e.charCodeAt(++t);r+=this.utf8Len(this.toCodepoint(s,u))}else r+=4,++o;else r+=i?this.utf8Len(f):2;i&&t++}return r}return r=n},e.prototype.getBytes=function(e,n,r){if(t(e,"string"),t(n,"charIndex"),t(r,"charCount"),n<0||r<0)throw new RangeError("Argument Out Of Range Exception: charIndex or charCount is less than zero");if(e.length-n<r)throw new RangeError("Argument Out Of Range Exception: charIndex and charCount do not denote a valid range in string");if(""===e)return new ArrayBuffer(0);null!==this.type&&void 0!==this.type||(this.type="Ansi");var i=this.getByteCountInternal(e,n,r);switch(this.type){case"Utf8":return this.getBytesOfUtf8Encoding(i,e,n,r);case"Unicode":return this.getBytesOfUnicodeEncoding(i,e,n,r);default:return this.getBytesOfAnsiEncoding(i,e,n,r)}},e.prototype.getString=function(e,n,r){if(t(e,"bytes"),t(n,"index"),t(r,"count"),n<0||r<0)throw new RangeError("Argument Out Of Range Exception: index or count is less than zero");if(e.byteLength-n<r)throw new RangeError("Argument Out Of Range Exception: index and count do not denote a valid range in bytes");if(0===e.byteLength||0===r)return"";null!==this.type&&void 0!==this.type||(this.type="Ansi");var i="",o=new Uint8Array(e);switch(this.type){case"Utf8":return this.getStringOfUtf8Encoding(o,n,r);case"Unicode":var f=new Uint16Array(e);return i=this.getStringofUnicodeEncoding(f,n,r);default:for(var s=n,u=0;u<r;u++){var c=o[s];i+=String.fromCharCode(c),s++}return i}},e.prototype.getBytesOfAnsiEncoding=function(e,t,n,r){for(var i=new ArrayBuffer(e),o=new Uint8Array(i),f=0,s=0;s<r;s++){var u=t.charCodeAt(n++);o[f]=u<2048?u:63,f++}return i},e.prototype.getBytesOfUtf8Encoding=function(e,t,n,r){for(var i=new ArrayBuffer(e),o=new Uint8Array(i),f=n,s=0,u=0;u<r;u++){var c=t.charCodeAt(f);c<=127?o[s]=c:c<2048?(o[s]=192|c>>6,o[++s]=128|63&c):c<55296||c>=57344?(o[s]=224|c>>12,o[++s]=128|c>>6&63,o[++s]=128|63&c):(o[s]=239,o[++s]=191,o[++s]=189),++s,++f}return i},e.prototype.getBytesOfUnicodeEncoding=function(e,t,n,r){for(var i=new ArrayBuffer(e),o=new Uint16Array(i),f=0;f<r;f++){var s=t.charCodeAt(f);o[f]=s}return i},e.prototype.getStringOfUtf8Encoding=function(e,t,n){for(var r=0,i=t,o="";r<n;r++){for(var f=e[i++];i>e.length;)return o;f>127&&(f>191&&f<224&&i<n?f=(31&f)<<6|63&e[i]:f>223&&f<240&&i<e.byteLength?f=(15&f)<<12|(63&e[i])<<6|63&e[++i]:f>239&&f<248&&i<e.byteLength&&(f=(7&f)<<18|(63&e[i])<<12|(63&e[++i])<<6|63&e[++i]),++i),o+=String.fromCharCode(f)}return o},e.prototype.getStringofUnicodeEncoding=function(e,t,n){if(n>e.length)throw new RangeError("ArgumentOutOfRange_Count");for(var r=new Uint16Array(n),i=0;i<n&&i<e.length;i++)r[i]=e[t++];return String.fromCharCode.apply(null,r)},e.prototype.destroy=function(){this.emitBOM=void 0,this.encodingType=void 0},e}(),r=function(){function e(){}return e.save=function(e,t){if(null===e||void 0===e||""===e)throw new Error("ArgumentException: fileName cannot be undefined, null or empty");var n=e.substring(e.lastIndexOf(".")+1,e.length),r=this.getMimeType(n);if(""!==r&&(t=new Blob([t],{type:r})),this.isMicrosoftBrowser)navigator.msSaveBlob(t,e);else{var i=document.createElementNS("http://www.w3.org/1999/xhtml","a");this.saveInternal(e,n,t,i,"download"in i)}},e.saveInternal=function(e,t,n,r,i){if(i){r.download=e;var o=window.URL.createObjectURL(n);r.href=o;var f=document.createEvent("MouseEvent");f.initEvent("click",!0,!0),r.dispatchEvent(f),setTimeout(function(){window.URL.revokeObjectURL(o),o=void 0})}else if("docx"!==t&&"xlsx"!==t){var s=window.URL.createObjectURL(n);window.open(s,"_blank")||(window.location.href=s)}else{var u=new FileReader;u.onloadend=function(){window.open(u.result,"_blank")||(window.location.href=u.result)},u.readAsDataURL(n)}},e.getMimeType=function(e){var t="";switch(e){case"html":t="text/html";break;case"pdf":t="application/pdf";break;case"docx":t="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case"xlsx":t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case"txt":t="text/plain"}return t},e}(),i=function(){function e(e){this.bufferBlob=new Blob([""]),this.bufferText="",this.init(e),r.isMicrosoftBrowser=!!navigator.msSaveBlob}return Object.defineProperty(e.prototype,"buffer",{get:function(){return this.flush(),this.bufferBlob},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encoding",{get:function(){return this.enc},enumerable:!0,configurable:!0}),e.prototype.init=function(e){null===e||void 0===e?(this.enc=new n(!1),this.enc.type="Utf8"):(this.enc=e,this.setBomByte())},e.prototype.setBomByte=function(){if(this.encoding.includeBom)switch(this.encoding.type){case"Unicode":var e=new ArrayBuffer(2),t=new Uint8Array(e);t[0]=255,t[1]=254,this.bufferBlob=new Blob([e]);break;case"Utf8":var n=new ArrayBuffer(3),r=new Uint8Array(n);r[0]=239,r[1]=187,r[2]=191,this.bufferBlob=new Blob([n]);break;default:this.bufferBlob=new Blob([""])}},e.prototype.save=function(e){""!==this.bufferText&&this.flush(),r.save(e,this.buffer)},e.prototype.write=function(e){if(void 0===this.encoding)throw new Error("Object Disposed Exception: current writer is disposed");t(e,"string"),this.bufferText+=e,this.bufferText.length>=10240&&this.flush()},e.prototype.flush=function(){if(void 0!==this.bufferText&&null!==this.bufferText&&0!==this.bufferText.length){var e=this.encoding.getBytes(this.bufferText,0,this.bufferText.length);this.bufferText="",this.bufferBlob=new Blob([this.bufferBlob,e])}},e.prototype.writeLine=function(e){if(void 0===this.encoding)throw new Error("Object Disposed Exception: current writer is disposed");t(e,"string"),this.bufferText=this.bufferText+e+"\r\n",this.bufferText.length>=10240&&this.flush()},e.prototype.destroy=function(){this.bufferBlob=void 0,this.bufferText=void 0,this.enc instanceof n&&this.enc.destroy(),this.enc=void 0},e}();e.StreamWriter=i,e.Encoding=n,e.validateNullOrUndefined=t,e.Save=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ej2-file-utils.umd.min.js.map
